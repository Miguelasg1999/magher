(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(vn,_t,L)=>{"use strict";L.d(_t,{Am:()=>Kn,Bd:()=>Pe,FA:()=>tt,Fy:()=>rt,I9:()=>Tn,Im:()=>Me,Ku:()=>en,Ll:()=>He,T9:()=>pe,Uj:()=>Ke,XA:()=>ve,ZQ:()=>Ye,bD:()=>Pt,c1:()=>zt,cY:()=>Re,eX:()=>Ae,g:()=>Ne,gR:()=>Nn,hp:()=>gn,jZ:()=>bt,lT:()=>kt,lV:()=>Jt,mS:()=>$e,nr:()=>_e,p7:()=>Lt,sr:()=>cn,tD:()=>Qn,u:()=>Ce,zW:()=>Y,zw:()=>Ve});const ee=function(ye){const Se=[];let Qe=0;for(let St=0;St<ye.length;St++){let mt=ye.charCodeAt(St);mt<128?Se[Qe++]=mt:mt<2048?(Se[Qe++]=mt>>6|192,Se[Qe++]=63&mt|128):55296==(64512&mt)&&St+1<ye.length&&56320==(64512&ye.charCodeAt(St+1))?(mt=65536+((1023&mt)<<10)+(1023&ye.charCodeAt(++St)),Se[Qe++]=mt>>18|240,Se[Qe++]=mt>>12&63|128,Se[Qe++]=mt>>6&63|128,Se[Qe++]=63&mt|128):(Se[Qe++]=mt>>12|224,Se[Qe++]=mt>>6&63|128,Se[Qe++]=63&mt|128)}return Se},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,Se){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Qe=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,St=[];for(let mt=0;mt<ye.length;mt+=3){const yn=ye[mt],Dn=mt+1<ye.length,gr=Dn?ye[mt+1]:0,Hr=mt+2<ye.length,at=Hr?ye[mt+2]:0;let zr=(15&gr)<<2|at>>6,Br=63&at;Hr||(Br=64,Dn||(zr=64)),St.push(Qe[yn>>2],Qe[(3&yn)<<4|gr>>4],Qe[zr],Qe[Br])}return St.join("")},encodeString(ye,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(ye):this.encodeByteArray(ee(ye),Se)},decodeString(ye,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(ye):function(ye){const Se=[];let Qe=0,St=0;for(;Qe<ye.length;){const mt=ye[Qe++];if(mt<128)Se[St++]=String.fromCharCode(mt);else if(mt>191&&mt<224){const yn=ye[Qe++];Se[St++]=String.fromCharCode((31&mt)<<6|63&yn)}else if(mt>239&&mt<365){const Hr=((7&mt)<<18|(63&ye[Qe++])<<12|(63&ye[Qe++])<<6|63&ye[Qe++])-65536;Se[St++]=String.fromCharCode(55296+(Hr>>10)),Se[St++]=String.fromCharCode(56320+(1023&Hr))}else{const yn=ye[Qe++],Dn=ye[Qe++];Se[St++]=String.fromCharCode((15&mt)<<12|(63&yn)<<6|63&Dn)}}return Se.join("")}(this.decodeStringToByteArray(ye,Se))},decodeStringToByteArray(ye,Se){this.init_();const Qe=Se?this.charToByteMapWebSafe_:this.charToByteMap_,St=[];for(let mt=0;mt<ye.length;){const yn=Qe[ye.charAt(mt++)],gr=mt<ye.length?Qe[ye.charAt(mt)]:0;++mt;const at=mt<ye.length?Qe[ye.charAt(mt)]:64;++mt;const xn=mt<ye.length?Qe[ye.charAt(mt)]:64;if(++mt,null==yn||null==gr||null==at||null==xn)throw new De;St.push(yn<<2|gr>>4),64!==at&&(St.push(gr<<4&240|at>>2),64!==xn&&St.push(at<<6&192|xn))}return St},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}};class De extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ke=function(ye){return function(ye){const Se=ee(ye);return de.encodeByteArray(Se,!0)}(ye).replace(/\./g,"")},Ce=function(ye){try{return de.decodeString(ye,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function Ve(ye,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return Se}for(const Qe in Se)!Se.hasOwnProperty(Qe)||!ze(Qe)||(ye[Qe]=Ve(ye[Qe],Se[Qe]));return ye}function ze(ye){return"__proto__"!==ye}function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const je=()=>{try{return $e().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Se=ye&&Ce(ye[1]);return Se&&JSON.parse(Se)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},pe=()=>{var ye;return null===(ye=je())||void 0===ye?void 0:ye.config},ve=ye=>{var Se;return null===(Se=je())||void 0===Se?void 0:Se[`_${ye}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,Qe)=>{this.resolve=Se,this.reject=Qe})}wrapCallback(Se){return(Qe,St)=>{Qe?this.reject(Qe):this.resolve(St),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(Qe):Se(Qe,St))}}}function rt(ye,Se){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const St=Se||"demo-project",mt=ye.iat||0,yn=ye.sub||ye.user_id;if(!yn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dn=Object.assign({iss:`https://securetoken.google.com/${St}`,aud:St,iat:mt,exp:mt+3600,auth_time:mt,sub:yn,user_id:yn,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(Dn)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function He(){var ye;const Se=null===(ye=je())||void 0===ye?void 0:ye.forceEnvironment;if("node"===Se)return!0;if("browser"===Se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pe(){return typeof window<"u"||Lt()}function Lt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function zt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function cn(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function kt(){const ye=Ye();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function _e(){return!He()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){try{return"object"==typeof indexedDB}catch{return!1}}function Ae(){return new Promise((ye,Se)=>{try{let Qe=!0;const St="validate-browser-context-for-indexeddb-analytics-module",mt=self.indexedDB.open(St);mt.onsuccess=()=>{mt.result.close(),Qe||self.indexedDB.deleteDatabase(St),ye(!0)},mt.onupgradeneeded=()=>{Qe=!1},mt.onerror=()=>{var yn;Se((null===(yn=mt.error)||void 0===yn?void 0:yn.message)||"")}}catch(Qe){Se(Qe)}})}class Ne extends Error{constructor(Se,Qe,St){super(Qe),this.code=Se,this.customData=St,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(Se,Qe,St){this.service=Se,this.serviceName=Qe,this.errors=St}create(Se,...Qe){const St=Qe[0]||{},mt=`${this.service}/${Se}`,yn=this.errors[Se],Dn=yn?function ot(ye,Se){return ye.replace(Mt,(Qe,St)=>{const mt=Se[St];return null!=mt?String(mt):`<${St}?>`})}(yn,St):"Error";return new Ne(mt,`${this.serviceName}: ${Dn} (${mt}).`,St)}}const Mt=/\{\$([^}]+)}/g;function Nn(ye,Se){return Object.prototype.hasOwnProperty.call(ye,Se)}function Me(ye){for(const Se in ye)if(Object.prototype.hasOwnProperty.call(ye,Se))return!1;return!0}function Pt(ye,Se){if(ye===Se)return!0;const Qe=Object.keys(ye),St=Object.keys(Se);for(const mt of Qe){if(!St.includes(mt))return!1;const yn=ye[mt],Dn=Se[mt];if(yt(yn)&&yt(Dn)){if(!Pt(yn,Dn))return!1}else if(yn!==Dn)return!1}for(const mt of St)if(!Qe.includes(mt))return!1;return!0}function yt(ye){return null!==ye&&"object"==typeof ye}function Kn(ye){const Se=[];for(const[Qe,St]of Object.entries(ye))Array.isArray(St)?St.forEach(mt=>{Se.push(encodeURIComponent(Qe)+"="+encodeURIComponent(mt))}):Se.push(encodeURIComponent(Qe)+"="+encodeURIComponent(St));return Se.length?"&"+Se.join("&"):""}function Tn(ye){const Se={};return ye.replace(/^\?/,"").split("&").forEach(St=>{if(St){const[mt,yn]=St.split("=");Se[decodeURIComponent(mt)]=decodeURIComponent(yn)}}),Se}function gn(ye){const Se=ye.indexOf("?");if(!Se)return"";const Qe=ye.indexOf("#",Se);return ye.substring(Se,Qe>0?Qe:void 0)}function Qn(ye,Se){const Qe=new Gn(ye,Se);return Qe.subscribe.bind(Qe)}class Gn{constructor(Se,Qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Qe,this.task.then(()=>{Se(this)}).catch(St=>{this.error(St)})}next(Se){this.forEachObserver(Qe=>{Qe.next(Se)})}error(Se){this.forEachObserver(Qe=>{Qe.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,Qe,St){let mt;if(void 0===Se&&void 0===Qe&&void 0===St)throw new Error("Missing Observer.");mt=function br(ye,Se){if("object"!=typeof ye||null===ye)return!1;for(const Qe of Se)if(Qe in ye&&"function"==typeof ye[Qe])return!0;return!1}(Se,["next","error","complete"])?Se:{next:Se,error:Qe,complete:St},void 0===mt.next&&(mt.next=Xr),void 0===mt.error&&(mt.error=Xr),void 0===mt.complete&&(mt.complete=Xr);const yn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?mt.error(this.finalError):mt.complete()}catch{}}),this.observers.push(mt),yn}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let Qe=0;Qe<this.observers.length;Qe++)this.sendOne(Qe,Se)}sendOne(Se,Qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{Qe(this.observers[Se])}catch(St){typeof console<"u"&&console.error&&console.error(St)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xr(){}function en(ye){return ye&&ye._delegate?ye._delegate:ye}},4442:(vn,_t,L)=>{"use strict";L.d(_t,{L:()=>ae,a:()=>de,b:()=>De,c:()=>Be,d:()=>Ke,g:()=>kt}),L(5531);const ae="ionViewWillEnter",de="ionViewDidEnter",De="ionViewWillLeave",Be="ionViewDidLeave",Ke="ionViewWillUnload",kt=Te=>Te.classList.contains("ion-page")?Te:Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Te},5531:(vn,_t,L)=>{"use strict";L.d(_t,{a:()=>Ce,c:()=>f,g:()=>Ke});class d{constructor(){this.m=new Map}reset(Te){this.m=new Map(Object.entries(Te))}get(Te,Ie){const _e=this.m.get(Te);return void 0!==_e?_e:Ie}getBoolean(Te,Ie=!1){const _e=this.m.get(Te);return void 0===_e?Ie:"string"==typeof _e?"true"===_e:!!_e}getNumber(Te,Ie){const _e=parseFloat(this.m.get(Te));return isNaN(_e)?void 0!==Ie?Ie:NaN:_e}set(Te,Ie){this.m.set(Te,Ie)}}const f=new d,Ke=kt=>ce(kt),Ce=(kt,Te)=>("string"==typeof kt&&(Te=kt,kt=void 0),Ke(kt).includes(Te)),ce=(kt=window)=>{if(typeof kt>"u")return[];kt.Ionic=kt.Ionic||{};let Te=kt.Ionic.platforms;return null==Te&&(Te=kt.Ionic.platforms=Ve(kt),Te.forEach(Ie=>kt.document.documentElement.classList.add(`plt-${Ie}`))),Te},Ve=kt=>{const Te=f.get("platform");return Object.keys(zt).filter(Ie=>{const _e=null==Te?void 0:Te[Ie];return"function"==typeof _e?_e(kt):zt[Ie](kt)})},$e=kt=>!!(Pe(kt,/iPad/i)||Pe(kt,/Macintosh/i)&&pe(kt)),et=kt=>Pe(kt,/android|sink/i),pe=kt=>Lt(kt,"(any-pointer:coarse)"),Re=kt=>rt(kt)||Ye(kt),rt=kt=>!!(kt.cordova||kt.phonegap||kt.PhoneGap),Ye=kt=>{const Te=kt.Capacitor;return!(null==Te||!Te.isNative)},Pe=(kt,Te)=>Te.test(kt.navigator.userAgent),Lt=(kt,Te)=>{var Ie;return null===(Ie=kt.matchMedia)||void 0===Ie?void 0:Ie.call(kt,Te).matches},zt={ipad:$e,iphone:kt=>Pe(kt,/iPhone/i),ios:kt=>Pe(kt,/iPhone|iPod/i)||$e(kt),android:et,phablet:kt=>{const Te=kt.innerWidth,Ie=kt.innerHeight,_e=Math.min(Te,Ie),Y=Math.max(Te,Ie);return _e>390&&_e<520&&Y>620&&Y<800},tablet:kt=>{const Te=kt.innerWidth,Ie=kt.innerHeight,_e=Math.min(Te,Ie),Y=Math.max(Te,Ie);return $e(kt)||(kt=>et(kt)&&!Pe(kt,/mobile/i))(kt)||_e>460&&_e<820&&Y>780&&Y<1400},cordova:rt,capacitor:Ye,electron:kt=>Pe(kt,/electron/i),pwa:kt=>{var Te;return!!(null!==(Te=kt.matchMedia)&&void 0!==Te&&Te.call(kt,"(display-mode: standalone)").matches||kt.navigator.standalone)},mobile:pe,mobileweb:kt=>pe(kt)&&!Re(kt),desktop:kt=>!pe(kt),hybrid:Re}},9986:(vn,_t,L)=>{"use strict";L.d(_t,{c:()=>de});var d=L(8476);let f;const ee=(De,Be,Ke)=>{const Ce=Be.startsWith("animation")?(De=>(void 0===f&&(f=void 0===De.style.animationName&&void 0!==De.style.webkitAnimationName?"-webkit-":""),f))(De):"";De.style.setProperty(Ce+Be,Ke)},ae=(De=[],Be)=>{if(void 0!==Be){const Ke=Array.isArray(Be)?Be:[Be];return[...De,...Ke]}return De},de=De=>{let Be,Ke,Ce,ce,Ve,ze,je,bt,He,Pe,Jt,$e=[],Je=[],ct=[],et=!1,vt={},ht=[],pe=[],ve={},Re=0,rt=!1,Ye=!1,Lt=!0,zt=!1,cn=!0,wn=!1;const kt=De,Te=[],Ie=[],_e=[],Y=[],Ae=[],Xe=[],Ue=[],Ne=[],tt=[],ot=[],Mt=[],En="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,lt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&En,an=()=>Mt,Nn=(Q,me)=>{const gt=me.findIndex($t=>$t.c===Q);gt>-1&&me.splice(gt,1)},Me=(Q,me)=>((null!=me&&me.oneTimeCallback?Ie:Te).push({c:Q,o:me}),Jt),Pt=()=>{lt&&(Mt.forEach(Q=>{Q.cancel()}),Mt.length=0)},yt=()=>{Xe.forEach(Q=>{null!=Q&&Q.parentNode&&Q.parentNode.removeChild(Q)}),Xe.length=0},Yn=()=>void 0!==Ve?Ve:je?je.getFill():"both",ar=()=>void 0!==bt?bt:void 0!==ze?ze:je?je.getDirection():"normal",fn=()=>rt?"linear":void 0!==Ce?Ce:je?je.getEasing():"linear",ci=()=>Ye?0:void 0!==He?He:void 0!==Ke?Ke:je?je.getDuration():0,Ln=()=>void 0!==ce?ce:je?je.getIterations():1,ir=()=>void 0!==Pe?Pe:void 0!==Be?Be:je?je.getDelay():0,Dn=()=>{0!==Re&&(Re--,0===Re&&((()=>{tt.forEach(tn=>tn()),ot.forEach(tn=>tn());const Q=Lt?1:0,me=ht,gt=pe,$t=ve;Y.forEach(tn=>{const Un=tn.classList;me.forEach(Sn=>Un.add(Sn)),gt.forEach(Sn=>Un.remove(Sn));for(const Sn in $t)$t.hasOwnProperty(Sn)&&ee(tn,Sn,$t[Sn])}),He=void 0,bt=void 0,Pe=void 0,Te.forEach(tn=>tn.c(Q,Jt)),Ie.forEach(tn=>tn.c(Q,Jt)),Ie.length=0,cn=!0,Lt&&(zt=!0),Lt=!0})(),je&&je.animationFinish()))},Hr=()=>{(()=>{Ue.forEach($t=>$t()),Ne.forEach($t=>$t());const Q=Je,me=ct,gt=vt;Y.forEach($t=>{const tn=$t.classList;Q.forEach(Un=>tn.add(Un)),me.forEach(Un=>tn.remove(Un));for(const Un in gt)gt.hasOwnProperty(Un)&&ee($t,Un,gt[Un])})})(),$e.length>0&&lt&&(Y.forEach(Q=>{const me=Q.animate($e,{id:kt,delay:ir(),duration:ci(),easing:fn(),iterations:Ln(),fill:Yn(),direction:ar()});me.pause(),Mt.push(me)}),Mt.length>0&&(Mt[0].onfinish=()=>{Dn()})),et=!0},at=Q=>{Q=Math.min(Math.max(Q,0),.9999),lt&&Mt.forEach(me=>{me.currentTime=me.effect.getComputedTiming().delay+ci()*Q,me.pause()})},mr=Q=>{Mt.forEach(me=>{me.effect.updateTiming({delay:ir(),duration:ci(),easing:fn(),iterations:Ln(),fill:Yn(),direction:ar()})}),void 0!==Q&&at(Q)},xn=(Q=!1,me=!0,gt)=>(Q&&Ae.forEach($t=>{$t.update(Q,me,gt)}),lt&&mr(gt),Jt),ri=()=>{et&&(lt?Mt.forEach(Q=>{Q.pause()}):Y.forEach(Q=>{ee(Q,"animation-play-state","paused")}),wn=!0)},dr=Q=>new Promise(me=>{null!=Q&&Q.sync&&(Ye=!0,Me(()=>Ye=!1,{oneTimeCallback:!0})),et||Hr(),zt&&(lt&&(at(0),mr()),zt=!1),cn&&(Re=Ae.length+1,cn=!1);const gt=()=>{Nn($t,Ie),me()},$t=()=>{Nn(gt,_e),me()};Me($t,{oneTimeCallback:!0}),(Q=>{_e.push({c:Q,o:{oneTimeCallback:!0}})})(gt),Ae.forEach(tn=>{tn.play()}),lt?(Mt.forEach(Q=>{Q.play()}),(0===$e.length||0===Y.length)&&Dn()):Dn(),wn=!1}),z=(Q,me)=>{const gt=$e[0];return void 0===gt||void 0!==gt.offset&&0!==gt.offset?$e=[{offset:0,[Q]:me},...$e]:gt[Q]=me,Jt};return Jt={parentAnimation:je,elements:Y,childAnimations:Ae,id:kt,animationFinish:Dn,from:z,to:(Q,me)=>{const gt=$e[$e.length-1];return void 0===gt||void 0!==gt.offset&&1!==gt.offset?$e=[...$e,{offset:1,[Q]:me}]:gt[Q]=me,Jt},fromTo:(Q,me,gt)=>z(Q,me).to(Q,gt),parent:Q=>(je=Q,Jt),play:dr,pause:()=>(Ae.forEach(Q=>{Q.pause()}),ri(),Jt),stop:()=>{Ae.forEach(Q=>{Q.stop()}),et&&(Pt(),et=!1),rt=!1,Ye=!1,cn=!0,bt=void 0,He=void 0,Pe=void 0,Re=0,zt=!1,Lt=!0,wn=!1,_e.forEach(Q=>Q.c(0,Jt)),_e.length=0},destroy:Q=>(Ae.forEach(me=>{me.destroy(Q)}),(Q=>{Pt(),Q&&yt()})(Q),Y.length=0,Ae.length=0,$e.length=0,Te.length=0,Ie.length=0,et=!1,cn=!0,Jt),keyframes:Q=>{const me=$e!==Q;return $e=Q,me&&(Q=>{lt&&an().forEach(me=>{const gt=me.effect;if(gt.setKeyframes)gt.setKeyframes(Q);else{const $t=new KeyframeEffect(gt.target,Q,gt.getTiming());me.effect=$t}})})($e),Jt},addAnimation:Q=>{if(null!=Q)if(Array.isArray(Q))for(const me of Q)me.parent(Jt),Ae.push(me);else Q.parent(Jt),Ae.push(Q);return Jt},addElement:Q=>{if(null!=Q)if(1===Q.nodeType)Y.push(Q);else if(Q.length>=0)for(let me=0;me<Q.length;me++)Y.push(Q[me]);else console.error("Invalid addElement value");return Jt},update:xn,fill:Q=>(Ve=Q,xn(!0),Jt),direction:Q=>(ze=Q,xn(!0),Jt),iterations:Q=>(ce=Q,xn(!0),Jt),duration:Q=>(!lt&&0===Q&&(Q=1),Ke=Q,xn(!0),Jt),easing:Q=>(Ce=Q,xn(!0),Jt),delay:Q=>(Be=Q,xn(!0),Jt),getWebAnimations:an,getKeyframes:()=>$e,getFill:Yn,getDirection:ar,getDelay:ir,getIterations:Ln,getEasing:fn,getDuration:ci,afterAddRead:Q=>(tt.push(Q),Jt),afterAddWrite:Q=>(ot.push(Q),Jt),afterClearStyles:(Q=[])=>{for(const me of Q)ve[me]="";return Jt},afterStyles:(Q={})=>(ve=Q,Jt),afterRemoveClass:Q=>(pe=ae(pe,Q),Jt),afterAddClass:Q=>(ht=ae(ht,Q),Jt),beforeAddRead:Q=>(Ue.push(Q),Jt),beforeAddWrite:Q=>(Ne.push(Q),Jt),beforeClearStyles:(Q=[])=>{for(const me of Q)vt[me]="";return Jt},beforeStyles:(Q={})=>(vt=Q,Jt),beforeRemoveClass:Q=>(ct=ae(ct,Q),Jt),beforeAddClass:Q=>(Je=ae(Je,Q),Jt),onFinish:Me,isRunning:()=>0!==Re&&!wn,progressStart:(Q=!1,me)=>(Ae.forEach(gt=>{gt.progressStart(Q,me)}),ri(),rt=Q,et||Hr(),xn(!1,!0,me),Jt),progressStep:Q=>(Ae.forEach(me=>{me.progressStep(Q)}),at(Q),Jt),progressEnd:(Q,me,gt)=>(rt=!1,Ae.forEach($t=>{$t.progressEnd(Q,me,gt)}),void 0!==gt&&(He=gt),zt=!1,Lt=!0,0===Q?(bt="reverse"===ar()?"normal":"reverse","reverse"===bt&&(Lt=!1),lt?(xn(),at(1-me)):(Pe=(1-me)*ci()*-1,xn(!1,!1))):1===Q&&(lt?(xn(),at(me)):(Pe=me*ci()*-1,xn(!1,!1))),void 0!==Q&&!je&&dr(),Jt)}}},464:(vn,_t,L)=>{"use strict";L.d(_t,{E:()=>Ce,a:()=>d,s:()=>Be});const d=ce=>{try{if(ce instanceof De)return ce.value;if(!ee()||"string"!=typeof ce||""===ce)return ce;if(ce.includes("onload="))return"";const Ve=document.createDocumentFragment(),ze=document.createElement("div");Ve.appendChild(ze),ze.innerHTML=ce,de.forEach(et=>{const je=Ve.querySelectorAll(et);for(let vt=je.length-1;vt>=0;vt--){const ht=je[vt];ht.parentNode?ht.parentNode.removeChild(ht):Ve.removeChild(ht);const pe=Z(ht);for(let ve=0;ve<pe.length;ve++)f(pe[ve])}});const $e=Z(Ve);for(let et=0;et<$e.length;et++)f($e[et]);const Je=document.createElement("div");Je.appendChild(Ve);const ct=Je.querySelector("div");return null!==ct?ct.innerHTML:Je.innerHTML}catch(Ve){return console.error(Ve),""}},f=ce=>{if(ce.nodeType&&1!==ce.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ce.attributes instanceof NamedNodeMap))return void ce.remove();for(let ze=ce.attributes.length-1;ze>=0;ze--){const $e=ce.attributes.item(ze),Je=$e.name;if(!ae.includes(Je.toLowerCase())){ce.removeAttribute(Je);continue}const ct=$e.value,et=ce[Je];(null!=ct&&ct.toLowerCase().includes("javascript:")||null!=et&&et.toLowerCase().includes("javascript:"))&&ce.removeAttribute(Je)}const Ve=Z(ce);for(let ze=0;ze<Ve.length;ze++)f(Ve[ze])},Z=ce=>null!=ce.children?ce.children:ce.childNodes,ee=()=>{var ce;const Ve=window,ze=null===(ce=null==Ve?void 0:Ve.Ionic)||void 0===ce?void 0:ce.config;return!ze||(ze.get?ze.get("sanitizerEnabled",!0):!0===ze.sanitizerEnabled||void 0===ze.sanitizerEnabled)},ae=["class","id","href","src","name","slot"],de=["script","style","iframe","meta","link","object","embed"];class De{constructor(Ve){this.value=Ve}}const Be=ce=>{const Ve=window,ze=Ve.Ionic;if(!ze||!ze.config||"Object"===ze.config.constructor.name)return Ve.Ionic=Ve.Ionic||{},Ve.Ionic.config=Object.assign(Object.assign({},Ve.Ionic.config),ce),Ve.Ionic.config},Ce=!1},8621:(vn,_t,L)=>{"use strict";L.d(_t,{C:()=>ae,a:()=>Z,d:()=>ee});var d=L(467),f=L(4920);const Z=function(){var de=(0,d.A)(function*(De,Be,Ke,Ce,ce,Ve){var ze;if(De)return De.attachViewToDom(Be,Ke,ce,Ce);if(!(Ve||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const $e="string"==typeof Ke?null===(ze=Be.ownerDocument)||void 0===ze?void 0:ze.createElement(Ke):Ke;return Ce&&Ce.forEach(Je=>$e.classList.add(Je)),ce&&Object.assign($e,ce),Be.appendChild($e),yield new Promise(Je=>(0,f.c)($e,Je)),$e});return function(Be,Ke,Ce,ce,Ve,ze){return de.apply(this,arguments)}}(),ee=(de,De)=>{if(De){if(de)return de.removeViewFromDom(De.parentElement,De);De.remove()}return Promise.resolve()},ae=()=>{let de,De;return{attachViewToDom:function(){var Ce=(0,d.A)(function*(ce,Ve,ze={},$e=[]){var Je,ct;let et;if(de=ce,Ve){const vt="string"==typeof Ve?null===(Je=de.ownerDocument)||void 0===Je?void 0:Je.createElement(Ve):Ve;$e.forEach(ht=>vt.classList.add(ht)),Object.assign(vt,ze),de.appendChild(vt),et=vt,yield new Promise(ht=>(0,f.c)(vt,ht))}else if(de.children.length>0&&("ION-MODAL"===de.tagName||"ION-POPOVER"===de.tagName)&&!(et=de.children[0]).classList.contains("ion-delegate-host")){const ht=null===(ct=de.ownerDocument)||void 0===ct?void 0:ct.createElement("div");ht.classList.add("ion-delegate-host"),$e.forEach(pe=>ht.classList.add(pe)),ht.append(...de.children),de.appendChild(ht),et=ht}const je=document.querySelector("ion-app")||document.body;return De=document.createComment("ionic teleport"),de.parentNode.insertBefore(De,de),je.appendChild(de),null!=et?et:de});return function(Ve,ze){return Ce.apply(this,arguments)}}(),removeViewFromDom:()=>(de&&De&&(De.parentNode.insertBefore(de,De),De.remove()),Promise.resolve())}}},1970:(vn,_t,L)=>{"use strict";L.d(_t,{B:()=>ee,G:()=>ae});class f{constructor(De,Be,Ke,Ce,ce){this.id=Be,this.name=Ke,this.disableScroll=ce,this.priority=1e6*Ce+Be,this.ctrl=De}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const De=this.ctrl.capture(this.name,this.id,this.priority);return De&&this.disableScroll&&this.ctrl.disableScroll(this.id),De}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Z{constructor(De,Be,Ke,Ce){this.id=Be,this.disable=Ke,this.disableScroll=Ce,this.ctrl=De}block(){if(this.ctrl){if(this.disable)for(const De of this.disable)this.ctrl.disableGesture(De,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const De of this.disable)this.ctrl.enableGesture(De,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ee="backdrop-no-scroll",ae=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(De){var Be;return new f(this,this.newID(),De.name,null!==(Be=De.priority)&&void 0!==Be?Be:0,!!De.disableScroll)}createBlocker(De={}){return new Z(this,this.newID(),De.disable,!!De.disableScroll)}start(De,Be,Ke){return this.canStart(De)?(this.requestedStart.set(Be,Ke),!0):(this.requestedStart.delete(Be),!1)}capture(De,Be,Ke){if(!this.start(De,Be,Ke))return!1;const Ce=this.requestedStart;let ce=-1e4;if(Ce.forEach(Ve=>{ce=Math.max(ce,Ve)}),ce===Ke){this.capturedId=Be,Ce.clear();const Ve=new CustomEvent("ionGestureCaptured",{detail:{gestureName:De}});return document.dispatchEvent(Ve),!0}return Ce.delete(Be),!1}release(De){this.requestedStart.delete(De),this.capturedId===De&&(this.capturedId=void 0)}disableGesture(De,Be){let Ke=this.disabledGestures.get(De);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(De,Ke)),Ke.add(Be)}enableGesture(De,Be){const Ke=this.disabledGestures.get(De);void 0!==Ke&&Ke.delete(Be)}disableScroll(De){this.disabledScroll.add(De),1===this.disabledScroll.size&&document.body.classList.add(ee)}enableScroll(De){this.disabledScroll.delete(De),0===this.disabledScroll.size&&document.body.classList.remove(ee)}canStart(De){return!(void 0!==this.capturedId||this.isDisabled(De))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(De){const Be=this.disabledGestures.get(De);return!!(Be&&Be.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(vn,_t,L)=>{"use strict";L.r(_t),L.d(_t,{MENU_BACK_BUTTON_PRIORITY:()=>Ke,OVERLAY_BACK_BUTTON_PRIORITY:()=>Be,blockHardwareBackButton:()=>de,shouldUseCloseWatcher:()=>ae,startHardwareBackButton:()=>De});var d=L(467),f=L(8476),Z=L(9483);L(4261);const ae=()=>Z.c.get("experimentalCloseWatcher",!1)&&void 0!==f.w&&"CloseWatcher"in f.w,de=()=>{document.addEventListener("backbutton",()=>{})},De=()=>{const Ce=document;let ce=!1;const Ve=()=>{if(ce)return;let ze=0,$e=[];const Je=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(je,vt){$e.push({priority:je,handler:vt,id:ze++})}}});Ce.dispatchEvent(Je);const ct=function(){var je=(0,d.A)(function*(vt){try{if(null!=vt&&vt.handler){const ht=vt.handler(et);null!=ht&&(yield ht)}}catch(ht){console.error(ht)}});return function(ht){return je.apply(this,arguments)}}(),et=()=>{if($e.length>0){let je={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};$e.forEach(vt=>{vt.priority>=je.priority&&(je=vt)}),ce=!0,$e=$e.filter(vt=>vt.id!==je.id),ct(je).then(()=>ce=!1)}};et()};if(ae()){let ze;const $e=()=>{null==ze||ze.destroy(),ze=new f.w.CloseWatcher,ze.onclose=()=>{Ve(),$e()}};$e()}else Ce.addEventListener("backbutton",Ve)},Be=100,Ke=99},4920:(vn,_t,L)=>{"use strict";L.d(_t,{a:()=>Be,b:()=>Ke,c:()=>Z,d:()=>$e,e:()=>vt,f:()=>ze,g:()=>Ce,h:()=>ae,i:()=>De,j:()=>Je,k:()=>ee,l:()=>Ve,m:()=>ct,n:()=>je,o:()=>ht,p:()=>et,r:()=>ce,s:()=>pe,t:()=>d});const d=(ve,Re=0)=>new Promise(rt=>{f(ve,Re,rt)}),f=(ve,Re=0,rt)=>{let Ye,bt;const He={passive:!0},Lt=()=>{Ye&&Ye()},zt=cn=>{(void 0===cn||ve===cn.target)&&(Lt(),rt(cn))};return ve&&(ve.addEventListener("webkitTransitionEnd",zt,He),ve.addEventListener("transitionend",zt,He),bt=setTimeout(zt,Re+500),Ye=()=>{void 0!==bt&&(clearTimeout(bt),bt=void 0),ve.removeEventListener("webkitTransitionEnd",zt,He),ve.removeEventListener("transitionend",zt,He)}),Lt},Z=(ve,Re)=>{ve.componentOnReady?ve.componentOnReady().then(rt=>Re(rt)):ce(()=>Re(ve))},ee=ve=>void 0!==ve.componentOnReady,ae=(ve,Re=[])=>{const rt={};return Re.forEach(Ye=>{ve.hasAttribute(Ye)&&(null!==ve.getAttribute(Ye)&&(rt[Ye]=ve.getAttribute(Ye)),ve.removeAttribute(Ye))}),rt},de=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],De=(ve,Re)=>{let rt=de;return Re&&Re.length>0&&(rt=rt.filter(Ye=>!Re.includes(Ye))),ae(ve,rt)},Be=(ve,Re,rt,Ye)=>{var bt;if(typeof window<"u"){const He=window,Pe=null===(bt=null==He?void 0:He.Ionic)||void 0===bt?void 0:bt.config;if(Pe){const Lt=Pe.get("_ael");if(Lt)return Lt(ve,Re,rt,Ye);if(Pe._ael)return Pe._ael(ve,Re,rt,Ye)}}return ve.addEventListener(Re,rt,Ye)},Ke=(ve,Re,rt,Ye)=>{var bt;if(typeof window<"u"){const He=window,Pe=null===(bt=null==He?void 0:He.Ionic)||void 0===bt?void 0:bt.config;if(Pe){const Lt=Pe.get("_rel");if(Lt)return Lt(ve,Re,rt,Ye);if(Pe._rel)return Pe._rel(ve,Re,rt,Ye)}}return ve.removeEventListener(Re,rt,Ye)},Ce=(ve,Re=ve)=>ve.shadowRoot||Re,ce=ve=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ve):"function"==typeof requestAnimationFrame?requestAnimationFrame(ve):setTimeout(ve),Ve=ve=>!!ve.shadowRoot&&!!ve.attachShadow,ze=ve=>{if(ve.focus(),ve.classList.contains("ion-focusable")){const Re=ve.closest("ion-app");Re&&Re.setFocus([ve])}},$e=(ve,Re,rt,Ye,bt)=>{if(ve||Ve(Re)){let He=Re.querySelector("input.aux-input");He||(He=Re.ownerDocument.createElement("input"),He.type="hidden",He.classList.add("aux-input"),Re.appendChild(He)),He.disabled=bt,He.name=rt,He.value=Ye||""}},Je=(ve,Re,rt)=>Math.max(ve,Math.min(Re,rt)),ct=(ve,Re)=>{if(!ve){const rt="ASSERT: "+Re;throw console.error(rt),new Error(rt)}},et=ve=>{if(ve){const Re=ve.changedTouches;if(Re&&Re.length>0){const rt=Re[0];return{x:rt.clientX,y:rt.clientY}}if(void 0!==ve.pageX)return{x:ve.pageX,y:ve.pageY}}return{x:0,y:0}},je=ve=>{const Re="rtl"===document.dir;switch(ve){case"start":return Re;case"end":return!Re;default:throw new Error(`"${ve}" is not a valid value for [side]. Use "start" or "end" instead.`)}},vt=(ve,Re)=>{const rt=ve._original||ve;return{_original:ve,emit:ht(rt.emit.bind(rt),Re)}},ht=(ve,Re=0)=>{let rt;return(...Ye)=>{clearTimeout(rt),rt=setTimeout(ve,Re,...Ye)}},pe=(ve,Re)=>{if(null!=ve||(ve={}),null!=Re||(Re={}),ve===Re)return!0;const rt=Object.keys(ve);if(rt.length!==Object.keys(Re).length)return!1;for(const Ye of rt)if(!(Ye in Re)||ve[Ye]!==Re[Ye])return!1;return!0}},4261:(vn,_t,L)=>{"use strict";L.d(_t,{B:()=>de,a:()=>cn,b:()=>io,c:()=>Yn,d:()=>Ln,e:()=>tt,f:()=>gn,g:()=>ar,h:()=>Kn,i:()=>ci,j:()=>ei,k:()=>Mt,r:()=>Ke,w:()=>ot});var d=L(467);var ee=Object.defineProperty,de={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},De=new WeakMap,Be=C=>De.get(C),Ke=(C,O)=>De.set(O.$lazyInstance$=C,O),ce=(C,O)=>O in C,Ve=(C,O)=>(0,console.error)(C,O),ze=new Map,Je=new Map,ct=[],pe="s-id",Ye="slot-fb{display:contents}slot-fb[hidden]{display:none}",bt="http://www.w3.org/1999/xlink",He=typeof window<"u"?window:{},Pe=He.document||{head:{}},zt={$flags$:0,$resourcesUrl$:"",jmp:C=>C(),raf:C=>requestAnimationFrame(C),ael:(C,O,Ee,ke)=>C.addEventListener(O,Ee,ke),rel:(C,O,Ee,ke)=>C.removeEventListener(O,Ee,ke),ce:(C,O)=>new CustomEvent(C,O)},cn=C=>{Object.assign(zt,C)},wn=(()=>{let C=!1;try{Pe.addEventListener("e",null,Object.defineProperty({},"passive",{get(){C=!0}}))}catch{}return C})(),Te=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ie=!1,_e=[],Y=[],Ae=(C,O)=>Ee=>{C.push(Ee),Ie||(Ie=!0,O&&4&zt.$flags$?Ne(Ue):zt.raf(Ue))},Xe=C=>{for(let O=0;O<C.length;O++)try{C[O](performance.now())}catch(Ee){Ve(Ee)}C.length=0},Ue=()=>{Xe(_e),Xe(Y),(Ie=_e.length>0)&&zt.raf(Ue)},Ne=C=>Promise.resolve(void 0).then(C),tt=Ae(_e,!1),ot=Ae(Y,!0),Mt=C=>{const O=new URL(C,zt.$resourcesUrl$);return O.origin!==He.location.origin?O.href:O.pathname},En={},kn=C=>"object"==(C=typeof C)||"function"===C;function Ft(C){var O,Ee,ke;return null!=(ke=null==(Ee=null==(O=C.head)?void 0:O.querySelector('meta[name="csp-nonce"]'))?void 0:Ee.getAttribute("content"))?ke:void 0}((C,O)=>{for(var Ee in O)ee(C,Ee,{get:O[Ee],enumerable:!0})})({},{err:()=>qt,map:()=>Me,ok:()=>Nn,unwrap:()=>Oe,unwrapErr:()=>Pt});var Nn=C=>({isOk:!0,isErr:!1,value:C}),qt=C=>({isOk:!1,isErr:!0,value:C});function Me(C,O){if(C.isOk){const Ee=O(C.value);return Ee instanceof Promise?Ee.then(ke=>Nn(ke)):Nn(Ee)}if(C.isErr)return qt(C.value);throw"should never get here"}var Oe=C=>{if(C.isOk)return C.value;throw C.value},Pt=C=>{if(C.isErr)return C.value;throw C.value},Kn=(C,O,...Ee)=>{let ke=null,it=null,nt=null,Ht=!1,It=!1;const jt=[],Zt=In=>{for(let Vn=0;Vn<In.length;Vn++)ke=In[Vn],Array.isArray(ke)?Zt(ke):null!=ke&&"boolean"!=typeof ke&&((Ht="function"!=typeof C&&!kn(ke))&&(ke=String(ke)),Ht&&It?jt[jt.length-1].$text$+=ke:jt.push(Ht?Tn(null,ke):ke),It=Ht)};if(Zt(Ee),O){O.key&&(it=O.key),O.name&&(nt=O.name);{const In=O.className||O.class;In&&(O.class="object"!=typeof In?In:Object.keys(In).filter(Vn=>In[Vn]).join(" "))}}if("function"==typeof C)return C(null===O?{}:O,jt,Qn);const dn=Tn(C,null);return dn.$attrs$=O,jt.length>0&&(dn.$children$=jt),dn.$key$=it,dn.$name$=nt,dn},Tn=(C,O)=>({$flags$:0,$tag$:C,$text$:O,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),gn={},Qn={forEach:(C,O)=>C.map(Gn).forEach(O),map:(C,O)=>C.map(Gn).map(O).map(nr)},Gn=C=>({vattrs:C.$attrs$,vchildren:C.$children$,vkey:C.$key$,vname:C.$name$,vtag:C.$tag$,vtext:C.$text$}),nr=C=>{if("function"==typeof C.vtag){const Ee={...C.vattrs};return C.vkey&&(Ee.key=C.vkey),C.vname&&(Ee.name=C.vname),Kn(C.vtag,Ee,...C.vchildren||[])}const O=Tn(C.vtag,C.vtext);return O.$attrs$=C.vattrs,O.$children$=C.vchildren,O.$key$=C.vkey,O.$name$=C.vname,O},Xr=(C,O,Ee,ke,it,nt,Ht)=>{let It,jt,Zt,dn;if(1===nt.nodeType){if(It=nt.getAttribute("c-id"),It&&(jt=It.split("."),(jt[0]===Ht||"0"===jt[0])&&(Zt={$flags$:0,$hostId$:jt[0],$nodeId$:jt[1],$depth$:jt[2],$index$:jt[3],$tag$:nt.tagName.toLowerCase(),$elm$:nt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},O.push(Zt),nt.removeAttribute("c-id"),C.$children$||(C.$children$=[]),C.$children$[Zt.$index$]=Zt,C=Zt,ke&&"0"===Zt.$depth$&&(ke[Zt.$index$]=Zt.$elm$))),nt.shadowRoot)for(dn=nt.shadowRoot.childNodes.length-1;dn>=0;dn--)Xr(C,O,Ee,ke,it,nt.shadowRoot.childNodes[dn],Ht);for(dn=nt.childNodes.length-1;dn>=0;dn--)Xr(C,O,Ee,ke,it,nt.childNodes[dn],Ht)}else if(8===nt.nodeType)jt=nt.nodeValue.split("."),(jt[1]===Ht||"0"===jt[1])&&(It=jt[0],Zt={$flags$:0,$hostId$:jt[1],$nodeId$:jt[2],$depth$:jt[3],$index$:jt[4],$elm$:nt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===It?(Zt.$elm$=nt.nextSibling,Zt.$elm$&&3===Zt.$elm$.nodeType&&(Zt.$text$=Zt.$elm$.textContent,O.push(Zt),nt.remove(),C.$children$||(C.$children$=[]),C.$children$[Zt.$index$]=Zt,ke&&"0"===Zt.$depth$&&(ke[Zt.$index$]=Zt.$elm$))):Zt.$hostId$===Ht&&("s"===It?(Zt.$tag$="slot",nt["s-sn"]=jt[5]?Zt.$name$=jt[5]:"",nt["s-sr"]=!0,ke&&(Zt.$elm$=Pe.createElement(Zt.$tag$),Zt.$name$&&Zt.$elm$.setAttribute("name",Zt.$name$),nt.parentNode.insertBefore(Zt.$elm$,nt),nt.remove(),"0"===Zt.$depth$&&(ke[Zt.$index$]=Zt.$elm$)),Ee.push(Zt),C.$children$||(C.$children$=[]),C.$children$[Zt.$index$]=Zt):"r"===It&&(ke?nt.remove():(it["s-cr"]=nt,nt["s-cn"]=!0))));else if(C&&"style"===C.$tag$){const In=Tn(null,nt.textContent);In.$elm$=nt,In.$index$="0",C.$children$=[In]}},_n=(C,O)=>{if(1===C.nodeType){let Ee=0;if(C.shadowRoot)for(;Ee<C.shadowRoot.childNodes.length;Ee++)_n(C.shadowRoot.childNodes[Ee],O);for(Ee=0;Ee<C.childNodes.length;Ee++)_n(C.childNodes[Ee],O)}else if(8===C.nodeType){const Ee=C.nodeValue.split(".");"o"===Ee[0]&&(O.set(Ee[1]+"."+Ee[2],C),C.nodeValue="",C["s-en"]=Ee[3])}},Yn=C=>ct.push(C),ar=C=>Be(C).$modeName$,ci=C=>Be(C).$hostElement$,Ln=(C,O,Ee)=>{const ke=ci(C);return{emit:it=>ir(ke,O,{bubbles:!!(4&Ee),composed:!!(2&Ee),cancelable:!!(1&Ee),detail:it})}},ir=(C,O,Ee)=>{const ke=zt.ce(O,Ee);return C.dispatchEvent(ke),ke},sr=new WeakMap,Nt=(C,O,Ee)=>{var ke;const it=Ot(O,Ee),nt=Je.get(it);if(C=11===C.nodeType?C:Pe,nt)if("string"==typeof nt){let It,Ht=sr.get(C=C.head||C);if(Ht||sr.set(C,Ht=new Set),!Ht.has(it)){if(C.host&&(It=C.querySelector(`[sty-id="${it}"]`)))It.innerHTML=nt;else{It=Pe.createElement("style"),It.innerHTML=nt;const jt=null!=(ke=zt.$nonce$)?ke:Ft(Pe);null!=jt&&It.setAttribute("nonce",jt),(!(1&O.$flags$)||1&O.$flags$&&"HEAD"!==C.nodeName)&&C.insertBefore(It,C.querySelector("link"))}4&O.$flags$&&(It.innerHTML+=Ye),Ht&&Ht.add(it)}}else C.adoptedStyleSheets.includes(nt)||(C.adoptedStyleSheets=[...C.adoptedStyleSheets,nt]);return it},Ot=(C,O)=>"sc-"+(O&&32&C.$flags$?C.$tagName$+"-"+O:C.$tagName$),st=(C,O,Ee,ke,it,nt)=>{if(Ee!==ke){let Ht=ce(C,O),It=O.toLowerCase();if("class"===O){const jt=C.classList,Zt=en(Ee),dn=en(ke);jt.remove(...Zt.filter(In=>In&&!dn.includes(In))),jt.add(...dn.filter(In=>In&&!Zt.includes(In)))}else if("style"===O){for(const jt in Ee)(!ke||null==ke[jt])&&(jt.includes("-")?C.style.removeProperty(jt):C.style[jt]="");for(const jt in ke)(!Ee||ke[jt]!==Ee[jt])&&(jt.includes("-")?C.style.setProperty(jt,ke[jt]):C.style[jt]=ke[jt])}else if("key"!==O)if("ref"===O)ke&&ke(C);else if(Ht||"o"!==O[0]||"n"!==O[1]){const jt=kn(ke);if((Ht||jt&&null!==ke)&&!it)try{if(C.tagName.includes("-"))C[O]=ke;else{const dn=null==ke?"":ke;"list"===O?Ht=!1:(null==Ee||C[O]!=dn)&&(C[O]=dn)}}catch{}let Zt=!1;It!==(It=It.replace(/^xlink\:?/,""))&&(O=It,Zt=!0),null==ke||!1===ke?(!1!==ke||""===C.getAttribute(O))&&(Zt?C.removeAttributeNS(bt,O):C.removeAttribute(O)):(!Ht||4&nt||it)&&!jt&&(ke=!0===ke?"":ke,Zt?C.setAttributeNS(bt,O,ke):C.setAttribute(O,ke))}else if(O="-"===O[2]?O.slice(3):ce(He,It)?It.slice(2):It[2]+O.slice(3),Ee||ke){const jt=O.endsWith(ye);O=O.replace(Se,""),Ee&&zt.rel(C,O,Ee,jt),ke&&zt.ael(C,O,ke,jt)}}},ut=/\s/,en=C=>C?C.split(ut):[],ye="Capture",Se=new RegExp(ye+"$"),Qe=(C,O,Ee)=>{const ke=11===O.$elm$.nodeType&&O.$elm$.host?O.$elm$.host:O.$elm$,it=C&&C.$attrs$||En,nt=O.$attrs$||En;for(const Ht of St(Object.keys(it)))Ht in nt||st(ke,Ht,it[Ht],void 0,Ee,O.$flags$);for(const Ht of St(Object.keys(nt)))st(ke,Ht,it[Ht],nt[Ht],Ee,O.$flags$)};function St(C){return C.includes("ref")?[...C.filter(O=>"ref"!==O),"ref"]:C}var mt,yn,Dn,gr=!1,Hr=!1,at=!1,mr=!1,xn=(C,O,Ee,ke)=>{var it;const nt=O.$children$[Ee];let It,jt,Zt,Ht=0;if(gr||(at=!0,"slot"===nt.$tag$&&(mt&&ke.classList.add(mt+"-s"),nt.$flags$|=nt.$children$?2:1)),null!==nt.$text$)It=nt.$elm$=Pe.createTextNode(nt.$text$);else if(1&nt.$flags$)It=nt.$elm$=Pe.createTextNode("");else{if(mr||(mr="svg"===nt.$tag$),It=nt.$elm$=Pe.createElementNS(mr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!gr&&2&nt.$flags$?"slot-fb":nt.$tag$),mr&&"foreignObject"===nt.$tag$&&(mr=!1),Qe(null,nt,mr),!!It.getRootNode().querySelector("body")&&(C=>null!=C)(mt)&&It["s-si"]!==mt&&It.classList.add(It["s-si"]=mt),$t(It,ke),nt.$children$)for(Ht=0;Ht<nt.$children$.length;++Ht)jt=xn(C,nt,Ht,It),jt&&It.appendChild(jt);"svg"===nt.$tag$?mr=!1:"foreignObject"===It.tagName&&(mr=!0)}return It["s-hn"]=Dn,3&nt.$flags$&&(It["s-sr"]=!0,It["s-cr"]=yn,It["s-sn"]=nt.$name$||"",It["s-rf"]=null==(it=nt.$attrs$)?void 0:it.ref,Zt=C&&C.$children$&&C.$children$[Ee],Zt&&Zt.$tag$===nt.$tag$&&C.$elm$&&zr(C.$elm$)),It},zr=C=>{zt.$flags$|=1;const O=C.closest(Dn.toLowerCase());if(null!=O){const Ee=Array.from(O.childNodes).find(it=>it["s-cr"]),ke=Array.from(C.childNodes);for(const it of Ee?ke.reverse():ke)null!=it["s-sh"]&&(me(O,it,null!=Ee?Ee:null),it["s-sh"]=void 0,at=!0)}zt.$flags$&=-2},Br=(C,O)=>{zt.$flags$|=1;const Ee=Array.from(C.childNodes);if(C["s-sr"]){let ke=C;for(;ke=ke.nextSibling;)ke&&ke["s-sn"]===C["s-sn"]&&ke["s-sh"]===Dn&&Ee.push(ke)}for(let ke=Ee.length-1;ke>=0;ke--){const it=Ee[ke];it["s-hn"]!==Dn&&it["s-ol"]&&(me(Ri(it),it,no(it)),it["s-ol"].remove(),it["s-ol"]=void 0,it["s-sh"]=void 0,at=!0),O&&Br(it,O)}zt.$flags$&=-2},Pn=(C,O,Ee,ke,it,nt)=>{let It,Ht=C["s-cr"]&&C["s-cr"].parentNode||C;for(Ht.shadowRoot&&Ht.tagName===Dn&&(Ht=Ht.shadowRoot);it<=nt;++it)ke[it]&&(It=xn(null,Ee,it,C),It&&(ke[it].$elm$=It,me(Ht,It,no(O))))},ri=(C,O,Ee)=>{for(let ke=O;ke<=Ee;++ke){const it=C[ke];if(it){const nt=it.$elm$;Q(it),nt&&(Hr=!0,nt["s-ol"]?nt["s-ol"].remove():Br(nt,!0),nt.remove())}}},ui=(C,O,Ee=!1)=>!(C.$tag$!==O.$tag$||("slot"===C.$tag$?"$nodeId$"in C&&Ee&&8!==C.$elm$.nodeType||C.$name$!==O.$name$:!Ee&&C.$key$!==O.$key$)),no=C=>C&&C["s-ol"]||C,Ri=C=>(C["s-ol"]?C["s-ol"]:C).parentNode,dr=(C,O,Ee=!1)=>{const ke=O.$elm$=C.$elm$,it=C.$children$,nt=O.$children$,Ht=O.$tag$,It=O.$text$;let jt;null===It?(mr="svg"===Ht||"foreignObject"!==Ht&&mr,"slot"!==Ht||gr?Qe(C,O,mr):C.$name$!==O.$name$&&(O.$elm$["s-sn"]=O.$name$||"",zr(O.$elm$.parentElement)),null!==it&&null!==nt?((C,O,Ee,ke,it=!1)=>{let Wr,ti,nt=0,Ht=0,It=0,jt=0,Zt=O.length-1,dn=O[0],In=O[Zt],Vn=ke.length-1,Mn=ke[0],kr=ke[Vn];for(;nt<=Zt&&Ht<=Vn;)if(null==dn)dn=O[++nt];else if(null==In)In=O[--Zt];else if(null==Mn)Mn=ke[++Ht];else if(null==kr)kr=ke[--Vn];else if(ui(dn,Mn,it))dr(dn,Mn,it),dn=O[++nt],Mn=ke[++Ht];else if(ui(In,kr,it))dr(In,kr,it),In=O[--Zt],kr=ke[--Vn];else if(ui(dn,kr,it))("slot"===dn.$tag$||"slot"===kr.$tag$)&&Br(dn.$elm$.parentNode,!1),dr(dn,kr,it),me(C,dn.$elm$,In.$elm$.nextSibling),dn=O[++nt],kr=ke[--Vn];else if(ui(In,Mn,it))("slot"===dn.$tag$||"slot"===kr.$tag$)&&Br(In.$elm$.parentNode,!1),dr(In,Mn,it),me(C,In.$elm$,dn.$elm$),In=O[--Zt],Mn=ke[++Ht];else{for(It=-1,jt=nt;jt<=Zt;++jt)if(O[jt]&&null!==O[jt].$key$&&O[jt].$key$===Mn.$key$){It=jt;break}It>=0?(ti=O[It],ti.$tag$!==Mn.$tag$?Wr=xn(O&&O[Ht],Ee,It,C):(dr(ti,Mn,it),O[It]=void 0,Wr=ti.$elm$),Mn=ke[++Ht]):(Wr=xn(O&&O[Ht],Ee,Ht,C),Mn=ke[++Ht]),Wr&&me(Ri(dn.$elm$),Wr,no(dn.$elm$))}nt>Zt?Pn(C,null==ke[Vn+1]?null:ke[Vn+1].$elm$,Ee,ke,Ht,Vn):Ht>Vn&&ri(O,nt,Zt)})(ke,it,O,nt,Ee):null!==nt?(null!==C.$text$&&(ke.textContent=""),Pn(ke,null,O,nt,0,nt.length-1)):!Ee&&null!==it&&ri(it,0,it.length-1),mr&&"svg"===Ht&&(mr=!1)):(jt=ke["s-cr"])?jt.parentNode.textContent=It:C.$text$!==It&&(ke.data=It)},te=C=>{const O=C.childNodes;for(const Ee of O)if(1===Ee.nodeType){if(Ee["s-sr"]){const ke=Ee["s-sn"];Ee.hidden=!1;for(const it of O)if(it!==Ee)if(it["s-hn"]!==Ee["s-hn"]||""!==ke){if(1===it.nodeType&&(ke===it.getAttribute("slot")||ke===it["s-sn"])||3===it.nodeType&&ke===it["s-sn"]){Ee.hidden=!0;break}}else if(1===it.nodeType||3===it.nodeType&&""!==it.textContent.trim()){Ee.hidden=!0;break}}te(Ee)}},z=[],he=C=>{let O,Ee,ke;for(const it of C.childNodes){if(it["s-sr"]&&(O=it["s-cr"])&&O.parentNode){Ee=O.parentNode.childNodes;const nt=it["s-sn"];for(ke=Ee.length-1;ke>=0;ke--)if(O=Ee[ke],!(O["s-cn"]||O["s-nr"]||O["s-hn"]===it["s-hn"]||O["s-sh"]&&O["s-sh"]===it["s-hn"]))if(K(O,nt)){let Ht=z.find(It=>It.$nodeToRelocate$===O);Hr=!0,O["s-sn"]=O["s-sn"]||nt,Ht?(Ht.$nodeToRelocate$["s-sh"]=it["s-hn"],Ht.$slotRefNode$=it):(O["s-sh"]=it["s-hn"],z.push({$slotRefNode$:it,$nodeToRelocate$:O})),O["s-sr"]&&z.map(It=>{K(It.$nodeToRelocate$,O["s-sn"])&&(Ht=z.find(jt=>jt.$nodeToRelocate$===O),Ht&&!It.$slotRefNode$&&(It.$slotRefNode$=Ht.$slotRefNode$))})}else z.some(Ht=>Ht.$nodeToRelocate$===O)||z.push({$nodeToRelocate$:O})}1===it.nodeType&&he(it)}},K=(C,O)=>1===C.nodeType?null===C.getAttribute("slot")&&""===O||C.getAttribute("slot")===O:C["s-sn"]===O||""===O,Q=C=>{C.$attrs$&&C.$attrs$.ref&&C.$attrs$.ref(null),C.$children$&&C.$children$.map(Q)},me=(C,O,Ee)=>{const ke=null==C?void 0:C.insertBefore(O,Ee);return $t(O,C),ke},gt=C=>{const O=[];return C&&O.push(...C["s-scs"]||[],C["s-si"],C["s-sc"],...gt(C.parentElement)),O},$t=(C,O,Ee=!1)=>{var ke;if(C&&O&&1===C.nodeType){const it=new Set(gt(O).filter(Boolean));if(it.size&&(null==(ke=C.classList)||ke.add(...C["s-scs"]=[...it]),C["s-ol"]||Ee))for(const nt of Array.from(C.childNodes))$t(nt,C,!0)}},Un=(C,O)=>{O&&!C.$onRenderResolve$&&O["s-p"]&&O["s-p"].push(new Promise(Ee=>C.$onRenderResolve$=Ee))},Sn=(C,O)=>{if(C.$flags$|=16,!(4&C.$flags$))return Un(C,C.$ancestorComponent$),ot(()=>Fn(C,O));C.$flags$|=512},Fn=(C,O)=>{const it=C.$lazyInstance$;if(!it)throw new Error(`Can't render component <${C.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let nt;return O&&(C.$flags$|=256,C.$queuedListeners$&&(C.$queuedListeners$.map(([Ht,It])=>Mi(it,Ht,It)),C.$queuedListeners$=void 0),nt=Mi(it,"componentWillLoad")),nt=Jr(nt,()=>Mi(it,"componentWillRender")),Jr(nt,()=>ii(C,it,O))},Jr=(C,O)=>Jn(C)?C.then(O).catch(Ee=>{console.error(Ee),O()}):O(),Jn=C=>C instanceof Promise||C&&C.then&&"function"==typeof C.then,ii=function(){var C=(0,d.A)(function*(O,Ee,ke){var it;const nt=O.$hostElement$,It=nt["s-rc"];ke&&(C=>{const O=C.$cmpMeta$,Ee=C.$hostElement$,ke=O.$flags$,nt=Nt(Ee.shadowRoot?Ee.shadowRoot:Ee.getRootNode(),O,C.$modeName$);10&ke&&2&ke&&(Ee["s-sc"]=nt,Ee.classList.add(nt+"-h"),2&ke&&Ee.classList.add(nt+"-s"))})(O);_i(O,Ee,nt,ke),It&&(It.map(Zt=>Zt()),nt["s-rc"]=void 0);{const Zt=null!=(it=nt["s-p"])?it:[],dn=()=>Xi(O);0===Zt.length?dn():(Promise.all(Zt).then(dn),O.$flags$|=4,Zt.length=0)}});return function(Ee,ke,it){return C.apply(this,arguments)}}(),_i=(C,O,Ee,ke)=>{try{O=O.render&&O.render(),C.$flags$&=-17,C.$flags$|=2,((C,O,Ee=!1)=>{var ke,it,nt,Ht,It;const jt=C.$hostElement$,Zt=C.$cmpMeta$,dn=C.$vnode$||Tn(null,null),In=(C=>C&&C.$tag$===gn)(O)?O:Kn(null,null,O);if(Dn=jt.tagName,Zt.$attrsToReflect$&&(In.$attrs$=In.$attrs$||{},Zt.$attrsToReflect$.map(([Vn,Mn])=>In.$attrs$[Mn]=jt[Vn])),Ee&&In.$attrs$)for(const Vn of Object.keys(In.$attrs$))jt.hasAttribute(Vn)&&!["key","ref","style","class"].includes(Vn)&&(In.$attrs$[Vn]=jt[Vn]);if(In.$tag$=null,In.$flags$|=4,C.$vnode$=In,In.$elm$=dn.$elm$=jt.shadowRoot||jt,mt=jt["s-sc"],gr=!!(1&Zt.$flags$),yn=jt["s-cr"],Hr=!1,dr(dn,In,Ee),zt.$flags$|=1,at){he(In.$elm$);for(const Vn of z){const Mn=Vn.$nodeToRelocate$;if(!Mn["s-ol"]){const kr=Pe.createTextNode("");kr["s-nr"]=Mn,me(Mn.parentNode,Mn["s-ol"]=kr,Mn)}}for(const Vn of z){const Mn=Vn.$nodeToRelocate$,kr=Vn.$slotRefNode$;if(kr){const Wr=kr.parentNode;let ti=kr.nextSibling;if(ti&&1===ti.nodeType){let $r=null==(ke=Mn["s-ol"])?void 0:ke.previousSibling;for(;$r;){let ni=null!=(it=$r["s-nr"])?it:null;if(ni&&ni["s-sn"]===Mn["s-sn"]&&Wr===ni.parentNode){for(ni=ni.nextSibling;ni===Mn||null!=ni&&ni["s-sr"];)ni=null==ni?void 0:ni.nextSibling;if(!ni||!ni["s-nr"]){ti=ni;break}}$r=$r.previousSibling}}(!ti&&Wr!==Mn.parentNode||Mn.nextSibling!==ti)&&Mn!==ti&&(me(Wr,Mn,ti),1===Mn.nodeType&&(Mn.hidden=null!=(nt=Mn["s-ih"])&&nt)),Mn&&"function"==typeof kr["s-rf"]&&kr["s-rf"](Mn)}else 1===Mn.nodeType&&(Ee&&(Mn["s-ih"]=null!=(Ht=Mn.hidden)&&Ht),Mn.hidden=!0)}}if(Hr&&te(In.$elm$),zt.$flags$&=-2,z.length=0,2&Zt.$flags$)for(const Vn of In.$elm$.childNodes)Vn["s-hn"]!==Dn&&!Vn["s-sh"]&&(Ee&&null==Vn["s-ih"]&&(Vn["s-ih"]=null!=(It=Vn.hidden)&&It),Vn.hidden=!0);yn=void 0})(C,O,ke)}catch(it){Ve(it,C.$hostElement$)}return null},Xi=C=>{const Ee=C.$hostElement$,it=C.$lazyInstance$,nt=C.$ancestorComponent$;Mi(it,"componentDidRender"),64&C.$flags$?Mi(it,"componentDidUpdate"):(C.$flags$|=64,Qi(Ee),Mi(it,"componentDidLoad"),C.$onReadyResolve$(Ee),nt||co()),C.$onInstanceResolve$(Ee),C.$onRenderResolve$&&(C.$onRenderResolve$(),C.$onRenderResolve$=void 0),512&C.$flags$&&Ne(()=>Sn(C,!1)),C.$flags$&=-517},ei=C=>{{const O=Be(C),Ee=O.$hostElement$.isConnected;return Ee&&2==(18&O.$flags$)&&Sn(O,!1),Ee}},co=C=>{Qi(Pe.documentElement),Ne(()=>ir(He,"appload",{detail:{namespace:"ionic"}}))},Mi=(C,O,Ee)=>{if(C&&C[O])try{return C[O](Ee)}catch(ke){Ve(ke)}},Qi=C=>C.classList.add("hydrated"),ro=(C,O,Ee)=>{var ke,it;const nt=C.prototype;if(O.$members$||O.$watchers$||C.watchers){C.watchers&&!O.$watchers$&&(O.$watchers$=C.watchers);const Ht=Object.entries(null!=(ke=O.$members$)?ke:{});if(Ht.map(([It,[jt]])=>{31&jt||2&Ee&&32&jt?Object.defineProperty(nt,It,{get(){return((C,O)=>Be(this).$instanceValues$.get(O))(0,It)},set(Zt){((C,O,Ee,ke)=>{const it=Be(C);if(!it)throw new Error(`Couldn't find host element for "${ke.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const nt=it.$hostElement$,Ht=it.$instanceValues$.get(O),It=it.$flags$,jt=it.$lazyInstance$;Ee=((C,O)=>null==C||kn(C)?C:4&O?"false"!==C&&(""===C||!!C):2&O?parseFloat(C):1&O?String(C):C)(Ee,ke.$members$[O][0]);const Zt=Number.isNaN(Ht)&&Number.isNaN(Ee);if((!(8&It)||void 0===Ht)&&Ee!==Ht&&!Zt&&(it.$instanceValues$.set(O,Ee),jt)){if(ke.$watchers$&&128&It){const In=ke.$watchers$[O];In&&In.map(Vn=>{try{jt[Vn](Ee,Ht,O)}catch(Mn){Ve(Mn,nt)}})}2==(18&It)&&Sn(it,!1)}})(this,It,Zt,O)},configurable:!0,enumerable:!0}):1&Ee&&64&jt&&Object.defineProperty(nt,It,{value(...Zt){var dn;const In=Be(this);return null==(dn=null==In?void 0:In.$onInstancePromise$)?void 0:dn.then(()=>{var Vn;return null==(Vn=In.$lazyInstance$)?void 0:Vn[It](...Zt)})}})}),1&Ee){const It=new Map;nt.attributeChangedCallback=function(jt,Zt,dn){zt.jmp(()=>{var In;const Vn=It.get(jt);if(this.hasOwnProperty(Vn))dn=this[Vn],delete this[Vn];else{if(nt.hasOwnProperty(Vn)&&"number"==typeof this[Vn]&&this[Vn]==dn)return;if(null==Vn){const Mn=Be(this),kr=null==Mn?void 0:Mn.$flags$;if(kr&&!(8&kr)&&128&kr&&dn!==Zt){const Wr=Mn.$lazyInstance$,ti=null==(In=O.$watchers$)?void 0:In[jt];null==ti||ti.forEach($r=>{null!=Wr[$r]&&Wr[$r].call(Wr,dn,Zt,jt)})}return}}this[Vn]=(null!==dn||"boolean"!=typeof this[Vn])&&dn})},C.observedAttributes=Array.from(new Set([...Object.keys(null!=(it=O.$watchers$)?it:{}),...Ht.filter(([jt,Zt])=>15&Zt[0]).map(([jt,Zt])=>{var dn;const In=Zt[1]||jt;return It.set(In,jt),512&Zt[0]&&(null==(dn=O.$attrsToReflect$)||dn.push([jt,In])),In})]))}}return C},Eo=function(){var C=(0,d.A)(function*(O,Ee,ke,it){let nt;if(!(32&Ee.$flags$)){if(Ee.$flags$|=32,ke.$lazyBundleId$){const Zt=(C=>{const ke=C.$tagName$.replace(/-/g,"_"),it=C.$lazyBundleId$;if(!it)return;const nt=ze.get(it);return nt?nt[ke]:L(8996)(`./${it}.entry.js`).then(Ht=>(ze.set(it,Ht),Ht[ke]),Ve)})(ke);if(Zt&&"then"in Zt){const In=()=>{};nt=yield Zt,In()}else nt=Zt;if(!nt)throw new Error(`Constructor for "${ke.$tagName$}#${Ee.$modeName$}" was not found`);nt.isProxied||(ke.$watchers$=nt.watchers,ro(nt,ke,2),nt.isProxied=!0);const dn=()=>{};Ee.$flags$|=8;try{new nt(Ee)}catch(In){Ve(In)}Ee.$flags$&=-9,Ee.$flags$|=128,dn(),Ao(Ee.$lazyInstance$)}else nt=O.constructor,customElements.whenDefined(O.localName).then(()=>Ee.$flags$|=128);if(nt&&nt.style){let Zt;"string"==typeof nt.style?Zt=nt.style:"string"!=typeof nt.style&&(Ee.$modeName$=(C=>ct.map(O=>O(C)).find(O=>!!O))(O),Ee.$modeName$&&(Zt=nt.style[Ee.$modeName$]));const dn=Ot(ke,Ee.$modeName$);if(!Je.has(dn)){const In=()=>{};((C,O,Ee)=>{let ke=Je.get(C);Te&&Ee?(ke=ke||new CSSStyleSheet,"string"==typeof ke?ke=O:ke.replaceSync(O)):ke=O,Je.set(C,ke)})(dn,Zt,!!(1&ke.$flags$)),In()}}}const Ht=Ee.$ancestorComponent$,It=()=>Sn(Ee,!0);Ht&&Ht["s-rc"]?Ht["s-rc"].push(It):It()});return function(Ee,ke,it,nt){return C.apply(this,arguments)}}(),Ao=C=>{Mi(C,"connectedCallback")},Pi=C=>{const O=C["s-cr"]=Pe.createComment("");O["s-cn"]=!0,me(C,O,C.firstChild)},pi=C=>{Mi(C,"disconnectedCallback")},hs=function(){var C=(0,d.A)(function*(O){if(!(1&zt.$flags$)){const Ee=Be(O);Ee.$rmListeners$&&(Ee.$rmListeners$.map(ke=>ke()),Ee.$rmListeners$=void 0),null!=Ee&&Ee.$lazyInstance$?pi(Ee.$lazyInstance$):null!=Ee&&Ee.$onReadyPromise$&&Ee.$onReadyPromise$.then(()=>pi(Ee.$lazyInstance$))}});return function(Ee){return C.apply(this,arguments)}}(),wr=C=>{const O=C.cloneNode;C.cloneNode=function(Ee){const ke=this,it=ke.shadowRoot&&true,nt=O.call(ke,!!it&&Ee);if(!it&&Ee){let It,jt,Ht=0;const Zt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Ht<ke.childNodes.length;Ht++)It=ke.childNodes[Ht]["s-nr"],jt=Zt.every(dn=>!ke.childNodes[Ht][dn]),It&&(nt.__appendChild?nt.__appendChild(It.cloneNode(!0)):nt.appendChild(It.cloneNode(!0))),jt&&nt.appendChild(ke.childNodes[Ht].cloneNode(!0))}return nt}},Ia=C=>{C.__appendChild=C.appendChild,C.appendChild=function(O){const Ee=O["s-sn"]=gi(O),ke=xr(this.childNodes,Ee,this.tagName);if(ke){const it=Ps(ke,Ee),nt=it[it.length-1],Ht=me(nt.parentNode,O,nt.nextSibling);return te(this),Ht}return this.__appendChild(O)}},Ms=C=>{C.__removeChild=C.removeChild,C.removeChild=function(O){if(O&&typeof O["s-sn"]<"u"){const Ee=xr(this.childNodes,O["s-sn"],this.tagName);if(Ee){const it=Ps(Ee,O["s-sn"]).find(nt=>nt===O);if(it)return it.remove(),void te(this)}}return this.__removeChild(O)}},Qo=C=>{const O=C.prepend;C.prepend=function(...Ee){Ee.forEach(ke=>{"string"==typeof ke&&(ke=this.ownerDocument.createTextNode(ke));const it=ke["s-sn"]=gi(ke),nt=xr(this.childNodes,it,this.tagName);if(nt){const Ht=document.createTextNode("");Ht["s-nr"]=ke,nt["s-cr"].parentNode.__appendChild(Ht),ke["s-ol"]=Ht;const jt=Ps(nt,it)[0];return me(jt.parentNode,ke,jt.nextSibling)}return 1===ke.nodeType&&ke.getAttribute("slot")&&(ke.hidden=!0),O.call(this,ke)})}},oi=C=>{C.append=function(...O){O.forEach(Ee=>{"string"==typeof Ee&&(Ee=this.ownerDocument.createTextNode(Ee)),this.appendChild(Ee)})}},Ea=C=>{const O=C.insertAdjacentHTML;C.insertAdjacentHTML=function(Ee,ke){if("afterbegin"!==Ee&&"beforeend"!==Ee)return O.call(this,Ee,ke);const it=this.ownerDocument.createElement("_");let nt;if(it.innerHTML=ke,"afterbegin"===Ee)for(;nt=it.firstChild;)this.prepend(nt);else if("beforeend"===Ee)for(;nt=it.firstChild;)this.append(nt)}},ao=C=>{C.insertAdjacentText=function(O,Ee){this.insertAdjacentHTML(O,Ee)}},Sr=C=>{const O=C.insertAdjacentElement;C.insertAdjacentElement=function(Ee,ke){return"afterbegin"!==Ee&&"beforeend"!==Ee?O.call(this,Ee,ke):"afterbegin"===Ee?(this.prepend(ke),ke):("beforeend"===Ee&&this.append(ke),ke)}},Yo=C=>{const O=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(C,"__textContent",O),Object.defineProperty(C,"textContent",{get(){return" "+di(this.childNodes).map(it=>{var nt,Ht;const It=[];let jt=it.nextSibling;for(;jt&&jt["s-sn"]===it["s-sn"];)(3===jt.nodeType||1===jt.nodeType)&&It.push(null!=(Ht=null==(nt=jt.textContent)?void 0:nt.trim())?Ht:""),jt=jt.nextSibling;return It.filter(Zt=>""!==Zt).join(" ")}).filter(it=>""!==it).join(" ")+" "},set(Ee){di(this.childNodes).forEach(it=>{let nt=it.nextSibling;for(;nt&&nt["s-sn"]===it["s-sn"];){const Ht=nt;nt=nt.nextSibling,Ht.remove()}if(""===it["s-sn"]){const Ht=this.ownerDocument.createTextNode(Ee);Ht["s-sn"]="",me(it.parentElement,Ht,it.nextSibling)}else it.remove()})}})},Qr=(C,O)=>{class Ee extends Array{item(it){return this[it]}}if(8&O.$flags$){const ke=C.__lookupGetter__("childNodes");Object.defineProperty(C,"children",{get(){return this.childNodes.map(it=>1===it.nodeType)}}),Object.defineProperty(C,"childElementCount",{get:()=>C.children.length}),Object.defineProperty(C,"childNodes",{get(){const it=ke.call(this);if(!(1&zt.$flags$)&&2&Be(this).$flags$){const nt=new Ee;for(let Ht=0;Ht<it.length;Ht++){const It=it[Ht]["s-nr"];It&&nt.push(It)}return nt}return Ee.from(it)}})}},di=C=>{const O=[];for(const Ee of Array.from(C))Ee["s-sr"]&&O.push(Ee),O.push(...di(Ee.childNodes));return O},gi=C=>C["s-sn"]||1===C.nodeType&&C.getAttribute("slot")||"",xr=(C,O,Ee)=>{let it,ke=0;for(;ke<C.length;ke++)if(it=C[ke],it["s-sr"]&&it["s-sn"]===O&&it["s-hn"]===Ee||(it=xr(it.childNodes,O,Ee),it))return it;return null},Ps=(C,O)=>{const Ee=[C];for(;(C=C.nextSibling)&&C["s-sn"]===O;)Ee.push(C);return Ee},io=(C,O={})=>{var Ee;const it=[],nt=O.exclude||[],Ht=He.customElements,It=Pe.head,jt=It.querySelector("meta[charset]"),Zt=Pe.createElement("style"),dn=[];let In,Vn=!0;Object.assign(zt,O),zt.$resourcesUrl$=new URL(O.resourcesUrl||"./",Pe.baseURI).href,zt.$flags$|=2;let Mn=!1;if(C.map(kr=>{kr[1].map(Wr=>{var ti;const $r={$flags$:Wr[0],$tagName$:Wr[1],$members$:Wr[2],$listeners$:Wr[3]};4&$r.$flags$&&(Mn=!0),$r.$members$=Wr[2],$r.$listeners$=Wr[3],$r.$attrsToReflect$=[],$r.$watchers$=null!=(ti=Wr[4])?ti:{};const ni=$r.$tagName$,Ci=class extends HTMLElement{constructor(Yi){if(super(Yi),this.hasRegisteredEventListeners=!1,((C,O)=>{const Ee={$flags$:0,$hostElement$:C,$cmpMeta$:O,$instanceValues$:new Map};Ee.$onInstancePromise$=new Promise(ke=>Ee.$onInstanceResolve$=ke),Ee.$onReadyPromise$=new Promise(ke=>Ee.$onReadyResolve$=ke),C["s-p"]=[],C["s-rc"]=[],De.set(C,Ee)})(Yi=this,$r),1&$r.$flags$)if(Yi.shadowRoot){if("open"!==Yi.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${$r.$tagName$}! Mode is set to ${Yi.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Yi.attachShadow({mode:"open",delegatesFocus:!!(16&$r.$flags$)})}connectedCallback(){const Yi=Be(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Vr(this,Yi,$r.$listeners$)),In&&(clearTimeout(In),In=null),Vn?dn.push(this):zt.jmp(()=>(C=>{if(!(1&zt.$flags$)){const O=Be(C),Ee=O.$cmpMeta$,ke=()=>{};if(1&O.$flags$)Vr(C,O,Ee.$listeners$),null!=O&&O.$lazyInstance$?Ao(O.$lazyInstance$):null!=O&&O.$onReadyPromise$&&O.$onReadyPromise$.then(()=>Ao(O.$lazyInstance$));else{let it;if(O.$flags$|=1,it=C.getAttribute(pe),it){if(1&Ee.$flags$){const nt=Nt(C.shadowRoot,Ee,C.getAttribute("s-mode"));C.classList.remove(nt+"-h",nt+"-s")}((C,O,Ee,ke)=>{const nt=C.shadowRoot,Ht=[],jt=nt?[]:null,Zt=ke.$vnode$=Tn(O,null);zt.$orgLocNodes$||_n(Pe.body,zt.$orgLocNodes$=new Map),C[pe]=Ee,C.removeAttribute(pe),Xr(Zt,Ht,[],jt,C,C,Ee),Ht.map(dn=>{const In=dn.$hostId$+"."+dn.$nodeId$,Vn=zt.$orgLocNodes$.get(In),Mn=dn.$elm$;Vn&&""===Vn["s-en"]&&Vn.parentNode.insertBefore(Mn,Vn.nextSibling),nt||(Mn["s-hn"]=O,Vn&&(Mn["s-ol"]=Vn,Mn["s-ol"]["s-nr"]=Mn)),zt.$orgLocNodes$.delete(In)}),nt&&jt.map(dn=>{dn&&nt.appendChild(dn)})})(C,Ee.$tagName$,it,O)}it||12&Ee.$flags$&&Pi(C);{let nt=C;for(;nt=nt.parentNode||nt.host;)if(1===nt.nodeType&&nt.hasAttribute("s-id")&&nt["s-p"]||nt["s-p"]){Un(O,O.$ancestorComponent$=nt);break}}Ee.$members$&&Object.entries(Ee.$members$).map(([nt,[Ht]])=>{if(31&Ht&&C.hasOwnProperty(nt)){const It=C[nt];delete C[nt],C[nt]=It}}),Eo(C,O,Ee)}ke()}})(this))}disconnectedCallback(){zt.jmp(()=>hs(this))}componentOnReady(){return Be(this).$onReadyPromise$}};2&$r.$flags$&&((C,O)=>{wr(C),Ia(C),oi(C),Qo(C),Sr(C),Ea(C),ao(C),Yo(C),Qr(C,O),Ms(C)})(Ci.prototype,$r),$r.$lazyBundleId$=kr[0],!nt.includes(ni)&&!Ht.get(ni)&&(it.push(ni),Ht.define(ni,ro(Ci,$r,1)))})}),it.length>0&&(Mn&&(Zt.textContent+=Ye),Zt.textContent+=it.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Zt.innerHTML.length)){Zt.setAttribute("data-styles","");const kr=null!=(Ee=zt.$nonce$)?Ee:Ft(Pe);null!=kr&&Zt.setAttribute("nonce",kr),It.insertBefore(Zt,jt?jt.nextSibling:It.firstChild)}Vn=!1,dn.length?dn.map(kr=>kr.connectedCallback()):zt.jmp(()=>In=setTimeout(co,30))},Vr=(C,O,Ee,ke)=>{Ee&&Ee.map(([it,nt,Ht])=>{const It=X(C,it),jt=R(O,Ht),Zt=le(it);zt.ael(It,nt,jt,Zt),(O.$rmListeners$=O.$rmListeners$||[]).push(()=>zt.rel(It,nt,jt,Zt))})},R=(C,O)=>Ee=>{var ke;try{256&C.$flags$?null==(ke=C.$lazyInstance$)||ke[O](Ee):(C.$queuedListeners$=C.$queuedListeners$||[]).push([O,Ee])}catch(it){Ve(it)}},X=(C,O)=>4&O?Pe:8&O?He:16&O?Pe.body:C,le=C=>wn?{passive:!!(1&C),capture:!!(2&C)}:!!(2&C)},8607:(vn,_t,L)=>{"use strict";L.r(_t),L.d(_t,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Ke});var d=L(1970);const f=(ze,$e,Je,ct)=>{const et=Z(ze)?{capture:!!ct.capture,passive:!!ct.passive}:!!ct.capture;let je,vt;return ze.__zone_symbol__addEventListener?(je="__zone_symbol__addEventListener",vt="__zone_symbol__removeEventListener"):(je="addEventListener",vt="removeEventListener"),ze[je]($e,Je,et),()=>{ze[vt]($e,Je,et)}},Z=ze=>{if(void 0===ee)try{const $e=Object.defineProperty({},"passive",{get:()=>{ee=!0}});ze.addEventListener("optsTest",()=>{},$e)}catch{ee=!1}return!!ee};let ee;const De=ze=>ze instanceof Document?ze:ze.ownerDocument,Ke=ze=>{let $e=!1,Je=!1,ct=!0,et=!1;const je=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ze),vt=je.canStart,ht=je.onWillStart,pe=je.onStart,ve=je.onEnd,Re=je.notCaptured,rt=je.onMove,Ye=je.threshold,bt=je.passive,He=je.blurOnStart,Pe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Lt=((ze,$e,Je)=>{const ct=Je*(Math.PI/180),et="x"===ze,je=Math.cos(ct),vt=$e*$e;let ht=0,pe=0,ve=!1,Re=0;return{start(rt,Ye){ht=rt,pe=Ye,Re=0,ve=!0},detect(rt,Ye){if(!ve)return!1;const bt=rt-ht,He=Ye-pe,Pe=bt*bt+He*He;if(Pe<vt)return!1;const Lt=Math.sqrt(Pe),zt=(et?bt:He)/Lt;return Re=zt>je?1:zt<-je?-1:0,ve=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(je.direction,je.threshold,je.maxAngle),zt=d.G.createGesture({name:ze.gestureName,priority:ze.gesturePriority,disableScroll:ze.disableScroll}),wn=()=>{$e&&(et=!1,rt&&rt(Pe))},kt=()=>!!zt.capture()&&($e=!0,ct=!1,Pe.startX=Pe.currentX,Pe.startY=Pe.currentY,Pe.startTime=Pe.currentTime,ht?ht(Pe).then(Ie):Ie(),!0),Ie=()=>{He&&(()=>{if(typeof document<"u"){const Ue=document.activeElement;null!=Ue&&Ue.blur&&Ue.blur()}})(),pe&&pe(Pe),ct=!0},_e=()=>{$e=!1,Je=!1,et=!1,ct=!0,zt.release()},Y=Ue=>{const Ne=$e,tt=ct;if(_e(),tt){if(Ce(Pe,Ue),Ne)return void(ve&&ve(Pe));Re&&Re(Pe)}},Ae=((ze,$e,Je,ct,et)=>{let je,vt,ht,pe,ve,Re,rt,Ye=0;const bt=Te=>{Ye=Date.now()+2e3,$e(Te)&&(!vt&&Je&&(vt=f(ze,"touchmove",Je,et)),ht||(ht=f(Te.target,"touchend",Pe,et)),pe||(pe=f(Te.target,"touchcancel",Pe,et)))},He=Te=>{Ye>Date.now()||$e(Te)&&(!Re&&Je&&(Re=f(De(ze),"mousemove",Je,et)),rt||(rt=f(De(ze),"mouseup",Lt,et)))},Pe=Te=>{zt(),ct&&ct(Te)},Lt=Te=>{cn(),ct&&ct(Te)},zt=()=>{vt&&vt(),ht&&ht(),pe&&pe(),vt=ht=pe=void 0},cn=()=>{Re&&Re(),rt&&rt(),Re=rt=void 0},Jt=()=>{zt(),cn()},wn=(Te=!0)=>{Te?(je||(je=f(ze,"touchstart",bt,et)),ve||(ve=f(ze,"mousedown",He,et))):(je&&je(),ve&&ve(),je=ve=void 0,Jt())};return{enable:wn,stop:Jt,destroy:()=>{wn(!1),ct=Je=$e=void 0}}})(je.el,Ue=>{const Ne=Ve(Ue);return!(Je||!ct||(ce(Ue,Pe),Pe.startX=Pe.currentX,Pe.startY=Pe.currentY,Pe.startTime=Pe.currentTime=Ne,Pe.velocityX=Pe.velocityY=Pe.deltaX=Pe.deltaY=0,Pe.event=Ue,vt&&!1===vt(Pe))||(zt.release(),!zt.start()))&&(Je=!0,0===Ye?kt():(Lt.start(Pe.startX,Pe.startY),!0))},Ue=>{$e?!et&&ct&&(et=!0,Ce(Pe,Ue),requestAnimationFrame(wn)):(Ce(Pe,Ue),Lt.detect(Pe.currentX,Pe.currentY)&&(!Lt.isGesture()||!kt())&&Xe())},Y,{capture:!1,passive:bt}),Xe=()=>{_e(),Ae.stop(),Re&&Re(Pe)};return{enable(Ue=!0){Ue||($e&&Y(void 0),_e()),Ae.enable(Ue)},destroy(){zt.destroy(),Ae.destroy()}}},Ce=(ze,$e)=>{if(!$e)return;const Je=ze.currentX,ct=ze.currentY,et=ze.currentTime;ce($e,ze);const je=ze.currentX,vt=ze.currentY,pe=(ze.currentTime=Ve($e))-et;if(pe>0&&pe<100){const Re=(vt-ct)/pe;ze.velocityX=(je-Je)/pe*.7+.3*ze.velocityX,ze.velocityY=.7*Re+.3*ze.velocityY}ze.deltaX=je-ze.startX,ze.deltaY=vt-ze.startY,ze.event=$e},ce=(ze,$e)=>{let Je=0,ct=0;if(ze){const et=ze.changedTouches;if(et&&et.length>0){const je=et[0];Je=je.clientX,ct=je.clientY}else void 0!==ze.pageX&&(Je=ze.pageX,ct=ze.pageY)}$e.currentX=Je,$e.currentY=ct},Ve=ze=>ze.timeStamp||Date.now()},3604:(vn,_t,L)=>{"use strict";L.d(_t,{b:()=>Be,c:()=>Ke,d:()=>Ce,e:()=>Jt,g:()=>Te,l:()=>zt,s:()=>wn,t:()=>je,w:()=>cn});var d=L(467),f=L(9483),Z=L(4261),ee=L(4929),ae=L(4920);const Be="ionViewWillLeave",Ke="ionViewDidLeave",Ce="ionViewWillUnload",ce=Ie=>{Ie.tabIndex=-1,Ie.focus()},Ve=Ie=>null!==Ie.offsetParent,$e="ion-last-focus",et_saveViewFocus=Y=>{if(f.c.get("focusManagerPriority",!1)){const Xe=document.activeElement;null!==Xe&&null!=Y&&Y.contains(Xe)&&Xe.setAttribute($e,"true")}},et_setViewFocus=Y=>{const Ae=f.c.get("focusManagerPriority",!1);if(Array.isArray(Ae)&&!Y.contains(document.activeElement)){const Xe=Y.querySelector(`[${$e}]`);if(Xe&&Ve(Xe))return void ce(Xe);for(const Ue of Ae)switch(Ue){case"content":const Ne=Y.querySelector('main, [role="main"]');if(Ne&&Ve(Ne))return void ce(Ne);break;case"heading":const tt=Y.querySelector('h1, [role="heading"][aria-level="1"]');if(tt&&Ve(tt))return void ce(tt);break;case"banner":const ot=Y.querySelector('header, [role="banner"]');if(ot&&Ve(ot))return void ce(ot);break;default:(0,ee.p)(`Unrecognized focus manager priority value ${Ue}`)}ce(Y)}},je=Ie=>new Promise((_e,Y)=>{(0,Z.w)(()=>{vt(Ie),ht(Ie).then(Ae=>{Ae.animation&&Ae.animation.destroy(),pe(Ie),_e(Ae)},Ae=>{pe(Ie),Y(Ae)})})}),vt=Ie=>{const _e=Ie.enteringEl,Y=Ie.leavingEl;et_saveViewFocus(Y),kt(_e,Y,Ie.direction),Ie.showGoBack?_e.classList.add("can-go-back"):_e.classList.remove("can-go-back"),wn(_e,!1),_e.style.setProperty("pointer-events","none"),Y&&(wn(Y,!1),Y.style.setProperty("pointer-events","none"))},ht=function(){var Ie=(0,d.A)(function*(_e){const Y=yield ve(_e);return Y&&Z.B.isBrowser?Re(Y,_e):rt(_e)});return function(Y){return Ie.apply(this,arguments)}}(),pe=Ie=>{const _e=Ie.enteringEl,Y=Ie.leavingEl;_e.classList.remove("ion-page-invisible"),_e.style.removeProperty("pointer-events"),void 0!==Y&&(Y.classList.remove("ion-page-invisible"),Y.style.removeProperty("pointer-events")),et_setViewFocus(_e)},ve=function(){var Ie=(0,d.A)(function*(_e){return _e.leavingEl&&_e.animated&&0!==_e.duration?_e.animationBuilder?_e.animationBuilder:"ios"===_e.mode?(yield Promise.resolve().then(L.bind(L,5022))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,3615))).mdTransitionAnimation:void 0});return function(Y){return Ie.apply(this,arguments)}}(),Re=function(){var Ie=(0,d.A)(function*(_e,Y){yield Ye(Y,!0);const Ae=_e(Y.baseEl,Y);Pe(Y.enteringEl,Y.leavingEl);const Xe=yield He(Ae,Y);return Y.progressCallback&&Y.progressCallback(void 0),Xe&&Lt(Y.enteringEl,Y.leavingEl),{hasCompleted:Xe,animation:Ae}});return function(Y,Ae){return Ie.apply(this,arguments)}}(),rt=function(){var Ie=(0,d.A)(function*(_e){const Y=_e.enteringEl,Ae=_e.leavingEl,Xe=f.c.get("focusManagerPriority",!1);return yield Ye(_e,Xe),Pe(Y,Ae),Lt(Y,Ae),{hasCompleted:!0}});return function(Y){return Ie.apply(this,arguments)}}(),Ye=function(){var Ie=(0,d.A)(function*(_e,Y){(void 0!==_e.deepWait?_e.deepWait:Y)&&(yield Promise.all([Jt(_e.enteringEl),Jt(_e.leavingEl)])),yield bt(_e.viewIsReady,_e.enteringEl)});return function(Y,Ae){return Ie.apply(this,arguments)}}(),bt=function(){var Ie=(0,d.A)(function*(_e,Y){_e&&(yield _e(Y))});return function(Y,Ae){return Ie.apply(this,arguments)}}(),He=(Ie,_e)=>{const Y=_e.progressCallback,Ae=new Promise(Xe=>{Ie.onFinish(Ue=>Xe(1===Ue))});return Y?(Ie.progressStart(!0),Y(Ie)):Ie.play(),Ae},Pe=(Ie,_e)=>{zt(_e,Be),zt(Ie,"ionViewWillEnter")},Lt=(Ie,_e)=>{zt(Ie,"ionViewDidEnter"),zt(_e,Ke)},zt=(Ie,_e)=>{if(Ie){const Y=new CustomEvent(_e,{bubbles:!1,cancelable:!1});Ie.dispatchEvent(Y)}},cn=()=>new Promise(Ie=>(0,ae.r)(()=>(0,ae.r)(()=>Ie()))),Jt=function(){var Ie=(0,d.A)(function*(_e){const Y=_e;if(Y){if(null!=Y.componentOnReady){if(null!=(yield Y.componentOnReady()))return}else if(null!=Y.__registerHost)return void(yield new Promise(Xe=>(0,ae.r)(Xe)));yield Promise.all(Array.from(Y.children).map(Jt))}});return function(Y){return Ie.apply(this,arguments)}}(),wn=(Ie,_e)=>{_e?(Ie.setAttribute("aria-hidden","true"),Ie.classList.add("ion-page-hidden")):(Ie.hidden=!1,Ie.removeAttribute("aria-hidden"),Ie.classList.remove("ion-page-hidden"))},kt=(Ie,_e,Y)=>{void 0!==Ie&&(Ie.style.zIndex="back"===Y?"99":"101"),void 0!==_e&&(_e.style.zIndex="100")},Te=Ie=>Ie.classList.contains("ion-page")?Ie:Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ie},4929:(vn,_t,L)=>{"use strict";L.d(_t,{a:()=>f,b:()=>Z,p:()=>d});const d=(ee,...ae)=>console.warn(`[Ionic Warning]: ${ee}`,...ae),f=(ee,...ae)=>console.error(`[Ionic Error]: ${ee}`,...ae),Z=(ee,...ae)=>console.error(`<${ee.tagName.toLowerCase()}> must be used inside ${ae.join(" or ")}.`)},8476:(vn,_t,L)=>{"use strict";L.d(_t,{d:()=>f,w:()=>d});const d=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},9568:(vn,_t,L)=>{"use strict";L.d(_t,{m:()=>ze});var d=L(467),f=L(8476),Z=L(7192),ee=L(4929),ae=L(4920),de=L(9483),De=L(9986);const Be=$e=>(0,De.c)().duration($e?400:300),Ke=$e=>{let Je,ct;const et=$e.width+8,je=(0,De.c)(),vt=(0,De.c)();$e.isEndSide?(Je=et+"px",ct="0px"):(Je=-et+"px",ct="0px"),je.addElement($e.menuInnerEl).fromTo("transform",`translateX(${Je})`,`translateX(${ct})`);const pe="ios"===(0,de.b)($e),ve=pe?.2:.25;return vt.addElement($e.backdropEl).fromTo("opacity",.01,ve),Be(pe).addAnimation([je,vt])},Ce=$e=>{let Je,ct;const et=(0,de.b)($e),je=$e.width;$e.isEndSide?(Je=-je+"px",ct=je+"px"):(Je=je+"px",ct=-je+"px");const vt=(0,De.c)().addElement($e.menuInnerEl).fromTo("transform",`translateX(${ct})`,"translateX(0px)"),ht=(0,De.c)().addElement($e.contentEl).fromTo("transform","translateX(0px)",`translateX(${Je})`),pe=(0,De.c)().addElement($e.backdropEl).fromTo("opacity",.01,.32);return Be("ios"===et).addAnimation([vt,ht,pe])},ce=$e=>{const Je=(0,de.b)($e),ct=$e.width*($e.isEndSide?-1:1)+"px",et=(0,De.c)().addElement($e.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`);return Be("ios"===Je).addAnimation(et)},ze=(()=>{const $e=new Map,Je=[],ct=function(){var _e=(0,d.A)(function*(Y){const Ae=yield Re(Y,!0);return!!Ae&&Ae.open()});return function(Ae){return _e.apply(this,arguments)}}(),et=function(){var _e=(0,d.A)(function*(Y){const Ae=yield void 0!==Y?Re(Y,!0):rt();return void 0!==Ae&&Ae.close()});return function(Ae){return _e.apply(this,arguments)}}(),je=function(){var _e=(0,d.A)(function*(Y){const Ae=yield Re(Y,!0);return!!Ae&&Ae.toggle()});return function(Ae){return _e.apply(this,arguments)}}(),vt=function(){var _e=(0,d.A)(function*(Y,Ae){const Xe=yield Re(Ae);return Xe&&(Xe.disabled=!Y),Xe});return function(Ae,Xe){return _e.apply(this,arguments)}}(),ht=function(){var _e=(0,d.A)(function*(Y,Ae){const Xe=yield Re(Ae);return Xe&&(Xe.swipeGesture=Y),Xe});return function(Ae,Xe){return _e.apply(this,arguments)}}(),pe=function(){var _e=(0,d.A)(function*(Y){if(null!=Y){const Ae=yield Re(Y);return void 0!==Ae&&Ae.isOpen()}return void 0!==(yield rt())});return function(Ae){return _e.apply(this,arguments)}}(),ve=function(){var _e=(0,d.A)(function*(Y){const Ae=yield Re(Y);return!!Ae&&!Ae.disabled});return function(Ae){return _e.apply(this,arguments)}}(),Re=function(){var _e=(0,d.A)(function*(Y,Ae=!1){if(yield Ie(),"start"===Y||"end"===Y){const Ue=Je.filter(tt=>tt.side===Y&&!tt.disabled);if(Ue.length>=1)return Ue.length>1&&Ae&&(0,ee.p)(`menuController queried for a menu on the "${Y}" side, but ${Ue.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ue.map(tt=>tt.el)),Ue[0].el;const Ne=Je.filter(tt=>tt.side===Y);if(Ne.length>=1)return Ne.length>1&&Ae&&(0,ee.p)(`menuController queried for a menu on the "${Y}" side, but ${Ne.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ne.map(tt=>tt.el)),Ne[0].el}else if(null!=Y)return Te(Ue=>Ue.menuId===Y);return Te(Ue=>!Ue.disabled)||(Je.length>0?Je[0].el:void 0)});return function(Ae){return _e.apply(this,arguments)}}(),rt=function(){var _e=(0,d.A)(function*(){return yield Ie(),Jt()});return function(){return _e.apply(this,arguments)}}(),Ye=function(){var _e=(0,d.A)(function*(){return yield Ie(),wn()});return function(){return _e.apply(this,arguments)}}(),bt=function(){var _e=(0,d.A)(function*(){return yield Ie(),kt()});return function(){return _e.apply(this,arguments)}}(),He=(_e,Y)=>{$e.set(_e,Y)},zt=function(){var _e=(0,d.A)(function*(Y,Ae,Xe){if(kt())return!1;if(Ae){const Ue=yield rt();Ue&&Y.el!==Ue&&(yield Ue.setOpen(!1,!1))}return Y._setOpen(Ae,Xe)});return function(Ae,Xe,Ue){return _e.apply(this,arguments)}}(),Jt=()=>Te(_e=>_e._isOpen),wn=()=>Je.map(_e=>_e.el),kt=()=>Je.some(_e=>_e.isAnimating),Te=_e=>{const Y=Je.find(_e);if(void 0!==Y)return Y.el},Ie=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(_e=>new Promise(Y=>(0,ae.c)(_e,Y))));return He("reveal",ce),He("push",Ce),He("overlay",Ke),null==f.d||f.d.addEventListener("ionBackButton",_e=>{const Y=Jt();Y&&_e.detail.register(Z.MENU_BACK_BUTTON_PRIORITY,()=>Y.close())}),{registerAnimation:He,get:Re,getMenus:Ye,getOpen:rt,isEnabled:ve,swipeGesture:ht,isAnimating:bt,isOpen:pe,enable:vt,toggle:je,close:et,open:ct,_getOpenSync:Jt,_createAnimation:(_e,Y)=>{const Ae=$e.get(_e);if(!Ae)throw new Error("animation not registered");return Ae(Y)},_register:_e=>{Je.indexOf(_e)<0&&Je.push(_e)},_unregister:_e=>{const Y=Je.indexOf(_e);Y>-1&&Je.splice(Y,1)},_setOpen:zt}})()},9483:(vn,_t,L)=>{"use strict";L.d(_t,{a:()=>ce,b:()=>wn,c:()=>Z,i:()=>kt});var d=L(4261);class f{constructor(){this.m=new Map}reset(Ie){this.m=new Map(Object.entries(Ie))}get(Ie,_e){const Y=this.m.get(Ie);return void 0!==Y?Y:_e}getBoolean(Ie,_e=!1){const Y=this.m.get(Ie);return void 0===Y?_e:"string"==typeof Y?"true"===Y:!!Y}getNumber(Ie,_e){const Y=parseFloat(this.m.get(Ie));return isNaN(Y)?void 0!==_e?_e:NaN:Y}set(Ie,_e){this.m.set(Ie,_e)}}const Z=new f,Ke="ionic-persist-config",ce=(Te,Ie)=>("string"==typeof Te&&(Ie=Te,Te=void 0),(Te=>Ve(Te))(Te).includes(Ie)),Ve=(Te=window)=>{if(typeof Te>"u")return[];Te.Ionic=Te.Ionic||{};let Ie=Te.Ionic.platforms;return null==Ie&&(Ie=Te.Ionic.platforms=ze(Te),Ie.forEach(_e=>Te.document.documentElement.classList.add(`plt-${_e}`))),Ie},ze=Te=>{const Ie=Z.get("platform");return Object.keys(cn).filter(_e=>{const Y=null==Ie?void 0:Ie[_e];return"function"==typeof Y?Y(Te):cn[_e](Te)})},Je=Te=>!!(Lt(Te,/iPad/i)||Lt(Te,/Macintosh/i)&&ve(Te)),je=Te=>Lt(Te,/android|sink/i),ve=Te=>zt(Te,"(any-pointer:coarse)"),rt=Te=>Ye(Te)||bt(Te),Ye=Te=>!!(Te.cordova||Te.phonegap||Te.PhoneGap),bt=Te=>{const Ie=Te.Capacitor;return!(null==Ie||!Ie.isNative)},Lt=(Te,Ie)=>Ie.test(Te.navigator.userAgent),zt=(Te,Ie)=>{var _e;return null===(_e=Te.matchMedia)||void 0===_e?void 0:_e.call(Te,Ie).matches},cn={ipad:Je,iphone:Te=>Lt(Te,/iPhone/i),ios:Te=>Lt(Te,/iPhone|iPod/i)||Je(Te),android:je,phablet:Te=>{const Ie=Te.innerWidth,_e=Te.innerHeight,Y=Math.min(Ie,_e),Ae=Math.max(Ie,_e);return Y>390&&Y<520&&Ae>620&&Ae<800},tablet:Te=>{const Ie=Te.innerWidth,_e=Te.innerHeight,Y=Math.min(Ie,_e),Ae=Math.max(Ie,_e);return Je(Te)||(Te=>je(Te)&&!Lt(Te,/mobile/i))(Te)||Y>460&&Y<820&&Ae>780&&Ae<1400},cordova:Ye,capacitor:bt,electron:Te=>Lt(Te,/electron/i),pwa:Te=>{var Ie;return!!(null!==(Ie=Te.matchMedia)&&void 0!==Ie&&Ie.call(Te,"(display-mode: standalone)").matches||Te.navigator.standalone)},mobile:ve,mobileweb:Te=>ve(Te)&&!rt(Te),desktop:Te=>!ve(Te),hybrid:rt};let Jt;const wn=Te=>Te&&(0,d.g)(Te)||Jt,kt=(Te={})=>{if(typeof window>"u")return;const Ie=window.document,_e=window,Y=_e.Ionic=_e.Ionic||{},Ae={};Te._ael&&(Ae.ael=Te._ael),Te._rel&&(Ae.rel=Te._rel),Te._ce&&(Ae.ce=Te._ce),(0,d.a)(Ae);const Xe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Te=>{try{const Ie=Te.sessionStorage.getItem(Ke);return null!==Ie?JSON.parse(Ie):{}}catch{return{}}})(_e)),{persistConfig:!1}),Y.config),(Te=>{const Ie={};return Te.location.search.slice(1).split("&").map(_e=>_e.split("=")).map(([_e,Y])=>{try{return[decodeURIComponent(_e),decodeURIComponent(Y)]}catch{return["",""]}}).filter(([_e])=>((Te,Ie)=>Te.substr(0,Ie.length)===Ie)(_e,"ionic:")).map(([_e,Y])=>[_e.slice(6),Y]).forEach(([_e,Y])=>{Ie[_e]=Y}),Ie})(_e)),Te);Z.reset(Xe),Z.getBoolean("persistConfig")&&((Te,Ie)=>{try{Te.sessionStorage.setItem(Ke,JSON.stringify(Ie))}catch{return}})(_e,Xe),Ve(_e),Y.config=Z,Y.mode=Jt=Z.get("mode",Ie.documentElement.getAttribute("mode")||(ce(_e,"ios")?"ios":"md")),Z.set("mode",Jt),Ie.documentElement.setAttribute("mode",Jt),Ie.documentElement.classList.add(Jt),Z.getBoolean("_testing")&&Z.set("animated",!1);const Ue=tt=>{var ot;return null===(ot=tt.tagName)||void 0===ot?void 0:ot.startsWith("ION-")},Ne=tt=>["ios","md"].includes(tt);(0,d.c)(tt=>{for(;tt;){const ot=tt.mode||tt.getAttribute("mode");if(ot){if(Ne(ot))return ot;Ue(tt)&&console.warn('Invalid ionic mode: "'+ot+'", expected: "ios" or "md"')}tt=tt.parentElement}return Jt})}},5022:(vn,_t,L)=>{"use strict";L.r(_t),L.d(_t,{iosTransitionAnimation:()=>$e,shadow:()=>Be});var d=L(9986),f=L(3604);L(8476),L(9483),L(4261);const De=ct=>document.querySelector(`${ct}.ion-cloned-element`),Be=ct=>ct.shadowRoot||ct,Ke=ct=>{const et="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs"),je="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=et){const vt=et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=vt?vt.querySelector(je):null}return ct.querySelector(je)},Ce=(ct,et)=>{const je="ION-TABS"===ct.tagName?ct:ct.querySelector("ion-tabs");let vt=[];if(null!=je){const ht=je.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ht&&(vt=ht.querySelectorAll("ion-buttons"))}else vt=ct.querySelectorAll("ion-buttons");for(const ht of vt){const pe=ht.closest("ion-header"),ve=pe&&!pe.classList.contains("header-collapse-condense-inactive"),Re=ht.querySelector("ion-back-button"),rt=ht.classList.contains("buttons-collapse");if(null!==Re&&("start"===ht.slot||""===ht.slot)&&(rt&&ve&&et||!rt))return Re}return null},Ve=(ct,et,je,vt,ht,pe,ve,Re,rt)=>{var Ye,bt;const He=et?`calc(100% - ${ht.right+4}px)`:ht.left-4+"px",Pe=et?"right":"left",Lt=et?"left":"right",zt=et?"right":"left";let cn=1,Jt=1,wn=`scale(${Jt})`;const kt="scale(1)";if(pe&&ve){const Oe=(null===(Ye=pe.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(bt=Re.textContent)||void 0===bt?void 0:bt.trim());cn=rt.width/ve.width,Jt=(rt.height-Je)/ve.height,wn=Oe?`scale(${cn}, ${Jt})`:`scale(${Jt})`}const Ie=Be(vt).querySelector("ion-icon").getBoundingClientRect(),_e=et?Ie.width/2-(Ie.right-ht.right)+"px":ht.left-Ie.width/2+"px",Y=et?`-${window.innerWidth-ht.right}px`:`${ht.left}px`,Ae=`${rt.top}px`,Xe=`${ht.top}px`,tt=je?[{offset:0,transform:`translate3d(${Y}, ${Xe}, 0)`},{offset:1,transform:`translate3d(${_e}, ${Ae}, 0)`}]:[{offset:0,transform:`translate3d(${_e}, ${Ae}, 0)`},{offset:1,transform:`translate3d(${Y}, ${Xe}, 0)`}],En=je?[{offset:0,opacity:1,transform:kt},{offset:1,opacity:0,transform:wn}]:[{offset:0,opacity:0,transform:wn},{offset:1,opacity:1,transform:kt}],Cn=je?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],kn=(0,d.c)(),Ft=(0,d.c)(),Kt=(0,d.c)(),Nn=De("ion-back-button"),qt=Be(Nn).querySelector(".button-text"),Me=Be(Nn).querySelector("ion-icon");Nn.text=vt.text,Nn.mode=vt.mode,Nn.icon=vt.icon,Nn.color=vt.color,Nn.disabled=vt.disabled,Nn.style.setProperty("display","block"),Nn.style.setProperty("position","fixed"),Ft.addElement(Me),kn.addElement(qt),Kt.addElement(Nn),Kt.beforeStyles({position:"absolute",top:"0px",[zt]:"0px"}).beforeAddWrite(()=>{vt.style.setProperty("display","none"),Nn.style.setProperty(Pe,He)}).afterAddWrite(()=>{vt.style.setProperty("display",""),Nn.style.setProperty("display","none"),Nn.style.removeProperty(Pe)}).keyframes(tt),kn.beforeStyles({"transform-origin":`${Pe} top`}).keyframes(En),Ft.beforeStyles({"transform-origin":`${Lt} center`}).keyframes(Cn),ct.addAnimation([kn,Ft,Kt])},ze=(ct,et,je,vt,ht,pe,ve,Re,rt)=>{var Ye,bt;const He=et?"right":"left",Pe=et?`calc(100% - ${ht.right}px)`:`${ht.left}px`,zt=`${ht.top}px`;let Jt=et?`-${window.innerWidth-ve.right-8}px`:`${ve.x+8}px`,wn=.5;const kt="scale(1)";let Te=`scale(${wn})`;if(Re&&rt){Jt=et?`-${window.innerWidth-rt.right-8}px`:rt.x-8+"px";const ot=(null===(Ye=Re.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(bt=vt.textContent)||void 0===bt?void 0:bt.trim());wn=rt.height/(pe.height-Je),Te=ot?`scale(${rt.width/pe.width}, ${wn})`:`scale(${wn})`}const Y=ve.top+ve.height/2-ht.height*wn/2+"px",Ue=je?[{offset:0,opacity:0,transform:`translate3d(${Jt}, ${Y}, 0) ${Te}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${zt}, 0) ${kt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${zt}, 0) ${kt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Jt}, ${Y}, 0) ${Te}`}],Ne=De("ion-title"),tt=(0,d.c)();Ne.innerText=vt.innerText,Ne.size=vt.size,Ne.color=vt.color,tt.addElement(Ne),tt.beforeStyles({"transform-origin":`${He} top`,height:`${ht.height}px`,display:"",position:"relative",[He]:Pe}).beforeAddWrite(()=>{vt.style.setProperty("opacity","0")}).afterAddWrite(()=>{vt.style.setProperty("opacity",""),Ne.style.setProperty("display","none")}).keyframes(Ue),ct.addAnimation(tt)},$e=(ct,et)=>{var je;try{const vt="cubic-bezier(0.32,0.72,0,1)",ht="opacity",pe="transform",ve="0%",rt="rtl"===ct.ownerDocument.dir,Ye=rt?"-99.5%":"99.5%",bt=rt?"33%":"-33%",He=et.enteringEl,Pe=et.leavingEl,Lt="back"===et.direction,zt=He.querySelector(":scope > ion-content"),cn=He.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Jt=He.querySelectorAll(":scope > ion-header > ion-toolbar"),wn=(0,d.c)(),kt=(0,d.c)();if(wn.addElement(He).duration((null!==(je=et.duration)&&void 0!==je?je:0)||540).easing(et.easing||vt).fill("both").beforeRemoveClass("ion-page-invisible"),Pe&&null!=ct){const Y=(0,d.c)();Y.addElement(ct),wn.addAnimation(Y)}if(zt||0!==Jt.length||0!==cn.length?(kt.addElement(zt),kt.addElement(cn)):kt.addElement(He.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),wn.addAnimation(kt),Lt?kt.beforeClearStyles([ht]).fromTo("transform",`translateX(${bt})`,`translateX(${ve})`).fromTo(ht,.8,1):kt.beforeClearStyles([ht]).fromTo("transform",`translateX(${Ye})`,`translateX(${ve})`),zt){const Y=Be(zt).querySelector(".transition-effect");if(Y){const Ae=Y.querySelector(".transition-cover"),Xe=Y.querySelector(".transition-shadow"),Ue=(0,d.c)(),Ne=(0,d.c)(),tt=(0,d.c)();Ue.addElement(Y).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ne.addElement(Ae).beforeClearStyles([ht]).fromTo(ht,0,.1),tt.addElement(Xe).beforeClearStyles([ht]).fromTo(ht,.03,.7),Ue.addAnimation([Ne,tt]),kt.addAnimation([Ue])}}const Te=He.querySelector("ion-header.header-collapse-condense"),{forward:Ie,backward:_e}=((ct,et,je,vt,ht)=>{const pe=Ce(vt,je),ve=Ke(ht),Re=Ke(vt),rt=Ce(ht,je),Ye=null!==pe&&null!==ve&&!je,bt=null!==Re&&null!==rt&&je;if(Ye){const He=ve.getBoundingClientRect(),Pe=pe.getBoundingClientRect(),Lt=Be(pe).querySelector(".button-text"),zt=null==Lt?void 0:Lt.getBoundingClientRect(),Jt=Be(ve).querySelector(".toolbar-title").getBoundingClientRect();ze(ct,et,je,ve,He,Jt,Pe,Lt,zt),Ve(ct,et,je,pe,Pe,Lt,zt,ve,Jt)}else if(bt){const He=Re.getBoundingClientRect(),Pe=rt.getBoundingClientRect(),Lt=Be(rt).querySelector(".button-text"),zt=null==Lt?void 0:Lt.getBoundingClientRect(),Jt=Be(Re).querySelector(".toolbar-title").getBoundingClientRect();ze(ct,et,je,Re,He,Jt,Pe,Lt,zt),Ve(ct,et,je,rt,Pe,Lt,zt,Re,Jt)}return{forward:Ye,backward:bt}})(wn,rt,Lt,He,Pe);if(Jt.forEach(Y=>{const Ae=(0,d.c)();Ae.addElement(Y),wn.addAnimation(Ae);const Xe=(0,d.c)();Xe.addElement(Y.querySelector("ion-title"));const Ue=(0,d.c)(),Ne=Array.from(Y.querySelectorAll("ion-buttons,[menuToggle]")),tt=Y.closest("ion-header"),ot=null==tt?void 0:tt.classList.contains("header-collapse-condense-inactive");let Mt;Mt=Ne.filter(Lt?kn=>{const Ft=kn.classList.contains("buttons-collapse");return Ft&&!ot||!Ft}:kn=>!kn.classList.contains("buttons-collapse")),Ue.addElement(Mt);const En=(0,d.c)();En.addElement(Y.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const lt=(0,d.c)();lt.addElement(Be(Y).querySelector(".toolbar-background"));const an=(0,d.c)(),Cn=Y.querySelector("ion-back-button");if(Cn&&an.addElement(Cn),Ae.addAnimation([Xe,Ue,En,lt,an]),Ue.fromTo(ht,.01,1),En.fromTo(ht,.01,1),Lt)ot||Xe.fromTo("transform",`translateX(${bt})`,`translateX(${ve})`).fromTo(ht,.01,1),En.fromTo("transform",`translateX(${bt})`,`translateX(${ve})`),an.fromTo(ht,.01,1);else if(Te||Xe.fromTo("transform",`translateX(${Ye})`,`translateX(${ve})`).fromTo(ht,.01,1),En.fromTo("transform",`translateX(${Ye})`,`translateX(${ve})`),lt.beforeClearStyles([ht,"transform"]),(null==tt?void 0:tt.translucent)?lt.fromTo("transform",rt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):lt.fromTo(ht,.01,"var(--opacity)"),Ie||an.fromTo(ht,.01,1),Cn&&!Ie){const Ft=(0,d.c)();Ft.addElement(Be(Cn).querySelector(".button-text")).fromTo("transform",rt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ae.addAnimation(Ft)}}),Pe){const Y=(0,d.c)(),Ae=Pe.querySelector(":scope > ion-content"),Xe=Pe.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=Pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ae||0!==Xe.length||0!==Ue.length?(Y.addElement(Ae),Y.addElement(Ue)):Y.addElement(Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),wn.addAnimation(Y),Lt){Y.beforeClearStyles([ht]).fromTo("transform",`translateX(${ve})`,rt?"translateX(-100%)":"translateX(100%)");const Ne=(0,f.g)(Pe);wn.afterAddWrite(()=>{"normal"===wn.getDirection()&&Ne.style.setProperty("display","none")})}else Y.fromTo("transform",`translateX(${ve})`,`translateX(${bt})`).fromTo(ht,1,.8);if(Ae){const Ne=Be(Ae).querySelector(".transition-effect");if(Ne){const tt=Ne.querySelector(".transition-cover"),ot=Ne.querySelector(".transition-shadow"),Mt=(0,d.c)(),En=(0,d.c)(),lt=(0,d.c)();Mt.addElement(Ne).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),En.addElement(tt).beforeClearStyles([ht]).fromTo(ht,.1,0),lt.addElement(ot).beforeClearStyles([ht]).fromTo(ht,.7,.03),Mt.addAnimation([En,lt]),Y.addAnimation([Mt])}}Xe.forEach(Ne=>{const tt=(0,d.c)();tt.addElement(Ne);const ot=(0,d.c)();ot.addElement(Ne.querySelector("ion-title"));const Mt=(0,d.c)(),En=Ne.querySelectorAll("ion-buttons,[menuToggle]"),lt=Ne.closest("ion-header"),an=null==lt?void 0:lt.classList.contains("header-collapse-condense-inactive"),Cn=Array.from(En).filter(Me=>{const Oe=Me.classList.contains("buttons-collapse");return Oe&&!an||!Oe});Mt.addElement(Cn);const kn=(0,d.c)(),Ft=Ne.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ft.length>0&&kn.addElement(Ft);const Kt=(0,d.c)();Kt.addElement(Be(Ne).querySelector(".toolbar-background"));const Nn=(0,d.c)(),qt=Ne.querySelector("ion-back-button");if(qt&&Nn.addElement(qt),tt.addAnimation([ot,Mt,kn,Nn,Kt]),wn.addAnimation(tt),Nn.fromTo(ht,.99,0),Mt.fromTo(ht,.99,0),kn.fromTo(ht,.99,0),Lt){if(an||ot.fromTo("transform",`translateX(${ve})`,rt?"translateX(-100%)":"translateX(100%)").fromTo(ht,.99,0),kn.fromTo("transform",`translateX(${ve})`,rt?"translateX(-100%)":"translateX(100%)"),Kt.beforeClearStyles([ht,"transform"]),(null==lt?void 0:lt.translucent)?Kt.fromTo("transform","translateX(0px)",rt?"translateX(-100%)":"translateX(100%)"):Kt.fromTo(ht,"var(--opacity)",0),qt&&!_e){const Oe=(0,d.c)();Oe.addElement(Be(qt).querySelector(".button-text")).fromTo("transform",`translateX(${ve})`,`translateX(${(rt?-124:124)+"px"})`),tt.addAnimation(Oe)}}else an||ot.fromTo("transform",`translateX(${ve})`,`translateX(${bt})`).fromTo(ht,.99,0).afterClearStyles([pe,ht]),kn.fromTo("transform",`translateX(${ve})`,`translateX(${bt})`).afterClearStyles([pe,ht]),Nn.afterClearStyles([ht]),ot.afterClearStyles([ht]),Mt.afterClearStyles([ht])})}return wn}catch(vt){throw vt}},Je=10},3615:(vn,_t,L)=>{"use strict";L.r(_t),L.d(_t,{mdTransitionAnimation:()=>de});var d=L(9986),f=L(3604);L(8476),L(9483),L(4261);const de=(De,Be)=>{var Ke,Ce,ce;const $e="back"===Be.direction,ct=Be.leavingEl,et=(0,f.g)(Be.enteringEl),je=et.querySelector("ion-toolbar"),vt=(0,d.c)();if(vt.addElement(et).fill("both").beforeRemoveClass("ion-page-invisible"),$e?vt.duration((null!==(Ke=Be.duration)&&void 0!==Ke?Ke:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):vt.duration((null!==(Ce=Be.duration)&&void 0!==Ce?Ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),je){const ht=(0,d.c)();ht.addElement(je),vt.addAnimation(ht)}if(ct&&$e){vt.duration((null!==(ce=Be.duration)&&void 0!==ce?ce:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ht=(0,d.c)();ht.addElement((0,f.g)(ct)).onFinish(pe=>{1===pe&&ht.elements.length>0&&ht.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),vt.addAnimation(ht)}return vt}},5229:(vn,_t,L)=>{"use strict";L.d(_t,{B:()=>En,F:()=>qt,G:()=>lt,O:()=>an,a:()=>et,b:()=>je,c:()=>ve,d:()=>Cn,e:()=>kn,f:()=>Ie,g:()=>Y,h:()=>Ue,i:()=>tt,j:()=>rt,k:()=>Ye,m:()=>ht,n:()=>Ce,o:()=>kt,q:()=>ce,s:()=>Mt});var d=L(467),f=L(8476),Z=L(4920),ee=L(7192),ae=L(9483),de=L(8621),De=L(1970),Be=L(4929);const Ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ce=(Me,Oe)=>{const Pt=Me.querySelector(Ke);Ve(Pt,null!=Oe?Oe:Me)},ce=(Me,Oe)=>{const Pt=Array.from(Me.querySelectorAll(Ke));Ve(Pt.length>0?Pt[Pt.length-1]:null,null!=Oe?Oe:Me)},Ve=(Me,Oe)=>{let Pt=Me;const yt=null==Me?void 0:Me.shadowRoot;yt&&(Pt=yt.querySelector(Ke)||Me),Pt?(0,Z.f)(Pt):Oe.focus()};let ze=0,$e=0;const Je=new WeakMap,ct=Me=>({create:Oe=>bt(Me,Oe),dismiss:(Oe,Pt,yt)=>cn(document,Oe,Pt,Me,yt),getTop:()=>(0,d.A)(function*(){return kt(document,Me)})()}),et=ct("ion-alert"),je=ct("ion-action-sheet"),ht=ct("ion-modal"),ve=ct("ion-popover"),rt=Me=>{typeof document<"u"&&zt(document);const Oe=ze++;Me.overlayIndex=Oe},Ye=Me=>(Me.hasAttribute("id")||(Me.id="ion-overlay-"+ ++$e),Me.id),bt=(Me,Oe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Me).then(()=>{const Pt=document.createElement(Me);return Pt.classList.add("overlay-hidden"),Object.assign(Pt,Object.assign(Object.assign({},Oe),{hasController:!0})),Ae(document).appendChild(Pt),new Promise(yt=>(0,Z.c)(Pt,yt))}):Promise.resolve(),Pe=(Me,Oe)=>{let Pt=Me;const yt=null==Me?void 0:Me.shadowRoot;yt&&(Pt=yt.querySelector(Ke)||Me),Pt?(0,Z.f)(Pt):Oe.focus()},zt=Me=>{0===ze&&(ze=1,Me.addEventListener("focus",Oe=>{((Me,Oe)=>{const Pt=kt(Oe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),yt=Me.target;Pt&&yt&&!Pt.classList.contains(qt)&&(Pt.shadowRoot?(()=>{if(Pt.contains(yt))Pt.lastFocus=yt;else if("ION-TOAST"===yt.tagName)Pe(Pt.lastFocus,Pt);else{const Tn=Pt.lastFocus;Ce(Pt),Tn===Oe.activeElement&&ce(Pt),Pt.lastFocus=Oe.activeElement}})():(()=>{if(Pt===yt)Pt.lastFocus=void 0;else if("ION-TOAST"===yt.tagName)Pe(Pt.lastFocus,Pt);else{const Tn=(0,Z.g)(Pt);if(!Tn.contains(yt))return;const gn=Tn.querySelector(".ion-overlay-wrapper");if(!gn)return;if(gn.contains(yt)||yt===Tn.querySelector("ion-backdrop"))Pt.lastFocus=yt;else{const Zn=Pt.lastFocus;Ce(gn,Pt),Zn===Oe.activeElement&&ce(gn,Pt),Pt.lastFocus=Oe.activeElement}}})())})(Oe,Me)},!0),Me.addEventListener("ionBackButton",Oe=>{const Pt=kt(Me);null!=Pt&&Pt.backdropDismiss&&Oe.detail.register(ee.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Pt.dismiss(void 0,En)})}),(0,ee.shouldUseCloseWatcher)()||Me.addEventListener("keydown",Oe=>{if("Escape"===Oe.key){const Pt=kt(Me);null!=Pt&&Pt.backdropDismiss&&Pt.dismiss(void 0,En)}}))},cn=(Me,Oe,Pt,yt,jn)=>{const Kn=kt(Me,yt,jn);return Kn?Kn.dismiss(Oe,Pt):Promise.reject("overlay does not exist")},wn=(Me,Oe)=>((Me,Oe)=>(void 0===Oe&&(Oe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Me.querySelectorAll(Oe)).filter(Pt=>Pt.overlayIndex>0)))(Me,Oe).filter(Pt=>!(Me=>Me.classList.contains("overlay-hidden"))(Pt)),kt=(Me,Oe,Pt)=>{const yt=wn(Me,Oe);return void 0===Pt?yt[yt.length-1]:yt.find(jn=>jn.id===Pt)},Te=(Me=!1)=>{const Pt=Ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Pt&&(Me?Pt.setAttribute("aria-hidden","true"):Pt.removeAttribute("aria-hidden"))},Ie=function(){var Me=(0,d.A)(function*(Oe,Pt,yt,jn,Kn){var Tn,gn;if(Oe.presented)return;"ION-TOAST"!==Oe.el.tagName&&Te(!0),document.body.classList.add(De.B),Kt(Oe.el),Ft(Oe.el),Oe.presented=!0,Oe.willPresent.emit(),null===(Tn=Oe.willPresentShorthand)||void 0===Tn||Tn.emit();const Zn=(0,ae.b)(Oe),Qn=Oe.enterAnimation?Oe.enterAnimation:ae.c.get(Pt,"ios"===Zn?yt:jn);(yield Xe(Oe,Qn,Oe.el,Kn))&&(Oe.didPresent.emit(),null===(gn=Oe.didPresentShorthand)||void 0===gn||gn.emit()),"ION-TOAST"!==Oe.el.tagName&&_e(Oe.el),Oe.keyboardClose&&(null===document.activeElement||!Oe.el.contains(document.activeElement))&&Oe.el.focus(),Oe.el.removeAttribute("aria-hidden")});return function(Pt,yt,jn,Kn,Tn){return Me.apply(this,arguments)}}(),_e=function(){var Me=(0,d.A)(function*(Oe){let Pt=document.activeElement;if(!Pt)return;const yt=null==Pt?void 0:Pt.shadowRoot;yt&&(Pt=yt.querySelector(Ke)||Pt),yield Oe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Pt.focus()});return function(Pt){return Me.apply(this,arguments)}}(),Y=function(){var Me=(0,d.A)(function*(Oe,Pt,yt,jn,Kn,Tn,gn){var Zn,Qn;if(!Oe.presented)return!1;const Gn=void 0!==f.d?wn(f.d).filter(br=>"ION-TOAST"!==br.tagName):[];1===Gn.length&&Gn[0].id===Oe.el.id&&(Te(!1),document.body.classList.remove(De.B)),Oe.presented=!1;try{Ft(Oe.el),Oe.el.style.setProperty("pointer-events","none"),Oe.willDismiss.emit({data:Pt,role:yt}),null===(Zn=Oe.willDismissShorthand)||void 0===Zn||Zn.emit({data:Pt,role:yt});const br=(0,ae.b)(Oe),Xr=Oe.leaveAnimation?Oe.leaveAnimation:ae.c.get(jn,"ios"===br?Kn:Tn);yt!==lt&&(yield Xe(Oe,Xr,Oe.el,gn)),Oe.didDismiss.emit({data:Pt,role:yt}),null===(Qn=Oe.didDismissShorthand)||void 0===Qn||Qn.emit({data:Pt,role:yt}),(Je.get(Oe)||[]).forEach(Ur=>Ur.destroy()),Je.delete(Oe),Oe.el.classList.add("overlay-hidden"),Oe.el.style.removeProperty("pointer-events"),void 0!==Oe.el.lastFocus&&(Oe.el.lastFocus=void 0)}catch(br){console.error(br)}return Oe.el.remove(),Nn(),!0});return function(Pt,yt,jn,Kn,Tn,gn,Zn){return Me.apply(this,arguments)}}(),Ae=Me=>Me.querySelector("ion-app")||Me.body,Xe=function(){var Me=(0,d.A)(function*(Oe,Pt,yt,jn){yt.classList.remove("overlay-hidden");const Tn=Pt(Oe.el,jn);(!Oe.animated||!ae.c.getBoolean("animated",!0))&&Tn.duration(0),Oe.keyboardClose&&Tn.beforeAddWrite(()=>{const Zn=yt.ownerDocument.activeElement;null!=Zn&&Zn.matches("input,ion-input, ion-textarea")&&Zn.blur()});const gn=Je.get(Oe)||[];return Je.set(Oe,[...gn,Tn]),yield Tn.play(),!0});return function(Pt,yt,jn,Kn){return Me.apply(this,arguments)}}(),Ue=(Me,Oe)=>{let Pt;const yt=new Promise(jn=>Pt=jn);return Ne(Me,Oe,jn=>{Pt(jn.detail)}),yt},Ne=(Me,Oe,Pt)=>{const yt=jn=>{(0,Z.b)(Me,Oe,yt),Pt(jn)};(0,Z.a)(Me,Oe,yt)},tt=Me=>"cancel"===Me||Me===En,ot=Me=>Me(),Mt=(Me,Oe)=>{if("function"==typeof Me)return ae.c.get("_zoneGate",ot)(()=>{try{return Me(Oe)}catch(yt){throw yt}})},En="backdrop",lt="gesture",an=39,Cn=Me=>{let Pt,Oe=!1;const yt=(0,de.C)(),jn=(gn=!1)=>{if(Pt&&!gn)return{delegate:Pt,inline:Oe};const{el:Zn,hasController:Qn,delegate:Gn}=Me;return Oe=null!==Zn.parentNode&&!Qn,Pt=Oe?Gn||yt:Gn,{inline:Oe,delegate:Pt}};return{attachViewToDom:function(){var gn=(0,d.A)(function*(Zn){const{delegate:Qn}=jn(!0);if(Qn)return yield Qn.attachViewToDom(Me.el,Zn);const{hasController:Gn}=Me;if(Gn&&void 0!==Zn)throw new Error("framework delegate is missing");return null});return function(Qn){return gn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:gn}=jn();gn&&void 0!==Me.el&&gn.removeViewFromDom(Me.el.parentElement,Me.el)}}},kn=()=>{let Me;const Oe=()=>{Me&&(Me(),Me=void 0)};return{addClickListener:(yt,jn)=>{Oe();const Kn=void 0!==jn?document.getElementById(jn):null;Kn?Me=((gn,Zn)=>{const Qn=()=>{Zn.present()};return gn.addEventListener("click",Qn),()=>{gn.removeEventListener("click",Qn)}})(Kn,yt):(0,Be.p)(`A trigger element with the ID "${jn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,yt)},removeClickListener:Oe}},Ft=Me=>{void 0!==f.d&&Me.setAttribute("aria-hidden","true")},Kt=Me=>{var Oe;if(void 0===f.d)return;const Pt=wn(f.d);for(let yt=Pt.length-1;yt>=0;yt--){const jn=Pt[yt],Kn=null!==(Oe=Pt[yt+1])&&void 0!==Oe?Oe:Me;(Kn.hasAttribute("aria-hidden")||"ION-TOAST"!==Kn.tagName)&&jn.setAttribute("aria-hidden","true")}},Nn=()=>{if(void 0===f.d)return;const Me=wn(f.d);for(let Oe=Me.length-1;Oe>=0;Oe--){const Pt=Me[Oe];if(Pt.removeAttribute("aria-hidden"),"ION-TOAST"!==Pt.tagName)break}},qt="ion-disable-focus-trap"},357:(vn,_t,L)=>{"use strict";var d=L(345),f=L(4964),Z=L(2872),ee=L(4742),ae=L(4438);let de=(()=>{var je;class vt{constructor(){}}return(je=vt).\u0275fac=function(pe){return new(pe||je)},je.\u0275cmp=ae.VBU({type:je,selectors:[["app-root"]],decls:2,vars:0,template:function(pe,ve){1&pe&&(ae.j41(0,"ion-app"),ae.nrm(1,"ion-router-outlet"),ae.k0s())},dependencies:[ee.U1,ee.Rg]}),vt})();var De=L(1182),Be=L(6697),Ke=L(6354);const ce=[{path:"home",loadChildren:()=>Promise.all([L.e(2076),L.e(7432)]).then(L.bind(L,7432)).then(je=>je.HomePageModule)},{path:"",redirectTo:"inicio",pathMatch:"full"},{path:"inicio",loadChildren:()=>Promise.all([L.e(2076),L.e(4572)]).then(L.bind(L,2191)).then(je=>je.InicioPageModule)},{path:"producto",loadChildren:()=>Promise.all([L.e(2076),L.e(4237)]).then(L.bind(L,4237)).then(je=>je.ProductoPageModule),canActivate:[(je,vt)=>{const ht=(0,ae.WQX)(De.DS),pe=(0,ae.WQX)(f.Ix);return ht.authState.pipe((0,Be.s)(1),(0,Ke.T)(ve=>!!ve||(pe.navigate(["/inicio"]),!1)))}]},{path:"registro",loadChildren:()=>Promise.all([L.e(2076),L.e(8440)]).then(L.bind(L,8440)).then(je=>je.RegistroPageModule)},{path:"listar-productos",loadChildren:()=>Promise.all([L.e(2076),L.e(8360)]).then(L.bind(L,8360)).then(je=>je.ListarProductosPageModule)}];let Ve=(()=>{var je;class vt{}return(je=vt).\u0275fac=function(pe){return new(pe||je)},je.\u0275mod=ae.$C({type:je}),je.\u0275inj=ae.G2t({imports:[f.iI.forRoot(ce,{preloadingStrategy:f.Kp}),f.iI]}),vt})();var ze=L(9253);const $e_firebaseConfig={apiKey:"AIzaSyCP6W9greYhGc_I_AkyBgEhgcZnyA1LnW0",authDomain:"magher-2936c.firebaseapp.com",projectId:"magher-2936c",storageBucket:"magher-2936c.firebasestorage.app",messagingSenderId:"970679484162",appId:"1:970679484162:web:2f5864ccd3d9a1285e0c1b"};var Je=L(4341),ct=L(8079);let et=(()=>{var je;class vt{}return(je=vt).\u0275fac=function(pe){return new(pe||je)},je.\u0275mod=ae.$C({type:je,bootstrap:[de]}),je.\u0275inj=ae.G2t({providers:[{provide:f.b,useClass:Z.jM}],imports:[d.Bb,ee.bv.forRoot(),Ve,De.X8,Je.YN,ct.cM,ze.bf.initializeApp($e_firebaseConfig)]}),vt})();d.sG().bootstrapModule(et).catch(je=>console.log(je))},4412:(vn,_t,L)=>{"use strict";L.d(_t,{t:()=>f});var d=L(1413);class f extends d.B{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const ae=super._subscribe(ee);return!ae.closed&&ee.next(this._value),ae}getValue(){const{hasError:ee,thrownError:ae,_value:de}=this;if(ee)throw ae;return this._throwIfClosed(),de}next(ee){super.next(this._value=ee)}}},1985:(vn,_t,L)=>{"use strict";L.d(_t,{c:()=>Be});var d=L(7707),f=L(8359),Z=L(3494),ee=L(1203),ae=L(1026),de=L(8071),De=L(9786);let Be=(()=>{class Ve{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Je=new Ve;return Je.source=this,Je.operator=$e,Je}subscribe($e,Je,ct){const et=function ce(Ve){return Ve&&Ve instanceof d.vU||function Ce(Ve){return Ve&&(0,de.T)(Ve.next)&&(0,de.T)(Ve.error)&&(0,de.T)(Ve.complete)}(Ve)&&(0,f.Uv)(Ve)}($e)?$e:new d.Ms($e,Je,ct);return(0,De.Y)(()=>{const{operator:je,source:vt}=this;et.add(je?je.call(et,vt):vt?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe($e){try{return this._subscribe($e)}catch(Je){$e.error(Je)}}forEach($e,Je){return new(Je=Ke(Je))((ct,et)=>{const je=new d.Ms({next:vt=>{try{$e(vt)}catch(ht){et(ht),je.unsubscribe()}},error:et,complete:ct});this.subscribe(je)})}_subscribe($e){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe($e)}[Z.s](){return this}pipe(...$e){return(0,ee.m)($e)(this)}toPromise($e){return new($e=Ke($e))((Je,ct)=>{let et;this.subscribe(je=>et=je,je=>ct(je),()=>Je(et))})}}return Ve.create=ze=>new Ve(ze),Ve})();function Ke(Ve){var ze;return null!==(ze=null!=Ve?Ve:ae.$.Promise)&&void 0!==ze?ze:Promise}},1413:(vn,_t,L)=>{"use strict";L.d(_t,{B:()=>De});var d=L(1985),f=L(8359);const ee=(0,L(1853).L)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=L(7908),de=L(9786);let De=(()=>{class Ke extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const Ve=new Be(this,this);return Ve.operator=ce,Ve}_throwIfClosed(){if(this.closed)throw new ee}next(ce){(0,de.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ve of this.currentObservers)Ve.next(ce)}})}error(ce){(0,de.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:Ve}=this;for(;Ve.length;)Ve.shift().error(ce)}})}complete(){(0,de.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:Ve,isStopped:ze,observers:$e}=this;return Ve||ze?f.Kn:(this.currentObservers=null,$e.push(ce),new f.yU(()=>{this.currentObservers=null,(0,ae.o)($e,ce)}))}_checkFinalizedStatuses(ce){const{hasError:Ve,thrownError:ze,isStopped:$e}=this;Ve?ce.error(ze):$e&&ce.complete()}asObservable(){const ce=new d.c;return ce.source=this,ce}}return Ke.create=(Ce,ce)=>new Be(Ce,ce),Ke})();class Be extends De{constructor(Ce,ce){super(),this.destination=Ce,this.source=ce}next(Ce){var ce,Ve;null===(Ve=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===Ve||Ve.call(ce,Ce)}error(Ce){var ce,Ve;null===(Ve=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===Ve||Ve.call(ce,Ce)}complete(){var Ce,ce;null===(ce=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===ce||ce.call(Ce)}_subscribe(Ce){var ce,Ve;return null!==(Ve=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Ce))&&void 0!==Ve?Ve:f.Kn}}},7707:(vn,_t,L)=>{"use strict";L.d(_t,{Ms:()=>ct,vU:()=>Ve});var d=L(8071),f=L(8359),Z=L(1026),ee=L(5334),ae=L(5343);const de=Ke("C",void 0,void 0);function Ke(pe,ve,Re){return{kind:pe,value:ve,error:Re}}var Ce=L(9270),ce=L(9786);class Ve extends f.yU{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,f.Uv)(ve)&&ve.add(this)):this.destination=ht}static create(ve,Re,rt){return new ct(ve,Re,rt)}next(ve){this.isStopped?vt(function Be(pe){return Ke("N",pe,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?vt(function De(pe){return Ke("E",void 0,pe)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?vt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function $e(pe,ve){return ze.call(pe,ve)}class Je{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Re}=this;if(Re.next)try{Re.next(ve)}catch(rt){et(rt)}}error(ve){const{partialObserver:Re}=this;if(Re.error)try{Re.error(ve)}catch(rt){et(rt)}else et(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Re){et(Re)}}}class ct extends Ve{constructor(ve,Re,rt){let Ye;if(super(),(0,d.T)(ve)||!ve)Ye={next:null!=ve?ve:void 0,error:null!=Re?Re:void 0,complete:null!=rt?rt:void 0};else{let bt;this&&Z.$.useDeprecatedNextContext?(bt=Object.create(ve),bt.unsubscribe=()=>this.unsubscribe(),Ye={next:ve.next&&$e(ve.next,bt),error:ve.error&&$e(ve.error,bt),complete:ve.complete&&$e(ve.complete,bt)}):Ye=ve}this.destination=new Je(Ye)}}function et(pe){Z.$.useDeprecatedSynchronousErrorHandling?(0,ce.l)(pe):(0,ee.m)(pe)}function vt(pe,ve){const{onStoppedNotification:Re}=Z.$;Re&&Ce.f.setTimeout(()=>Re(pe,ve))}const ht={closed:!0,next:ae.l,error:function je(pe){throw pe},complete:ae.l}},8359:(vn,_t,L)=>{"use strict";L.d(_t,{Kn:()=>de,yU:()=>ae,Uv:()=>De});var d=L(8071);const Z=(0,L(1853).L)(Ke=>function(ce){Ke(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((Ve,ze)=>`${ze+1}) ${Ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var ee=L(7908);class ae{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const $e of ce)$e.remove(this);else ce.remove(this);const{initialTeardown:Ve}=this;if((0,d.T)(Ve))try{Ve()}catch($e){Ce=$e instanceof Z?$e.errors:[$e]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const $e of ze)try{Be($e)}catch(Je){Ce=null!=Ce?Ce:[],Je instanceof Z?Ce=[...Ce,...Je.errors]:Ce.push(Je)}}if(Ce)throw new Z(Ce)}}add(Ce){var ce;if(Ce&&Ce!==this)if(this.closed)Be(Ce);else{if(Ce instanceof ae){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(Ce)}}_hasParent(Ce){const{_parentage:ce}=this;return ce===Ce||Array.isArray(ce)&&ce.includes(Ce)}_addParent(Ce){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(Ce),ce):ce?[ce,Ce]:Ce}_removeParent(Ce){const{_parentage:ce}=this;ce===Ce?this._parentage=null:Array.isArray(ce)&&(0,ee.o)(ce,Ce)}remove(Ce){const{_finalizers:ce}=this;ce&&(0,ee.o)(ce,Ce),Ce instanceof ae&&Ce._removeParent(this)}}ae.EMPTY=(()=>{const Ke=new ae;return Ke.closed=!0,Ke})();const de=ae.EMPTY;function De(Ke){return Ke instanceof ae||Ke&&"closed"in Ke&&(0,d.T)(Ke.remove)&&(0,d.T)(Ke.add)&&(0,d.T)(Ke.unsubscribe)}function Be(Ke){(0,d.T)(Ke)?Ke():Ke.unsubscribe()}},1026:(vn,_t,L)=>{"use strict";L.d(_t,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(vn,_t,L)=>{"use strict";L.d(_t,{z:()=>Ce});var d=L(1985),f=L(3073),Z=L(8455),ee=L(3669),ae=L(6450),de=L(3794),De=L(8496),Be=L(4360),Ke=L(5225);function Ce(...ze){const $e=(0,de.lI)(ze),Je=(0,de.ms)(ze),{args:ct,keys:et}=(0,f.D)(ze);if(0===ct.length)return(0,Z.H)([],$e);const je=new d.c(function ce(ze,$e,Je=ee.D){return ct=>{Ve($e,()=>{const{length:et}=ze,je=new Array(et);let vt=et,ht=et;for(let pe=0;pe<et;pe++)Ve($e,()=>{const ve=(0,Z.H)(ze[pe],$e);let Re=!1;ve.subscribe((0,Be._)(ct,rt=>{je[pe]=rt,Re||(Re=!0,ht--),ht||ct.next(Je(je.slice()))},()=>{--vt||ct.complete()}))},ct)},ct)}}(ct,$e,et?vt=>(0,De.e)(et,vt):ee.D));return Je?je.pipe((0,ae.I)(Je)):je}function Ve(ze,$e,Je){ze?(0,Ke.N)(Je,ze,$e):$e()}},8793:(vn,_t,L)=>{"use strict";L.d(_t,{x:()=>ae});var d=L(6365),Z=L(3794),ee=L(8455);function ae(...de){return function f(){return(0,d.U)(1)}()((0,ee.H)(de,(0,Z.lI)(de)))}},983:(vn,_t,L)=>{"use strict";L.d(_t,{w:()=>f});const f=new(L(1985).c)(ae=>ae.complete())},8455:(vn,_t,L)=>{"use strict";L.d(_t,{H:()=>ve});var d=L(8750),f=L(941),Z=L(6745),de=L(1985),Be=L(4761),Ke=L(8071),Ce=L(5225);function Ve(Re,rt){if(!Re)throw new Error("Iterable cannot be null");return new de.c(Ye=>{(0,Ce.N)(Ye,rt,()=>{const bt=Re[Symbol.asyncIterator]();(0,Ce.N)(Ye,rt,()=>{bt.next().then(He=>{He.done?Ye.complete():Ye.next(He.value)})},0,!0)})})}var ze=L(5055),$e=L(9858),Je=L(7441),ct=L(5397),et=L(7953),je=L(591),vt=L(5196);function ve(Re,rt){return rt?function pe(Re,rt){if(null!=Re){if((0,ze.l)(Re))return function ee(Re,rt){return(0,d.Tg)(Re).pipe((0,Z._)(rt),(0,f.Q)(rt))}(Re,rt);if((0,Je.X)(Re))return function De(Re,rt){return new de.c(Ye=>{let bt=0;return rt.schedule(function(){bt===Re.length?Ye.complete():(Ye.next(Re[bt++]),Ye.closed||this.schedule())})})}(Re,rt);if((0,$e.y)(Re))return function ae(Re,rt){return(0,d.Tg)(Re).pipe((0,Z._)(rt),(0,f.Q)(rt))}(Re,rt);if((0,et.T)(Re))return Ve(Re,rt);if((0,ct.x)(Re))return function ce(Re,rt){return new de.c(Ye=>{let bt;return(0,Ce.N)(Ye,rt,()=>{bt=Re[Be.l](),(0,Ce.N)(Ye,rt,()=>{let He,Pe;try{({value:He,done:Pe}=bt.next())}catch(Lt){return void Ye.error(Lt)}Pe?Ye.complete():Ye.next(He)},0,!0)}),()=>(0,Ke.T)(null==bt?void 0:bt.return)&&bt.return()})}(Re,rt);if((0,vt.U)(Re))return function ht(Re,rt){return Ve((0,vt.C)(Re),rt)}(Re,rt)}throw(0,je.L)(Re)}(Re,rt):(0,d.Tg)(Re)}},3726:(vn,_t,L)=>{"use strict";L.d(_t,{R:()=>Ce});var d=L(8750),f=L(1985),Z=L(1397),ee=L(7441),ae=L(8071),de=L(6450);const De=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],Ke=["on","off"];function Ce(Je,ct,et,je){if((0,ae.T)(et)&&(je=et,et=void 0),je)return Ce(Je,ct,et).pipe((0,de.I)(je));const[vt,ht]=function $e(Je){return(0,ae.T)(Je.addEventListener)&&(0,ae.T)(Je.removeEventListener)}(Je)?Be.map(pe=>ve=>Je[pe](ct,ve,et)):function Ve(Je){return(0,ae.T)(Je.addListener)&&(0,ae.T)(Je.removeListener)}(Je)?De.map(ce(Je,ct)):function ze(Je){return(0,ae.T)(Je.on)&&(0,ae.T)(Je.off)}(Je)?Ke.map(ce(Je,ct)):[];if(!vt&&(0,ee.X)(Je))return(0,Z.Z)(pe=>Ce(pe,ct,et))((0,d.Tg)(Je));if(!vt)throw new TypeError("Invalid event target");return new f.c(pe=>{const ve=(...Re)=>pe.next(1<Re.length?Re:Re[0]);return vt(ve),()=>ht(ve)})}function ce(Je,ct){return et=>je=>Je[et](ct,je)}},8750:(vn,_t,L)=>{"use strict";L.d(_t,{Tg:()=>ze});var d=L(1635),f=L(7441),Z=L(9858),ee=L(1985),ae=L(5055),de=L(7953),De=L(591),Be=L(5397),Ke=L(5196),Ce=L(8071),ce=L(5334),Ve=L(3494);function ze(pe){if(pe instanceof ee.c)return pe;if(null!=pe){if((0,ae.l)(pe))return function $e(pe){return new ee.c(ve=>{const Re=pe[Ve.s]();if((0,Ce.T)(Re.subscribe))return Re.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,f.X)(pe))return function Je(pe){return new ee.c(ve=>{for(let Re=0;Re<pe.length&&!ve.closed;Re++)ve.next(pe[Re]);ve.complete()})}(pe);if((0,Z.y)(pe))return function ct(pe){return new ee.c(ve=>{pe.then(Re=>{ve.closed||(ve.next(Re),ve.complete())},Re=>ve.error(Re)).then(null,ce.m)})}(pe);if((0,de.T)(pe))return je(pe);if((0,Be.x)(pe))return function et(pe){return new ee.c(ve=>{for(const Re of pe)if(ve.next(Re),ve.closed)return;ve.complete()})}(pe);if((0,Ke.U)(pe))return function vt(pe){return je((0,Ke.C)(pe))}(pe)}throw(0,De.L)(pe)}function je(pe){return new ee.c(ve=>{(function ht(pe,ve){var Re,rt,Ye,bt;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Re=(0,d.xN)(pe);!(rt=yield Re.next()).done;)if(ve.next(rt.value),ve.closed)return}catch(He){Ye={error:He}}finally{try{rt&&!rt.done&&(bt=Re.return)&&(yield bt.call(Re))}finally{if(Ye)throw Ye.error}}ve.complete()})})(pe,ve).catch(Re=>ve.error(Re))})}},7673:(vn,_t,L)=>{"use strict";L.d(_t,{of:()=>Z});var d=L(3794),f=L(8455);function Z(...ee){const ae=(0,d.lI)(ee);return(0,f.H)(ee,ae)}},4360:(vn,_t,L)=>{"use strict";L.d(_t,{_:()=>f});var d=L(7707);function f(ee,ae,de,De,Be){return new Z(ee,ae,de,De,Be)}class Z extends d.vU{constructor(ae,de,De,Be,Ke,Ce){super(ae),this.onFinalize=Ke,this.shouldUnsubscribe=Ce,this._next=de?function(ce){try{de(ce)}catch(Ve){ae.error(Ve)}}:super._next,this._error=Be?function(ce){try{Be(ce)}catch(Ve){ae.error(Ve)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(ce){ae.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},9901:(vn,_t,L)=>{"use strict";L.d(_t,{U:()=>Z});var d=L(9974),f=L(4360);function Z(ee){return(0,d.N)((ae,de)=>{let De=!1;ae.subscribe((0,f._)(de,Be=>{De=!0,de.next(Be)},()=>{De||de.next(ee),de.complete()}))})}},3294:(vn,_t,L)=>{"use strict";L.d(_t,{F:()=>ee});var d=L(3669),f=L(9974),Z=L(4360);function ee(de,De=d.D){return de=null!=de?de:ae,(0,f.N)((Be,Ke)=>{let Ce,ce=!0;Be.subscribe((0,Z._)(Ke,Ve=>{const ze=De(Ve);(ce||!de(Ce,ze))&&(ce=!1,Ce=ze,Ke.next(Ve))}))})}function ae(de,De){return de===De}},5964:(vn,_t,L)=>{"use strict";L.d(_t,{p:()=>Z});var d=L(9974),f=L(4360);function Z(ee,ae){return(0,d.N)((de,De)=>{let Be=0;de.subscribe((0,f._)(De,Ke=>ee.call(ae,Ke,Be++)&&De.next(Ke)))})}},1594:(vn,_t,L)=>{"use strict";L.d(_t,{$:()=>De});var d=L(9350),f=L(5964),Z=L(6697),ee=L(9901),ae=L(3774),de=L(3669);function De(Be,Ke){const Ce=arguments.length>=2;return ce=>ce.pipe(Be?(0,f.p)((Ve,ze)=>Be(Ve,ze,ce)):de.D,(0,Z.s)(1),Ce?(0,ee.U)(Ke):(0,ae.v)(()=>new d.G))}},6354:(vn,_t,L)=>{"use strict";L.d(_t,{T:()=>Z});var d=L(9974),f=L(4360);function Z(ee,ae){return(0,d.N)((de,De)=>{let Be=0;de.subscribe((0,f._)(De,Ke=>{De.next(ee.call(ae,Ke,Be++))}))})}},6365:(vn,_t,L)=>{"use strict";L.d(_t,{U:()=>Z});var d=L(1397),f=L(3669);function Z(ee=1/0){return(0,d.Z)(f.D,ee)}},1397:(vn,_t,L)=>{"use strict";L.d(_t,{Z:()=>Be});var d=L(6354),f=L(8750),Z=L(9974),ee=L(5225),ae=L(4360),De=L(8071);function Be(Ke,Ce,ce=1/0){return(0,De.T)(Ce)?Be((Ve,ze)=>(0,d.T)(($e,Je)=>Ce(Ve,$e,ze,Je))((0,f.Tg)(Ke(Ve,ze))),ce):("number"==typeof Ce&&(ce=Ce),(0,Z.N)((Ve,ze)=>function de(Ke,Ce,ce,Ve,ze,$e,Je,ct){const et=[];let je=0,vt=0,ht=!1;const pe=()=>{ht&&!et.length&&!je&&Ce.complete()},ve=rt=>je<Ve?Re(rt):et.push(rt),Re=rt=>{$e&&Ce.next(rt),je++;let Ye=!1;(0,f.Tg)(ce(rt,vt++)).subscribe((0,ae._)(Ce,bt=>{null==ze||ze(bt),$e?ve(bt):Ce.next(bt)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(je--;et.length&&je<Ve;){const bt=et.shift();Je?(0,ee.N)(Ce,Je,()=>Re(bt)):Re(bt)}pe()}catch(bt){Ce.error(bt)}}))};return Ke.subscribe((0,ae._)(Ce,ve,()=>{ht=!0,pe()})),()=>{null==ct||ct()}}(Ve,ze,Ke,ce)))}},941:(vn,_t,L)=>{"use strict";L.d(_t,{Q:()=>ee});var d=L(5225),f=L(9974),Z=L(4360);function ee(ae,de=0){return(0,f.N)((De,Be)=>{De.subscribe((0,Z._)(Be,Ke=>(0,d.N)(Be,ae,()=>Be.next(Ke),de),()=>(0,d.N)(Be,ae,()=>Be.complete(),de),Ke=>(0,d.N)(Be,ae,()=>Be.error(Ke),de)))})}},2816:(vn,_t,L)=>{"use strict";L.d(_t,{S:()=>ee});var d=L(9974),f=L(4360);function ee(ae,de){return(0,d.N)(function Z(ae,de,De,Be,Ke){return(Ce,ce)=>{let Ve=De,ze=de,$e=0;Ce.subscribe((0,f._)(ce,Je=>{const ct=$e++;ze=Ve?ae(ze,Je,ct):(Ve=!0,Je),Be&&ce.next(ze)},Ke&&(()=>{Ve&&ce.next(ze),ce.complete()})))}}(ae,de,arguments.length>=2,!0))}},9172:(vn,_t,L)=>{"use strict";L.d(_t,{Z:()=>ee});var d=L(8793),f=L(3794),Z=L(9974);function ee(...ae){const de=(0,f.lI)(ae);return(0,Z.N)((De,Be)=>{(de?(0,d.x)(ae,De,de):(0,d.x)(ae,De)).subscribe(Be)})}},6745:(vn,_t,L)=>{"use strict";L.d(_t,{_:()=>f});var d=L(9974);function f(Z,ee=0){return(0,d.N)((ae,de)=>{de.add(Z.schedule(()=>ae.subscribe(de),ee))})}},5558:(vn,_t,L)=>{"use strict";L.d(_t,{n:()=>ee});var d=L(8750),f=L(9974),Z=L(4360);function ee(ae,de){return(0,f.N)((De,Be)=>{let Ke=null,Ce=0,ce=!1;const Ve=()=>ce&&!Ke&&Be.complete();De.subscribe((0,Z._)(Be,ze=>{null==Ke||Ke.unsubscribe();let $e=0;const Je=Ce++;(0,d.Tg)(ae(ze,Je)).subscribe(Ke=(0,Z._)(Be,ct=>Be.next(de?de(ze,ct,Je,$e++):ct),()=>{Ke=null,Ve()}))},()=>{ce=!0,Ve()}))})}},6697:(vn,_t,L)=>{"use strict";L.d(_t,{s:()=>ee});var d=L(983),f=L(9974),Z=L(4360);function ee(ae){return ae<=0?()=>d.w:(0,f.N)((de,De)=>{let Be=0;de.subscribe((0,Z._)(De,Ke=>{++Be<=ae&&(De.next(Ke),ae<=Be&&De.complete())}))})}},8141:(vn,_t,L)=>{"use strict";L.d(_t,{M:()=>ae});var d=L(8071),f=L(9974),Z=L(4360),ee=L(3669);function ae(de,De,Be){const Ke=(0,d.T)(de)||De||Be?{next:de,error:De,complete:Be}:de;return Ke?(0,f.N)((Ce,ce)=>{var Ve;null===(Ve=Ke.subscribe)||void 0===Ve||Ve.call(Ke);let ze=!0;Ce.subscribe((0,Z._)(ce,$e=>{var Je;null===(Je=Ke.next)||void 0===Je||Je.call(Ke,$e),ce.next($e)},()=>{var $e;ze=!1,null===($e=Ke.complete)||void 0===$e||$e.call(Ke),ce.complete()},$e=>{var Je;ze=!1,null===(Je=Ke.error)||void 0===Je||Je.call(Ke,$e),ce.error($e)},()=>{var $e,Je;ze&&(null===($e=Ke.unsubscribe)||void 0===$e||$e.call(Ke)),null===(Je=Ke.finalize)||void 0===Je||Je.call(Ke)}))}):ee.D}},3774:(vn,_t,L)=>{"use strict";L.d(_t,{v:()=>ee});var d=L(9350),f=L(9974),Z=L(4360);function ee(de=ae){return(0,f.N)((De,Be)=>{let Ke=!1;De.subscribe((0,Z._)(Be,Ce=>{Ke=!0,Be.next(Ce)},()=>Ke?Be.complete():Be.error(de())))})}function ae(){return new d.G}},6780:(vn,_t,L)=>{"use strict";L.d(_t,{R:()=>ae});var d=L(8359);class f extends d.yU{constructor(De,Be){super()}schedule(De,Be=0){return this}}const Z={setInterval(de,De,...Be){const{delegate:Ke}=Z;return null!=Ke&&Ke.setInterval?Ke.setInterval(de,De,...Be):setInterval(de,De,...Be)},clearInterval(de){const{delegate:De}=Z;return((null==De?void 0:De.clearInterval)||clearInterval)(de)},delegate:void 0};var ee=L(7908);class ae extends f{constructor(De,Be){super(De,Be),this.scheduler=De,this.work=Be,this.pending=!1}schedule(De,Be=0){var Ke;if(this.closed)return this;this.state=De;const Ce=this.id,ce=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(ce,Ce,Be)),this.pending=!0,this.delay=Be,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(ce,this.id,Be),this}requestAsyncId(De,Be,Ke=0){return Z.setInterval(De.flush.bind(De,this),Ke)}recycleAsyncId(De,Be,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return Be;null!=Be&&Z.clearInterval(Be)}execute(De,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(De,Be);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,Be){let Ce,Ke=!1;try{this.work(De)}catch(ce){Ke=!0,Ce=ce||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),Ce}unsubscribe(){if(!this.closed){const{id:De,scheduler:Be}=this,{actions:Ke}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.o)(Ke,this),null!=De&&(this.id=this.recycleAsyncId(Be,De,null)),this.delay=null,super.unsubscribe()}}}},9687:(vn,_t,L)=>{"use strict";L.d(_t,{q:()=>Z});var d=L(6129);class f{constructor(ae,de=f.now){this.schedulerActionCtor=ae,this.now=de}schedule(ae,de=0,De){return new this.schedulerActionCtor(this,ae).schedule(De,de)}}f.now=d.U.now;class Z extends f{constructor(ae,de=f.now){super(ae,de),this.actions=[],this._active=!1}flush(ae){const{actions:de}=this;if(this._active)return void de.push(ae);let De;this._active=!0;do{if(De=ae.execute(ae.state,ae.delay))break}while(ae=de.shift());if(this._active=!1,De){for(;ae=de.shift();)ae.unsubscribe();throw De}}}},3236:(vn,_t,L)=>{"use strict";L.d(_t,{E:()=>Z});var d=L(6780);const Z=new(L(9687).q)(d.R)},6129:(vn,_t,L)=>{"use strict";L.d(_t,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(vn,_t,L)=>{"use strict";L.d(_t,{f:()=>d});const d={setTimeout(f,Z,...ee){const{delegate:ae}=d;return null!=ae&&ae.setTimeout?ae.setTimeout(f,Z,...ee):setTimeout(f,Z,...ee)},clearTimeout(f){const{delegate:Z}=d;return((null==Z?void 0:Z.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4761:(vn,_t,L)=>{"use strict";L.d(_t,{l:()=>f});const f=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(vn,_t,L)=>{"use strict";L.d(_t,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(vn,_t,L)=>{"use strict";L.d(_t,{G:()=>f});const f=(0,L(1853).L)(Z=>function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(vn,_t,L)=>{"use strict";L.d(_t,{R0:()=>de,ms:()=>ee,lI:()=>ae});var d=L(8071);function Z(De){return De[De.length-1]}function ee(De){return(0,d.T)(Z(De))?De.pop():void 0}function ae(De){return function f(De){return De&&(0,d.T)(De.schedule)}(Z(De))?De.pop():void 0}function de(De,Be){return"number"==typeof Z(De)?De.pop():Be}},3073:(vn,_t,L)=>{"use strict";L.d(_t,{D:()=>ae});const{isArray:d}=Array,{getPrototypeOf:f,prototype:Z,keys:ee}=Object;function ae(De){if(1===De.length){const Be=De[0];if(d(Be))return{args:Be,keys:null};if(function de(De){return De&&"object"==typeof De&&f(De)===Z}(Be)){const Ke=ee(Be);return{args:Ke.map(Ce=>Be[Ce]),keys:Ke}}}return{args:De,keys:null}}},7908:(vn,_t,L)=>{"use strict";function d(f,Z){if(f){const ee=f.indexOf(Z);0<=ee&&f.splice(ee,1)}}L.d(_t,{o:()=>d})},1853:(vn,_t,L)=>{"use strict";function d(f){const ee=f(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}L.d(_t,{L:()=>d})},8496:(vn,_t,L)=>{"use strict";function d(f,Z){return f.reduce((ee,ae,de)=>(ee[ae]=Z[de],ee),{})}L.d(_t,{e:()=>d})},9786:(vn,_t,L)=>{"use strict";L.d(_t,{Y:()=>Z,l:()=>ee});var d=L(1026);let f=null;function Z(ae){if(d.$.useDeprecatedSynchronousErrorHandling){const de=!f;if(de&&(f={errorThrown:!1,error:null}),ae(),de){const{errorThrown:De,error:Be}=f;if(f=null,De)throw Be}}else ae()}function ee(ae){d.$.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=ae)}},5225:(vn,_t,L)=>{"use strict";function d(f,Z,ee,ae=0,de=!1){const De=Z.schedule(function(){ee(),de?f.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(f.add(De),!de)return De}L.d(_t,{N:()=>d})},3669:(vn,_t,L)=>{"use strict";function d(f){return f}L.d(_t,{D:()=>d})},7441:(vn,_t,L)=>{"use strict";L.d(_t,{X:()=>d});const d=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(vn,_t,L)=>{"use strict";L.d(_t,{T:()=>f});var d=L(8071);function f(Z){return Symbol.asyncIterator&&(0,d.T)(null==Z?void 0:Z[Symbol.asyncIterator])}},8071:(vn,_t,L)=>{"use strict";function d(f){return"function"==typeof f}L.d(_t,{T:()=>d})},5055:(vn,_t,L)=>{"use strict";L.d(_t,{l:()=>Z});var d=L(3494),f=L(8071);function Z(ee){return(0,f.T)(ee[d.s])}},5397:(vn,_t,L)=>{"use strict";L.d(_t,{x:()=>Z});var d=L(4761),f=L(8071);function Z(ee){return(0,f.T)(null==ee?void 0:ee[d.l])}},9858:(vn,_t,L)=>{"use strict";L.d(_t,{y:()=>f});var d=L(8071);function f(Z){return(0,d.T)(null==Z?void 0:Z.then)}},5196:(vn,_t,L)=>{"use strict";L.d(_t,{C:()=>Z,U:()=>ee});var d=L(1635),f=L(8071);function Z(ae){return(0,d.AQ)(this,arguments,function*(){const De=ae.getReader();try{for(;;){const{value:Be,done:Ke}=yield(0,d.N3)(De.read());if(Ke)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Be)}}finally{De.releaseLock()}})}function ee(ae){return(0,f.T)(null==ae?void 0:ae.getReader)}},9974:(vn,_t,L)=>{"use strict";L.d(_t,{N:()=>Z,S:()=>f});var d=L(8071);function f(ee){return(0,d.T)(null==ee?void 0:ee.lift)}function Z(ee){return ae=>{if(f(ae))return ae.lift(function(de){try{return ee(de,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(vn,_t,L)=>{"use strict";L.d(_t,{I:()=>ee});var d=L(6354);const{isArray:f}=Array;function ee(ae){return(0,d.T)(de=>function Z(ae,de){return f(de)?ae(...de):ae(de)}(ae,de))}},5343:(vn,_t,L)=>{"use strict";function d(){}L.d(_t,{l:()=>d})},1203:(vn,_t,L)=>{"use strict";L.d(_t,{F:()=>f,m:()=>Z});var d=L(3669);function f(...ee){return Z(ee)}function Z(ee){return 0===ee.length?d.D:1===ee.length?ee[0]:function(de){return ee.reduce((De,Be)=>Be(De),de)}}},5334:(vn,_t,L)=>{"use strict";L.d(_t,{m:()=>Z});var d=L(1026),f=L(9270);function Z(ee){f.f.setTimeout(()=>{const{onUnhandledError:ae}=d.$;if(!ae)throw ee;ae(ee)})}},591:(vn,_t,L)=>{"use strict";function d(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(_t,{L:()=>d})},8996:(vn,_t,L)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function f(Z){if(!L.o(d,Z))return Promise.resolve().then(()=>{var de=new Error("Cannot find module '"+Z+"'");throw de.code="MODULE_NOT_FOUND",de});var ee=d[Z],ae=ee[0];return Promise.all(ee.slice(1).map(L.e)).then(()=>L(ae))}f.keys=()=>Object.keys(d),f.id=8996,vn.exports=f},177:(vn,_t,L)=>{"use strict";L.d(_t,{AJ:()=>Ht,Jj:()=>Ms,MD:()=>nt,N0:()=>Wr,QT:()=>Z,Sm:()=>ct,Sq:()=>Fn,T3:()=>Rs,VF:()=>ae,Vy:()=>Zt,Xr:()=>In,ZD:()=>ee,_b:()=>Q,aZ:()=>je,bT:()=>ii,fw:()=>et,hb:()=>$e,hj:()=>Ke,qQ:()=>De});var d=L(4438);let f=null;function Z(){return f}function ee(D){var B;null!==(B=f)&&void 0!==B||(f=D)}class ae{}const De=new d.nKC("");let Be=(()=>{var D;class B{historyGo(U){throw new Error("")}}return(D=B).\u0275fac=function(U){return new(U||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(Ce),providedIn:"platform"}),B})();const Ke=new d.nKC("");let Ce=(()=>{var D;class B extends Be{constructor(){super(),this._doc=(0,d.WQX)(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(U){const ne=Z().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("popstate",U,!1),()=>ne.removeEventListener("popstate",U)}onHashChange(U){const ne=Z().getGlobalEventTarget(this._doc,"window");return ne.addEventListener("hashchange",U,!1),()=>ne.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,ne,Fe){this._history.pushState(U,ne,Fe)}replaceState(U,ne,Fe){this._history.replaceState(U,ne,Fe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return(D=B).\u0275fac=function(U){return new(U||D)},D.\u0275prov=d.jDH({token:D,factory:()=>new D,providedIn:"platform"}),B})();function ce(D,B){if(0==D.length)return B;if(0==B.length)return D;let be=0;return D.endsWith("/")&&be++,B.startsWith("/")&&be++,2==be?D+B.substring(1):1==be?D+B:D+"/"+B}function Ve(D){const B=D.match(/#|\?|$/),be=B&&B.index||D.length;return D.slice(0,be-("/"===D[be-1]?1:0))+D.slice(be)}function ze(D){return D&&"?"!==D[0]?"?"+D:D}let $e=(()=>{var D;class B{historyGo(U){throw new Error("")}}return(D=B).\u0275fac=function(U){return new(U||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(ct),providedIn:"root"}),B})();const Je=new d.nKC("");let ct=(()=>{var D;class B extends $e{constructor(U,ne){var Fe,Ut,ln;super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=null!==(Fe=null!==(Ut=null!=ne?ne:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ut?Ut:null===(ln=(0,d.WQX)(De).location)||void 0===ln?void 0:ln.origin)&&void 0!==Fe?Fe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return ce(this._baseHref,U)}path(U=!1){const ne=this._platformLocation.pathname+ze(this._platformLocation.search),Fe=this._platformLocation.hash;return Fe&&U?`${ne}${Fe}`:ne}pushState(U,ne,Fe,Ut){const ln=this.prepareExternalUrl(Fe+ze(Ut));this._platformLocation.pushState(U,ne,ln)}replaceState(U,ne,Fe,Ut){const ln=this.prepareExternalUrl(Fe+ze(Ut));this._platformLocation.replaceState(U,ne,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var ne,Fe;null===(ne=(Fe=this._platformLocation).historyGo)||void 0===ne||ne.call(Fe,U)}}return(D=B).\u0275fac=function(U){return new(U||D)(d.KVO(Be),d.KVO(Je,8))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),B})(),et=(()=>{var D;class B extends $e{constructor(U,ne){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=ne&&(this._baseHref=ne)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){var ne;const Fe=null!==(ne=this._platformLocation.hash)&&void 0!==ne?ne:"#";return Fe.length>0?Fe.substring(1):Fe}prepareExternalUrl(U){const ne=ce(this._baseHref,U);return ne.length>0?"#"+ne:ne}pushState(U,ne,Fe,Ut){let ln=this.prepareExternalUrl(Fe+ze(Ut));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.pushState(U,ne,ln)}replaceState(U,ne,Fe,Ut){let ln=this.prepareExternalUrl(Fe+ze(Ut));0==ln.length&&(ln=this._platformLocation.pathname),this._platformLocation.replaceState(U,ne,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){var ne,Fe;null===(ne=(Fe=this._platformLocation).historyGo)||void 0===ne||ne.call(Fe,U)}}return(D=B).\u0275fac=function(U){return new(U||D)(d.KVO(Be),d.KVO(Je,8))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac}),B})(),je=(()=>{var D;class B{constructor(U){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const ne=this._locationStrategy.getBaseHref();this._basePath=function ve(D){if(new RegExp("^(https?:)?//").test(D)){const[,be]=D.split(/\/\/[^\/]+/);return be}return D}(Ve(pe(ne))),this._locationStrategy.onPopState(Fe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Fe.state,type:Fe.type})})}ngOnDestroy(){var U;null===(U=this._urlChangeSubscription)||void 0===U||U.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,ne=""){return this.path()==this.normalize(U+ze(ne))}normalize(U){return B.stripTrailingSlash(function ht(D,B){if(!D||!B.startsWith(D))return B;const be=B.substring(D.length);return""===be||["/",";","?","#"].includes(be[0])?be:B}(this._basePath,pe(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,ne="",Fe=null){this._locationStrategy.pushState(Fe,"",U,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ze(ne)),Fe)}replaceState(U,ne="",Fe=null){this._locationStrategy.replaceState(Fe,"",U,ne),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+ze(ne)),Fe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){var ne,Fe;null===(ne=(Fe=this._locationStrategy).historyGo)||void 0===ne||ne.call(Fe,U)}onUrlChange(U){var ne;return this._urlChangeListeners.push(U),null!==(ne=this._urlChangeSubscription)&&void 0!==ne||(this._urlChangeSubscription=this.subscribe(Fe=>{this._notifyUrlChangeListeners(Fe.url,Fe.state)})),()=>{const Fe=this._urlChangeListeners.indexOf(U);var Ut;this._urlChangeListeners.splice(Fe,1),0===this._urlChangeListeners.length&&(null===(Ut=this._urlChangeSubscription)||void 0===Ut||Ut.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",ne){this._urlChangeListeners.forEach(Fe=>Fe(U,ne))}subscribe(U,ne,Fe){return this._subject.subscribe({next:U,error:ne,complete:Fe})}}return(D=B).normalizeQueryParams=ze,D.joinWithSlash=ce,D.stripTrailingSlash=Ve,D.\u0275fac=function(U){return new(U||D)(d.KVO($e))},D.\u0275prov=d.jDH({token:D,factory:()=>function vt(){return new je((0,d.KVO)($e))}(),providedIn:"root"}),B})();function pe(D){return D.replace(/\/index.html$/,"")}function Q(D,B){B=encodeURIComponent(B);for(const be of D.split(";")){const U=be.indexOf("="),[ne,Fe]=-1==U?[be,""]:[be.slice(0,U),be.slice(U+1)];if(ne.trim()===B)return decodeURIComponent(Fe)}return null}class Sn{constructor(B,be,U,ne){this.$implicit=B,this.ngForOf=be,this.index=U,this.count=ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fn=(()=>{var D;class B{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,ne,Fe){this._viewContainer=U,this._template=ne,this._differs=Fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const ne=this._viewContainer;U.forEachOperation((Fe,Ut,ln)=>{if(null==Fe.previousIndex)ne.createEmbeddedView(this._template,new Sn(Fe.item,this._ngForOf,-1,-1),null===ln?void 0:ln);else if(null==ln)ne.remove(null===Ut?void 0:Ut);else if(null!==Ut){const or=ne.get(Ut);ne.move(or,ln),Jr(or,Fe)}});for(let Fe=0,Ut=ne.length;Fe<Ut;Fe++){const or=ne.get(Fe).context;or.index=Fe,or.count=Ut,or.ngForOf=this._ngForOf}U.forEachIdentityChange(Fe=>{Jr(ne.get(Fe.currentIndex),Fe)})}static ngTemplateContextGuard(U,ne){return!0}}return(D=B).\u0275fac=function(U){return new(U||D)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),B})();function Jr(D,B){D.context.$implicit=B.item}let ii=(()=>{var D;class B{constructor(U,ne){this._viewContainer=U,this._context=new _i,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ne}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Xi("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Xi("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,ne){return!0}}return(D=B).\u0275fac=function(U){return new(U||D)(d.rXU(d.c1b),d.rXU(d.C4Q))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),B})();class _i{constructor(){this.$implicit=null,this.ngIf=null}}function Xi(D,B){if(B&&!B.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,d.Tbb)(B)}'.`)}let Rs=(()=>{var D;class B{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(this._shouldRecreateView(U)){var ne;const Fe=this._viewContainerRef;if(this._viewRef&&Fe.remove(Fe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ut=this._createContextForwardProxy();this._viewRef=Fe.createEmbeddedView(this.ngTemplateOutlet,Ut,{injector:null!==(ne=this.ngTemplateOutletInjector)&&void 0!==ne?ne:void 0})}}_shouldRecreateView(U){return!!U.ngTemplateOutlet||!!U.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(U,ne,Fe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ne,Fe),get:(U,ne,Fe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ne,Fe)}})}}return(D=B).\u0275fac=function(U){return new(U||D)(d.rXU(d.c1b))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),B})();class hs{createSubscription(B,be){return(0,d.O8t)(()=>B.subscribe({next:be,error:U=>{throw U}}))}dispose(B){(0,d.O8t)(()=>B.unsubscribe())}}class er{createSubscription(B,be){return B.then(be,U=>{throw U})}dispose(B){}}const wr=new er,Ia=new hs;let Ms=(()=>{var D;class B{constructor(U){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){if(!this._obj){if(U)try{this.markForCheckOnValueUpdate=!1,this._subscribe(U)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,ne=>this._updateLatestValue(U,ne))}_selectStrategy(U){if((0,d.jNT)(U))return wr;if((0,d.zjR)(U))return Ia;throw function pi(D,B){return new d.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,ne){var Fe;U===this._obj&&(this._latestValue=ne,this.markForCheckOnValueUpdate)&&(null===(Fe=this._ref)||void 0===Fe||Fe.markForCheck())}}return(D=B).\u0275fac=function(U){return new(U||D)(d.rXU(d.gRc,16))},D.\u0275pipe=d.EJ8({name:"async",type:D,pure:!1,standalone:!0}),B})(),nt=(()=>{var D;class B{}return(D=B).\u0275fac=function(U){return new(U||D)},D.\u0275mod=d.$C({type:D}),D.\u0275inj=d.G2t({}),B})();const Ht="browser",It="server";function Zt(D){return D===It}let In=(()=>{var D;class B{}return(D=B).\u0275prov=(0,d.jDH)({token:D,providedIn:"root",factory:()=>function jt(D){return D===Ht}((0,d.WQX)(d.Agw))?new Vn((0,d.WQX)(De),window):new kr}),B})();class Vn{constructor(B,be){this.document=B,this.window=be,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(B){this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){const be=function Mn(D,B){const be=D.getElementById(B)||D.getElementsByName(B)[0];if(be)return be;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const U=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ne=U.currentNode;for(;ne;){const Fe=ne.shadowRoot;if(Fe){const Ut=Fe.getElementById(B)||Fe.querySelector(`[name="${B}"]`);if(Ut)return Ut}ne=U.nextNode()}}return null}(this.document,B);be&&(this.scrollToElement(be),be.focus())}setHistoryScrollRestoration(B){this.window.history.scrollRestoration=B}scrollToElement(B){const be=B.getBoundingClientRect(),U=be.left+this.window.pageXOffset,ne=be.top+this.window.pageYOffset,Fe=this.offset();this.window.scrollTo(U-Fe[0],ne-Fe[1])}}class kr{setOffset(B){}getScrollPosition(){return[0,0]}scrollToPosition(B){}scrollToAnchor(B){}setHistoryScrollRestoration(B){}}class Wr{}},4438:(vn,_t,L)=>{"use strict";function d(e,n){return Object.is(e,n)}L.d(_t,{iLQ:()=>f0,sZ2:()=>Fd,hnV:()=>LD,Hbi:()=>JP,o8S:()=>dc,BIS:()=>hm,gRc:()=>eb,Ql9:()=>AP,Ocv:()=>RP,Z63:()=>mo,aKT:()=>Fu,uvJ:()=>Bo,zcH:()=>Fs,bkB:()=>ea,$GK:()=>Sr,nKC:()=>Fn,zZn:()=>_o,_q3:()=>QE,MKu:()=>YE,xe9:()=>zE,Co$:()=>HA,Vns:()=>xf,SKi:()=>E,Xx1:()=>Wr,Agw:()=>Ep,PLl:()=>Ip,sFG:()=>Ny,_9s:()=>sd,czy:()=>Up,kdw:()=>$r,C4Q:()=>pf,NYb:()=>gP,giA:()=>FD,xvI:()=>HM,RxE:()=>RD,c1b:()=>Nf,gXe:()=>qn,mal:()=>Ky,L39:()=>MN,EWP:()=>NN,a0P:()=>UN,Ol2:()=>WI,w6W:()=>rw,oH4:()=>QD,Rfq:()=>st,WQX:()=>It,naY:()=>LP,QuC:()=>To,fpN:()=>ZP,HJs:()=>BN,N4e:()=>Sa,vPA:()=>DA,O8t:()=>xN,H3F:()=>MD,H8p:()=>za,KH2:()=>Fg,TgB:()=>ol,wOt:()=>yt,WHO:()=>OD,e01:()=>kD,H5H:()=>_E,mq5:()=>qC,JZv:()=>fn,LfX:()=>K,plB:()=>sc,jNT:()=>BE,zjR:()=>VD,TL$:()=>dm,Tbb:()=>nn,Vt3:()=>HI,GFd:()=>jA,OA$:()=>da,Jv_:()=>rD,aNF:()=>iD,R7$:()=>qm,BMQ:()=>oE,AVh:()=>dE,wni:()=>MT,VBU:()=>Ii,FsC:()=>Ta,jDH:()=>dr,G2t:()=>z,$C:()=>ts,EJ8:()=>Bs,rXU:()=>Xu,nrm:()=>mE,eu8:()=>vE,bVm:()=>n0,qex:()=>t0,k0s:()=>e0,j41:()=>Jy,RV6:()=>GC,xGo:()=>tp,KVO:()=>nt,kS0:()=>el,QTQ:()=>K_,bIt:()=>EE,lsd:()=>xT,XpG:()=>yT,nI1:()=>hD,bMT:()=>fD,SdG:()=>ET,NAR:()=>IT,Y8G:()=>uE,FS9:()=>CE,mGM:()=>NT,Njj:()=>vd,eBV:()=>Ec,B4B:()=>Pp,n$t:()=>Kc,DNE:()=>qI,EFF:()=>HT,JRh:()=>bE,SpI:()=>l0,wXG:()=>qd,DH7:()=>JT,mxI:()=>SE,R50:()=>wE,GBs:()=>PT});let f=null,Z=!1,ee=1;const ae=Symbol("SIGNAL");function de(e){const n=f;return f=e,n}const Ce={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ce(e){if(Z)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const n=f.nextProducerIndex++;rt(f),n<f.producerNode.length&&f.producerNode[n]!==e&&Re(f)&&ve(f.producerNode[n],f.producerIndexOfThis[n]),f.producerNode[n]!==e&&(f.producerNode[n]=e,f.producerIndexOfThis[n]=Re(f)?pe(e,f,n):0),f.producerLastReadVersion[n]=e.version}function ze(e){if((!Re(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ee)){if(!e.producerMustRecompute(e)&&!vt(e))return e.dirty=!1,void(e.lastCleanEpoch=ee);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ee}}function $e(e){if(void 0===e.liveConsumerNode)return;const n=Z;Z=!0;try{for(const r of e.liveConsumerNode)r.dirty||ct(r)}finally{Z=n}}function Je(){var e;return!1!==(null===(e=f)||void 0===e?void 0:e.consumerAllowSignalWrites)}function ct(e){var n;e.dirty=!0,$e(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function et(e){return e&&(e.nextProducerIndex=0),de(e)}function je(e,n){if(de(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Re(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ve(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function vt(e){rt(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(ze(r),o!==r.version))return!0}return!1}function ht(e){if(rt(e),Re(e))for(let n=0;n<e.producerNode.length;n++)ve(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function pe(e,n,r){if(Ye(e),0===e.liveConsumerNode.length&&bt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=pe(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function ve(e,n){if(Ye(e),1===e.liveConsumerNode.length&&bt(e))for(let o=0;o<e.producerNode.length;o++)ve(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];rt(a),a.producerIndexOfThis[o]=n}}function Re(e){var n,r;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==n?n:0)>0}function rt(e){var n,r,o;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function Ye(e){var n,r;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function bt(e){return void 0!==e.producerNode}const Pe=Symbol("UNSET"),Lt=Symbol("COMPUTING"),zt=Symbol("ERRORED"),cn={...Ce,value:Pe,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===Pe||e.value===Lt,producerRecomputeValue(e){if(e.value===Lt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Lt;const r=et(e);let o;try{o=e.computation()}catch(a){o=zt,e.error=a}finally{je(e,r)}n!==Pe&&n!==zt&&o!==zt&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let wn=function Jt(){throw new Error};function kt(){wn()}let Ie=null;function Xe(e,n){Je()||kt(),e.equal(e.value,n)||(e.value=n,function ot(e){var n;e.version++,function Ve(){ee++}(),$e(e),null===(n=Ie)||void 0===n||n()}(e))}const tt={...Ce,equal:d,value:void 0};var Nn,Me,Cn=L(4412),kn=L(1413),Ft=L(8359),Kt=L(6354);const Pt="https://g.co/ng/security#xss";class yt extends Error{constructor(n,r){super(function jn(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,r)),this.code=n}}function Gn(e){return{toString:e}.toString()}const br="__parameters__";function Yn(e,n,r){return Gn(()=>{const o=function Ur(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(n);function a(...c){if(this instanceof a)return o.apply(this,c),this;const m=new a(...c);return I.annotation=m,I;function I(T,V,G){const re=T.hasOwnProperty(br)?T[br]:Object.defineProperty(T,br,{value:[]})[br];for(;re.length<=G;)re.push(null);return(re[G]=re[G]||[]).push(m),T}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const fn=globalThis;function ir(e){for(let n in e)if(e[n]===ir)return n;throw Error("Could not find renamed property on target object.")}function sr(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function nn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(nn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function Nt(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ot=ir({__forward_ref__:ir});function st(e){return e.__forward_ref__=st,e.toString=function(){return nn(this())},e}function ut(e){return en(e)?e():e}function en(e){return"function"==typeof e&&e.hasOwnProperty(Ot)&&e.__forward_ref__===st}function dr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function z(e){return{providers:e.providers||[],imports:e.imports||[]}}function he(e){return Q(e,$t)||Q(e,Un)}function K(e){return null!==he(e)}function Q(e,n){return e.hasOwnProperty(n)?e[n]:null}function gt(e){return e&&(e.hasOwnProperty(tn)||e.hasOwnProperty(Sn))?e[tn]:null}const $t=ir({\u0275prov:ir}),tn=ir({\u0275inj:ir}),Un=ir({ngInjectableDef:ir}),Sn=ir({ngInjectorDef:ir});class Fn{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=dr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xo(e){return e&&!!e.\u0275providers}const ro=ir({\u0275cmp:ir}),Eo=ir({\u0275dir:ir}),Ao=ir({\u0275pipe:ir}),Rs=ir({\u0275mod:ir}),Pi=ir({\u0275fac:ir}),pi=ir({__NG_ELEMENT_ID__:ir}),hs=ir({__NG_ENV_ID__:ir});function er(e){return"string"==typeof e?e:null==e?"":String(e)}function ao(e,n){throw new yt(-201,!1)}var Sr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Sr||{});let Yo;function Qr(){return Yo}function di(e){const n=Yo;return Yo=e,n}function gi(e,n,r){const o=he(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Sr.Optional?null:void 0!==n?n:void ao()}const io={},Vr="__NG_DI_FLAG__",R="ngTempTokenPath",le=/\n/gm,C="__source";let O;function ke(e){const n=O;return O=e,n}function it(e,n=Sr.Default){if(void 0===O)throw new yt(-203,!1);return null===O?gi(e,void 0,n):O.get(e,n&Sr.Optional?null:void 0,n)}function nt(e,n=Sr.Default){return(Qr()||it)(ut(e),n)}function It(e,n=Sr.Default){return nt(e,jt(n))}function jt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zt(e){const n=[];for(let r=0;r<e.length;r++){const o=ut(e[r]);if(Array.isArray(o)){if(0===o.length)throw new yt(900,!1);let a,c=Sr.Default;for(let m=0;m<o.length;m++){const I=o[m],T=In(I);"number"==typeof T?-1===T?a=I.token:c|=T:a=I}n.push(nt(a,c))}else n.push(nt(o))}return n}function dn(e,n){return e[Vr]=n,e.prototype[Vr]=n,e}function In(e){return e[Vr]}const Wr=dn(Yn("Optional"),8),$r=dn(Yn("SkipSelf"),4);function Ci(e,n){return e.hasOwnProperty(Pi)?e[Pi]:null}function go(e,n){e.forEach(r=>Array.isArray(r)?go(r,n):n(r))}function oo(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function fs(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ni(e,n,r){let o=ps(e,n);return o>=0?e[1|o]=r:(o=~o,function oa(e,n,r,o){let a=e.length;if(a==n)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>n;)e[a]=e[a-2],a--;e[n]=r,e[n+1]=o}}(e,o,n,r)),o}function Oo(e,n){const r=ps(e,n);if(r>=0)return e[1|r]}function ps(e,n){return function Ns(e,n,r){let o=0,a=e.length>>r;for(;a!==o;){const c=o+(a-o>>1),m=e[c<<r];if(n===m)return c<<r;m>n?a=c:o=c+1}return~(a<<r)}(e,n,1)}const Rr={},hr=[],mo=new Fn(""),ko=new Fn("",-1),vo=new Fn("");class sa{get(n,r=io){if(r===io){const o=new Error(`NullInjectorError: No provider for ${nn(n)}!`);throw o.name="NullInjectorError",o}return r}}var gs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(gs||{}),qn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qn||{}),Ar=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ar||{});function Aa(e,n,r){let o=e.length;for(;;){const a=e.indexOf(n,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=n.length;if(a+c===o||e.charCodeAt(a+c)<=32)return a}r=a+1}}function Ls(e,n,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const c=r[o++],m=r[o++],I=r[o++];e.setAttribute(n,m,I,c)}else{const c=a,m=r[++o];Ca(c)?e.setProperty(n,c,m):e.setAttribute(n,c,m),o++}}return o}function Us(e){return 3===e||4===e||6===e}function Ca(e){return 64===e.charCodeAt(0)}function xs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?r=a:0===r||ja(e,r,a,null,-1===r||2===r?n[++o]:null)}}return e}function ja(e,n,r,o,a){let c=0,m=e.length;if(-1===n)m=-1;else for(;c<e.length;){const I=e[c++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=c-1;break}}}for(;c<e.length;){const I=e[c];if("number"==typeof I)break;if(I===r){if(null===o)return void(null!==a&&(e[c+1]=a));if(o===e[c+1])return void(e[c+2]=a)}c++,null!==o&&c++,null!==a&&c++}-1!==m&&(e.splice(m,0,n),c=m+1),e.splice(c++,0,r),null!==o&&e.splice(c++,0,o),null!==a&&e.splice(c++,0,a)}const aa="ng-template";function Kr(e,n,r,o){let a=0;if(o){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==Aa(n[a+1].toLowerCase(),r,0))return!0}else if(ms(e))return!1;if(a=n.indexOf(1,a),a>-1){let c;for(;++a<n.length&&"string"==typeof(c=n[a]);)if(c.toLowerCase()===r)return!0}return!1}function ms(e){return 4===e.type&&e.value!==aa}function cl(e,n,r){return n===(4!==e.type||r?e.value:aa)}function Ll(e,n,r){let o=4;const a=e.attrs,c=null!==a?function M(e){for(let n=0;n<e.length;n++)if(Us(e[n]))return n;return e.length}(a):0;let m=!1;for(let I=0;I<n.length;I++){const T=n[I];if("number"!=typeof T){if(!m)if(4&o){if(o=2|1&o,""!==T&&!cl(e,T,r)||""===T&&1===n.length){if(Co(o))return!1;m=!0}}else if(8&o){if(null===a||!Kr(e,a,T,r)){if(Co(o))return!1;m=!0}}else{const V=n[++I],G=dl(T,a,ms(e),r);if(-1===G){if(Co(o))return!1;m=!0;continue}if(""!==V){let re;if(re=G>c?"":a[G+1].toLowerCase(),2&o&&V!==re){if(Co(o))return!1;m=!0}}}}else{if(!m&&!Co(o)&&!Co(T))return!1;if(m&&Co(T))continue;m=!1,o=T|1&o}}return Co(o)||m}function Co(e){return!(1&e)}function dl(e,n,r,o){if(null===n)return-1;let a=0;if(o||!r){let c=!1;for(;a<n.length;){const m=n[a];if(m===e)return a;if(3===m||6===m)c=!0;else{if(1===m||2===m){let I=n[++a];for(;"string"==typeof I;)I=n[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=c?1:2}return-1}return function J(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function hl(e,n,r=!1){for(let o=0;o<n.length;o++)if(Ll(e,n[o],r))return!0;return!1}function $(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function fe(e,n){return e?":not("+n.trim()+")":n}function rn(e){let n=e[0],r=1,o=2,a="",c=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const I=e[++r];a+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?a+="."+m:4&o&&(a+=" "+m);else""!==a&&!Co(m)&&(n+=fe(c,a),a=""),o=m,c=c||!Co(o);r++}return""!==a&&(n+=fe(c,a)),n}function Ii(e){return Gn(()=>{var n;const r=la(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===gs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||qn.Emulated,styles:e.styles||hr,_:null,schemas:e.schemas||null,tView:null,id:""};ua(o);const a=e.dependencies;return o.directiveDefs=Vo(a,!1),o.pipeDefs=Vo(a,!0),o.id=function Da(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function Hi(e){return vr(e)||jr(e)}function Ji(e){return null!==e}function ts(e){return Gn(()=>({type:e.type,bootstrap:e.bootstrap||hr,declarations:e.declarations||hr,imports:e.imports||hr,exports:e.exports||hr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Fo(e,n){if(null==e)return Rr;const r={};for(const a in e)if(e.hasOwnProperty(a)){const c=e[a];let m,I,T=Ar.None;var o;Array.isArray(c)?(T=c[0],m=c[1],I=null!==(o=c[2])&&void 0!==o?o:m):(m=c,I=c),n?(r[m]=T!==Ar.None?[a,T]:a,n[m]=I):r[m]=a}return r}function Ta(e){return Gn(()=>{const n=la(e);return ua(n),n})}function Bs(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function vr(e){return e[ro]||null}function jr(e){return e[Eo]||null}function ki(e){return e[Ao]||null}function To(e){const n=vr(e)||jr(e)||ki(e);return null!==n&&n.standalone}function zi(e,n){const r=e[Rs]||null;if(!r&&!0===n)throw new Error(`Type ${nn(e)} does not have '\u0275mod' property.`);return r}function la(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Rr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||hr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fo(e.inputs,n),outputs:Fo(e.outputs),debugInfo:null}}function ua(e){var n;null===(n=e.features)||void 0===n||n.forEach(r=>r(e))}function Vo(e,n){if(!e)return null;const r=n?ki:Hi;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Ji)}function Ul(...e){return{\u0275providers:mu(0,e),\u0275fromNgModule:!0}}function mu(e,...n){const r=[],o=new Set;let a;const c=m=>{r.push(m)};return go(n,m=>{const I=m;Bl(I,c,[],o)&&(a||(a=[]),a.push(I))}),void 0!==a&&ns(a,c),r}function ns(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];ca(a,c=>{n(c,o)})}}function Bl(e,n,r,o){if(!(e=ut(e)))return!1;let a=null,c=gt(e);const m=!c&&vr(e);if(c||m){if(m&&!m.standalone)return!1;a=e}else{const T=e.ngModule;if(c=gt(T),!c)return!1;a=T}const I=o.has(a);if(m){if(I)return!1;if(o.add(a),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const V of T)Bl(V,n,r,o)}}else{if(!c)return!1;{if(null!=c.imports&&!I){let V;o.add(a);try{go(c.imports,G=>{Bl(G,n,r,o)&&(V||(V=[]),V.push(G))})}finally{}void 0!==V&&ns(V,n)}if(!I){const V=Ci(a)||(()=>new a);n({provide:a,useFactory:V,deps:hr},a),n({provide:vo,useValue:a,multi:!0},a),n({provide:mo,useValue:()=>nt(a),multi:!0},a)}const T=c.providers;if(null!=T&&!I){const V=e;ca(T,G=>{n(G,V)})}}}return a!==e&&void 0!==e.providers}function ca(e,n){for(let r of e)Xo(r)&&(r=r.\u0275providers),Array.isArray(r)?ca(r,n):n(r)}const pl=ir({provide:String,useValue:ir});function Ha(e){return null!==e&&"object"==typeof e&&pl in e}function Uo(e){return"function"==typeof e}const za=new Fn(""),yr={},_u={};let ba;function $s(){return void 0===ba&&(ba=new sa),ba}class Bo{}class bo extends Bo{get destroyed(){return this._destroyed}constructor(n,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,js(n,m=>this.processProvider(m)),this.records.set(ko,rs(void 0,this)),a.has("environment")&&this.records.set(Bo,rs(void 0,this));const c=this.records.get(za);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(vo,hr,Sr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=de(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=ke(this),o=di(void 0);try{return n()}finally{ke(r),di(o)}}get(n,r=io,o=Sr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(hs))return n[hs](this);o=jt(o);const c=ke(this),m=di(void 0);try{if(!(o&Sr.SkipSelf)){let T=this.records.get(n);if(void 0===T){const V=function fo(e){return"function"==typeof e||"object"==typeof e&&e instanceof Fn}(n)&&he(n);T=V&&this.injectableDefInScope(V)?rs(wa(n),yr):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(o&Sr.Self?$s():this.parent).get(n,r=o&Sr.Optional&&r===io?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[R]=I[R]||[]).unshift(nn(n)),c)throw I;return function Vn(e,n,r,o){const a=e[R];throw n[C]&&a.unshift(n[C]),e.message=function Mn(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=nn(n);if(Array.isArray(n))a=n.map(nn).join(" -> ");else if("object"==typeof n){let c=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];c.push(m+":"+("string"==typeof I?JSON.stringify(I):nn(I)))}a=`{${c.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(le,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[R]=null,e}(I,n,"R3InjectorError",this.source)}throw I}finally{di(m),ke(c)}}resolveInjectorInitializers(){const n=de(null),r=ke(this),o=di(void 0);try{const c=this.get(mo,hr,Sr.Self);for(const m of c)m()}finally{ke(r),di(o),de(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(nn(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new yt(205,!1)}processProvider(n){let r=Uo(n=ut(n))?n:ut(n&&n.provide);const o=function Ga(e){return Ha(e)?rs(void 0,e.useValue):rs(ml(e),yr)}(n);if(!Uo(n)&&!0===n.multi){let a=this.records.get(r);a||(a=rs(void 0,yr,!0),a.factory=()=>Zt(a.multi),this.records.set(r,a)),r=n,a.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=de(null);try{return r.value===yr&&(r.value=_u,r.value=r.factory()),"object"==typeof r.value&&r.value&&function yu(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{de(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=ut(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function wa(e){const n=he(e),r=null!==n?n.factory:Ci(e);if(null!==r)return r;if(e instanceof Fn)throw new yt(204,!1);if(e instanceof Function)return function gl(e){if(e.length>0)throw new yt(204,!1);const r=function me(e){return e&&(e[$t]||e[Un])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new yt(204,!1)}function ml(e,n,r){let o;if(Uo(e)){const a=ut(e);return Ci(a)||wa(a)}if(Ha(e))o=()=>ut(e.useValue);else if(function $l(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Zt(e.deps||[]));else if(function Do(e){return!(!e||!e.useExisting)}(e))o=()=>nt(ut(e.useExisting));else{const a=ut(e&&(e.useClass||e.provide));if(!function is(e){return!!e.deps}(e))return Ci(a)||wa(a);o=()=>new a(...Zt(e.deps))}return o}function rs(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function js(e,n){for(const r of e)Array.isArray(r)?js(r,n):r&&Xo(r)?js(r.\u0275providers,n):n(r)}function Sa(e,n){e instanceof bo&&e.assertNotDestroyed();const o=ke(e),a=di(void 0);try{return n()}finally{ke(o),di(a)}}function jl(){return void 0!==Qr()||null!=function Ee(){return O}()}const Pr=0,un=1,Bn=2,mi=3,Fi=4,vi=5,eo=6,Hs=7,_r=8,tr=9,vs=10,lr=11,zs=12,_s=13,vl=14,xi=15,Gs=16,_l=17,Vi=18,ks=19,Ra=20,wo=21,yl=22,li=23,Wn=25,Hl=1,ys=7,Il=9,Li=10;var fc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(fc||{});function Ei(e){return Array.isArray(e)&&"object"==typeof e[Hl]}function Ui(e){return Array.isArray(e)&&!0===e[Hl]}function Ma(e){return!!(4&e.flags)}function Ws(e){return e.componentOffset>-1}function Di(e){return!(1&~e.flags)}function So(e){return!!e.template}function Pa(e){return!!(512&e[Bn])}class so{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ro(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function da(){return jo}function jo(e){return e.type.prototype.ngOnChanges&&(e.setInput=Eu),Ho}function Ho(){const e=gc(this),n=null==e?void 0:e.current;if(n){const r=e.previous;if(r===Rr)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Eu(e,n,r,o,a){const c=this.declaredInputs[o],m=gc(e)||function ha(e,n){return e[Al]=n}(e,{previous:Rr,current:null}),I=m.current||(m.current={}),T=m.previous,V=T[c];I[c]=new so(V&&V.currentValue,r,T===Rr),Ro(e,n,a,r)}da.ngInherit=!0;const Al="__ngSimpleChanges__";function gc(e){return e[Al]||null}const zo=function(e,n,r){};function Lr(e){for(;Array.isArray(e);)e=e[Pr];return e}function Au(e,n){return Lr(n[e])}function Go(e,n){return Lr(n[e.index])}function Tl(e,n){return e.data[n]}function Wo(e,n){const r=n[e];return Ei(r)?r:r[Pr]}function vc(e){return!(128&~e[Bn])}function Is(e,n){return null==n?null:e[n]}function Ih(e){e[_l]=0}function cd(e){1024&e[Bn]||(e[Bn]|=1024,vc(e)&&Na(e))}function hd(e){var n;return!!(9216&e[Bn]||null!==(n=e[li])&&void 0!==n&&n.dirty)}function fa(e){var n;null===(n=e[vs].changeDetectionScheduler)||void 0===n||n.notify(8),64&e[Bn]&&(e[Bn]|=1024),hd(e)&&Na(e)}function Na(e){var n;null===(n=e[vs].changeDetectionScheduler)||void 0===n||n.notify(0);let r=qs(e);for(;null!==r&&!(8192&r[Bn])&&(r[Bn]|=8192,vc(r));)r=qs(r)}function pa(e,n){if(!(256&~e[Bn]))throw new yt(911,!1);null===e[wo]&&(e[wo]=[]),e[wo].push(n)}function qs(e){const n=e[mi];return Ui(n)?n[mi]:n}const pr={lFrame:Wf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let _c=!1;function yc(){return pr.bindingsEnabled}function Yl(){return null!==pr.skipHydrationRootTNode}function Gt(){return pr.lFrame.lView}function Ir(){return pr.lFrame.tView}function Ec(e){return pr.lFrame.contextLView=e,e[_r]}function vd(e){return pr.lFrame.contextLView=null,e}function Dr(){let e=Ch();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ch(){return pr.lFrame.currentTNode}function os(e,n){const r=pr.lFrame;r.currentTNode=e,r.isParent=n}function Ac(){return pr.lFrame.isParent}function xa(){pr.lFrame.isParent=!1}function Zl(){return _c}function Cc(e){_c=e}function Xs(){return pr.lFrame.bindingIndex++}function _d(e,n){const r=pr.lFrame;r.bindingIndex=r.bindingRootIndex=e,bh(n)}function bh(e){pr.lFrame.currentDirectiveIndex=e}function wh(){return pr.lFrame.currentQueryIndex}function Tc(e){pr.lFrame.currentQueryIndex=e}function Xa(e){const n=e[un];return 2===n.type?n.declTNode:1===n.type?e[vi]:null}function bu(e,n,r){if(r&Sr.SkipSelf){let a=n,c=e;for(;!(a=a.parent,null!==a||r&Sr.Host||(a=Xa(c),null===a||(c=c[vl],10&a.type))););if(null===a)return!1;n=a,e=c}const o=pr.lFrame=Sh();return o.currentTNode=n,o.lView=e,!0}function Id(e){const n=Sh(),r=e[un];pr.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Sh(){const e=pr.lFrame,n=null===e?null:e.child;return null===n?Wf(e):n}function Wf(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Rh(){const e=pr.lFrame;return pr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Mh=Rh;function Ph(){const e=Rh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function po(){return pr.lFrame.selectedIndex}function Bi(e){pr.lFrame.selectedIndex=e}function bi(){const e=pr.lFrame;return Tl(e.tView,e.selectedIndex)}let wu=!0;function Qa(){return wu}function Ys(e){wu=e}function bc(e,n){for(let V=n.directiveStart,G=n.directiveEnd;V<G;V++){const xe=e.data[V].type.prototype,{ngAfterContentInit:Ge,ngAfterContentChecked:Le,ngAfterViewInit:Bt,ngAfterViewChecked:sn,ngOnDestroy:pn}=xe;var r,o,a,c,m,I,T;Ge&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-V,Ge),Le&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(V,Le),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(V,Le)),Bt&&(null!==(c=e.viewHooks)&&void 0!==c?c:e.viewHooks=[]).push(-V,Bt),sn&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(V,sn),(null!==(I=e.viewCheckHooks)&&void 0!==I?I:e.viewCheckHooks=[]).push(V,sn)),null!=pn&&(null!==(T=e.destroyHooks)&&void 0!==T?T:e.destroyHooks=[]).push(V,pn)}}function bl(e,n,r){wc(e,n,3,r)}function Ya(e,n,r,o){(3&e[Bn])===r&&wc(e,n,r,o)}function Za(e,n){let r=e[Bn];(3&r)===n&&(r&=16383,r+=1,e[Bn]=r)}function wc(e,n,r,o){const c=null!=o?o:-1,m=n.length-1;let I=0;for(let T=void 0!==o?65535&e[_l]:0;T<m;T++)if("number"==typeof n[T+1]){if(I=n[T],null!=o&&I>=o)break}else n[T]<0&&(e[_l]+=65536),(I<c||-1==c)&&(zg(e,r,n,T),e[_l]=(4294901760&e[_l])+T+2),T++}function Sc(e,n){zo(4,e,n);const r=de(null);try{n.call(e)}finally{de(r),zo(5,e,n)}}function zg(e,n,r,o){const a=r[o]<0,c=r[o+1],I=e[a?-r[o]:r[o]];a?e[Bn]>>14<e[_l]>>16&&(3&e[Bn])===n&&(e[Bn]+=16384,Sc(I,c)):Sc(I,c)}const Jl=-1;class Rc{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const wl={};class Es{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=jt(o);const a=this.injector.get(n,wl,o);return a!==wl||r===wl?a:this.parentInjector.get(n,r,o)}}function Pc(e){return e!==Jl}function ka(e){return 32767&e}function Su(e,n){let r=function Qf(e){return e>>16}(e),o=n;for(;r>0;)o=o[vl],r--;return o}let Oh=!0;function Ru(e){const n=Oh;return Oh=e,n}const Cd=255,kh=5;let Zf=0;const Zs={};function Ja(e,n){const r=Dd(e,n);if(-1!==r)return r;const o=n[un];o.firstCreatePass&&(e.injectorIndex=n.length,Sl(o.data,e),Sl(n,null),Sl(o.blueprint,null));const a=Mu(e,n),c=e.injectorIndex;if(Pc(a)){const m=ka(a),I=Su(a,n),T=I[un].data;for(let V=0;V<8;V++)n[c+V]=I[m+V]|T[m+V]}return n[c+8]=a,c}function Sl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Dd(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Mu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=n;for(;null!==a;){if(o=np(a),null===o)return Jl;if(r++,a=a[vl],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Jl}function tu(e,n,r){!function Td(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(pi)&&(o=r[pi]),null==o&&(o=r[pi]=Zf++);const a=o&Cd;n.data[e+(a>>kh)]|=1<<a}(e,n,r)}function Jf(e,n,r){if(r&Sr.Optional||void 0!==e)return e;ao()}function Fh(e,n,r,o){if(r&Sr.Optional&&void 0===o&&(o=null),!(r&(Sr.Self|Sr.Host))){const a=e[tr],c=di(void 0);try{return a?a.get(n,o,r&Sr.Optional):gi(n,o,r&Sr.Optional)}finally{di(c)}}return Jf(o,0,r)}function Rl(e,n,r,o=Sr.Default,a){if(null!==e){if(2048&n[Bn]&&!(o&Sr.Self)){const m=function Qg(e,n,r,o,a){let c=e,m=n;for(;null!==c&&null!==m&&2048&m[Bn]&&!(512&m[Bn]);){const I=wd(c,m,r,o|Sr.Self,Zs);if(I!==Zs)return I;let T=c.parent;if(!T){const V=m[Ra];if(V){const G=V.get(r,Zs,o);if(G!==Zs)return G}T=np(m),m=m[vl]}c=T}return a}(e,n,r,o,Zs);if(m!==Zs)return m}const c=wd(e,n,r,o,Zs);if(c!==Zs)return c}return Fh(n,r,o,a)}function wd(e,n,r,o,a){const c=function Xg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(pi)?e[pi]:void 0;return"number"==typeof n?n>=0?n&Cd:ep:n}(r);if("function"==typeof c){if(!bu(n,e,o))return o&Sr.Host?Jf(a,0,o):Fh(n,r,o,a);try{let m;if(m=c(o),null!=m||o&Sr.Optional)return m;ao()}finally{Mh()}}else if("number"==typeof c){let m=null,I=Dd(e,n),T=Jl,V=o&Sr.Host?n[xi][vi]:null;for((-1===I||o&Sr.SkipSelf)&&(T=-1===I?Mu(e,n):n[I+8],T!==Jl&&Nc(o,!1)?(m=n[un],I=ka(T),n=Su(T,n)):I=-1);-1!==I;){const G=n[un];if(Vh(c,I,G.data)){const re=qg(I,n,r,m,o,V);if(re!==Zs)return re}T=n[I+8],T!==Jl&&Nc(o,n[un].data[I+8]===V)&&Vh(c,I,n)?(m=G,I=ka(T),n=Su(T,n)):I=-1}}return a}function qg(e,n,r,o,a,c){const m=n[un],I=m.data[e+8],G=Sd(I,m,r,null==o?Ws(I)&&Oh:o!=m&&!!(3&I.type),a&Sr.Host&&c===I);return null!==G?Gi(n,m,G,I):Zs}function Sd(e,n,r,o,a){const c=e.providerIndexes,m=n.data,I=1048575&c,T=e.directiveStart,G=c>>20,xe=a?I+G:e.directiveEnd;for(let Ge=o?I:I+G;Ge<xe;Ge++){const Le=m[Ge];if(Ge<T&&r===Le||Ge>=T&&Le.type===r)return Ge}if(a){const Ge=m[T];if(Ge&&So(Ge)&&Ge.type===r)return T}return null}function Gi(e,n,r,o){let a=e[r];const c=n.data;if(function Xf(e){return e instanceof Rc}(a)){const m=a;m.resolving&&function Qo(e,n){throw n&&n.join(" > "),new yt(-200,e)}(function wr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():er(e)}(c[r]));const I=Ru(m.canSeeViewProviders);m.resolving=!0;const V=m.injectImpl?di(m.injectImpl):null;bu(e,o,Sr.Default);try{a=e[r]=m.factory(void 0,c,e,o),n.firstCreatePass&&r>=o.directiveStart&&function qf(e,n,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:c}=n.type.prototype;if(o){var m,I;const re=jo(n);(null!==(m=r.preOrderHooks)&&void 0!==m?m:r.preOrderHooks=[]).push(e,re),(null!==(I=r.preOrderCheckHooks)&&void 0!==I?I:r.preOrderCheckHooks=[]).push(e,re)}var T,V,G;a&&(null!==(T=r.preOrderHooks)&&void 0!==T?T:r.preOrderHooks=[]).push(0-e,a),c&&((null!==(V=r.preOrderHooks)&&void 0!==V?V:r.preOrderHooks=[]).push(e,c),(null!==(G=r.preOrderCheckHooks)&&void 0!==G?G:r.preOrderCheckHooks=[]).push(e,c))}(r,c[r],n)}finally{null!==V&&di(V),Ru(I),m.resolving=!1,Mh()}}return a}function Vh(e,n,r){return!!(r[n+(e>>kh)]&1<<e)}function Nc(e,n){return!(e&Sr.Self||e&Sr.Host&&n)}class lo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return Rl(this._tNode,this._lView,n,jt(o),r)}}function ep(){return new lo(Dr(),Gt())}function tp(e){return Gn(()=>{const n=e.prototype.constructor,r=n[Pi]||Lh(n),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const c=a[Pi]||Lh(a);if(c&&c!==r)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Lh(e){return en(e)?()=>{const n=Lh(ut(e));return n&&n()}:Ci(e)}function np(e){const n=e[un],r=n.type;return 2===r?n.declTNode:1===r?e[vi]:null}function el(e){return function bd(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const c=r[a];if(Us(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(c===n)return r[a+1];a+=2}}}return null}(Dr(),e)}function Rd(e,n=null,r=null,o){const a=rl(e,n,r,o);return a.resolveInjectorInitializers(),a}function rl(e,n=null,r=null,o,a=new Set){const c=[r||hr,Ul(e)];return o=o||("object"==typeof e?void 0:nn(e)),new bo(c,n||$s(),o||null,a)}class _o{static create(n,r){if(Array.isArray(n))return Rd({name:""},r,n,"");{var o;const a=null!==(o=n.name)&&void 0!==o?o:"";return Rd({name:a},n.parent,n.providers,a)}}}(Nn=_o).THROW_IF_NOT_FOUND=io,Nn.NULL=new sa,Nn.\u0275prov=dr({token:Nn,providedIn:"any",factory:()=>nt(ko)}),Nn.__NG_ELEMENT_ID__=-1,new Fn("").__NG_ELEMENT_ID__=e=>{const n=Dr();if(null===n)throw new yt(204,!1);if(2&n.type)return n.value;if(e&Sr.Optional)return null;throw new yt(204,!1)};function Va(e){return e.ngOriginalError}const Nu=!0;let Vc=(()=>{var e;class n{}return(e=n).__NG_ELEMENT_ID__=xu,e.__NG_ENV_ID__=r=>r,n})();class il extends Vc{constructor(n){super(),this._lView=n}onDestroy(n){return pa(this._lView,n),()=>function Cu(e,n){if(null===e[wo])return;const r=e[wo].indexOf(n);-1!==r&&e[wo].splice(r,1)}(this._lView,n)}}function xu(){return new il(Gt())}let ol=(()=>{var e;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Cn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=n).\u0275prov=dr({token:e,providedIn:"root",factory:()=>new e}),n})();const ea=class zh extends kn.B{constructor(n=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,jl()&&(this.destroyRef=null!==(r=It(Vc,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=It(ol,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const r=de(null);try{super.next(n)}finally{de(r)}}subscribe(n,r,o){let a=n,c=r||(()=>null),m=o;if(n&&"object"==typeof n){var I,T,V;const re=n;a=null===(I=re.next)||void 0===I?void 0:I.bind(re),c=null===(T=re.error)||void 0===T?void 0:T.bind(re),m=null===(V=re.complete)||void 0===V?void 0:V.bind(re)}this.__isAsync&&(c=this.wrapInTimeout(c),a&&(a=this.wrapInTimeout(a)),m&&(m=this.wrapInTimeout(m)));const G=super.subscribe({next:a,error:c,complete:m});return n instanceof Ft.yU&&n.add(G),G}wrapInTimeout(n){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var c;n(r),void 0!==a&&(null===(c=this.pendingTasks)||void 0===c||c.remove(a))})}}};function Ou(...e){}function rp(e){let n,r;function o(){e=Ou;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Md(e){return queueMicrotask(()=>e()),()=>{e=Ou}}const y="isAngularZone",h=y+"_ID";let g=0;class E{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ea(!1),this.onMicrotaskEmpty=new ea(!1),this.onStable=new ea(!1),this.onError=new ea(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:c=Nu}=n;if(typeof Zone>"u")throw new yt(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!a&&o,m.shouldCoalesceRunChangeDetection=a,m.callbackScheduled=!1,m.scheduleInRootZone=c,function Ct(e){const n=()=>{!function We(e){function n(){rp(()=>{e.callbackScheduled=!1,Qt(e),e.isCheckStableRunning=!0,ie(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Qt(e))}(e)},r=g++;e._inner=e._inner.fork({name:"angular",properties:{[y]:!0,[h]:r,[h+r]:!0},onInvokeTask:(o,a,c,m,I,T)=>{if(function Wi(e){return ku(e,"__ignore_ng_zone__")}(T))return o.invokeTask(c,m,I,T);try{return An(e),o.invokeTask(c,m,I,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&n(),$n(e)}},onInvoke:(o,a,c,m,I,T,V)=>{try{return An(e),o.invoke(c,m,I,T,V)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function ga(e){return ku(e,"__scheduler_tick__")}(T)&&n(),$n(e)}},onHasTask:(o,a,c,m)=>{o.hasTask(c,m),a===c&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,Qt(e),ie(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,c,m)=>(o.handleError(c,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(y)}static assertInAngularZone(){if(!E.isInAngularZone())throw new yt(909,!1)}static assertNotInAngularZone(){if(E.isInAngularZone())throw new yt(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,a){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+a,n,j,Ou,Ou);try{return c.runTask(m,r,o)}finally{c.cancelTask(m)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const j={};function ie(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qt(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function An(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $n(e){e._nesting--,ie(e)}class On{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ea,this.onMicrotaskEmpty=new ea,this.onStable=new ea,this.onError=new ea}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,a){return n.apply(r,o)}}function ku(e,n){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[n])}class Fs{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Va(n);for(;r&&Va(r);)r=Va(r);return r||null}}const Nd=new Fn("",{providedIn:"root",factory:()=>{const e=It(E),n=It(Fs);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function Wh(){return Pl(Dr(),Gt())}function Pl(e,n){return new Fu(Go(e,n))}let Fu=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Wh,n})();function Jv(e){return e instanceof Fu?e.nativeElement:e}function e_(){return this._results[Symbol.iterator]()}class sp{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new ea}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=sp.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=e_)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function Oi(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yi(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],c=n[o];if(r&&(a=r(a),c=r(c)),c!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Kh(e){return!(128&~e.flags)}const tm=new Map;let nm=0;function Xh(e){tm.delete(e[ks])}const cp="__ngContext__";function Ko(e,n){Ei(n)?(e[cp]=n[ks],function rm(e){tm.set(e[ks],e)}(n)):e[cp]=n}function gp(e){return mp(e[zs])}function a_(e){return mp(e[Fi])}function mp(e){for(;null!==e&&!Ui(e);)e=e[Fi];return e}let cm;function dm(e){cm=e}const Fd=new Fn("",{providedIn:"root",factory:()=>yp}),yp="ng",Ip=new Fn(""),Ep=new Fn("",{providedIn:"platform",factory:()=>"unknown"}),hm=new Fn("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Vu(){if(void 0!==cm)return cm;if(typeof document<"u")return document;throw new yt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Cp=()=>null;function mm(e,n,r=!1){return Cp(e,n,r)}const qo=new Fn("",{providedIn:"root",factory:()=>!1});let Tp,Dp;function B0(e){var n;return(null===(n=function Dm(){if(void 0===Dp&&(Dp=null,fn.trustedTypes))try{Dp=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Dp}())||void 0===n?void 0:n.createScriptURL(e))||e}class Ki{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pt})`}}function Hu(e){return e instanceof Ki?e.changingThisBreaksApplicationSecurity:e}function rf(e,n){const r=function H0(e){return e instanceof Ki&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Pt})`)}return r===n}const Gc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(xl||{});function Pp(e){const n=qc();return n?n.sanitize(xl.URL,e)||"":rf(e,"URL")?Hu(e):function Hd(e){return(e=String(e)).match(Gc)?e:"unsafe:"+e}(er(e))}function Np(e){const n=qc();if(n)return B0(n.sanitize(xl.RESOURCE_URL,e)||"");if(rf(e,"ResourceURL"))return B0(Hu(e));throw new yt(904,!1)}function qd(e){return function A_(e){var n;return(null===(n=function jd(){if(void 0===Tp&&(Tp=null,fn.trustedTypes))try{Tp=fn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Tp}())||void 0===n?void 0:n.createScriptURL(e))||e}(e[0])}function Kc(e,n,r){return function W0(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Np:Pp}(n,r)(e)}function qc(){const e=Gt();return e&&e[vs].sanitizer}const K0=/^>|^->|<!--|-->|--!>|<!-$/g,xp=/(<|>)/g,q0="\u200b$1\u200b";function ma(e){return e instanceof Function?e():e}var Up=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Up||{});let Bp;function Bm(e,n){return Bp(e,n)}function qu(e,n,r,o,a){if(null!=o){let c,m=!1;Ui(o)?c=o:Ei(o)&&(m=!0,o=o[Pr]);const I=Lr(o);0===e&&null!==r?null==a?$_(n,r,I):Qc(n,r,I,a||null,!0):1===e&&null!==r?Qc(n,r,I,a||null,!0):2===e?function zp(e,n,r){e.removeChild(null,n,r)}(n,I,m):3===e&&n.destroyNode(I),null!=c&&function Km(e,n,r,o,a){const c=r[ys];c!==Lr(r)&&qu(n,e,o,c,a);for(let I=Li;I<r.length;I++){const T=r[I];Wm(T[un],T,e,n,o,c)}}(n,e,c,r,a)}}function $m(e,n){return e.createComment(function N_(e){return e.replace(K0,n=>n.replace(xp,q0))}(n))}function $p(e,n,r){return e.createElement(n,r)}function sI(e,n){var r;null===(r=n[vs].changeDetectionScheduler)||void 0===r||r.notify(9),Wm(e,n,n[lr],2,null,null)}function aI(e,n){const r=e[Il],o=n[mi];(Ei(o)||n[xi]!==o[mi][xi])&&(e[Bn]|=fc.HasTransplantedViews),null===r?e[Il]=[n]:r.push(n)}function jm(e,n){const r=e[Il],o=r.indexOf(n);r.splice(o,1)}function uf(e,n){if(e.length<=Li)return;const r=Li+n,o=e[r];if(o){const a=o[Gs];null!==a&&a!==e&&jm(a,o),n>0&&(e[r-1][Fi]=o[Fi]);const c=fs(e,Li+n);!function iI(e,n){sI(e,n),n[Pr]=null,n[vi]=null}(o[un],o);const m=c[Vi];null!==m&&m.detachView(c[un]),o[mi]=null,o[Fi]=null,o[Bn]&=-129}return o}function jp(e,n){if(!(256&n[Bn])){const r=n[lr];r.destroyNode&&Wm(e,n,r,3,null,null),function gA(e){let n=e[zs];if(!n)return L_(e[un],e);for(;n;){let r=null;if(Ei(n))r=n[zs];else{const o=n[Li];o&&(r=o)}if(!r){for(;n&&!n[Fi]&&n!==e;)Ei(n)&&L_(n[un],n),n=n[mi];null===n&&(n=e),Ei(n)&&L_(n[un],n),r=n&&n[Fi]}n=r}}(n)}}function L_(e,n){if(256&n[Bn])return;const r=de(null);try{n[Bn]&=-129,n[Bn]|=256,n[li]&&ht(n[li]),function U_(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=n[r[o]];if(!(a instanceof Rc)){const c=r[o+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const I=a[c[m]],T=c[m+1];zo(4,I,T);try{T.call(I)}finally{zo(5,I,T)}}else{zo(4,a,c);try{c.call(a)}finally{zo(5,a,c)}}}}}(e,n),function lI(e,n){const r=e.cleanup,o=n[Hs];if(null!==r)for(let c=0;c<r.length-1;c+=2)if("string"==typeof r[c]){const m=r[c+3];m>=0?o[m]():o[-m].unsubscribe(),c+=2}else r[c].call(o[r[c+1]]);null!==o&&(n[Hs]=null);const a=n[wo];if(null!==a){n[wo]=null;for(let c=0;c<a.length;c++)(0,a[c])()}}(e,n),1===n[un].type&&n[lr].destroy();const o=n[Gs];if(null!==o&&Ui(n[mi])){o!==n[mi]&&jm(o,n);const a=n[Vi];null!==a&&a.detachView(e)}Xh(n)}finally{de(r)}}function kl(e,n,r){return function B_(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[Pr];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:c}=e.data[o.directiveStart+a];if(c===qn.None||c===qn.Emulated)return null}return Go(o,r)}}(e,n.parent,r)}function Qc(e,n,r,o,a){e.insertBefore(n,r,o,a)}function $_(e,n,r){e.appendChild(n,r)}function j_(e,n,r,o,a){null!==o?Qc(e,n,r,o,a):$_(e,n,r)}function Hm(e,n){return e.parentNode(n)}function H_(e,n,r){return dI(e,n,r)}let z_,dI=function cI(e,n,r){return 40&e.type?Go(e,r):null};function Hp(e,n,r,o){const a=kl(e,o,n),c=n[lr],I=H_(o.parent||n[vi],o,n);if(null!=a)if(Array.isArray(r))for(let T=0;T<r.length;T++)j_(c,a,r[T],I,!1);else j_(c,a,r,I,!1);void 0!==z_&&z_(c,o,n,r,a)}function Qd(e,n){if(null!==n){const r=n.type;if(3&r)return Go(n,e);if(4&r)return G_(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return Qd(e,o);{const a=e[n.index];return Ui(a)?G_(-1,a):Lr(a)}}if(128&r)return Qd(e,n.next);if(32&r)return Bm(n,e)()||Lr(e[n.index]);{const o=hI(e,n);return null!==o?Array.isArray(o)?o[0]:Qd(qs(e[xi]),o):Qd(e,n.next)}}return null}function hI(e,n){return null!==n?e[xi][vi].projection[n.projection]:null}function G_(e,n){const r=Li+e+1;if(r<n.length){const o=n[r],a=o[un].firstChild;if(null!==a)return Qd(o,a)}return n[ys]}function Gp(e,n,r,o,a,c,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=o[r.index],T=r.type;if(m&&0===n&&(I&&Ko(Lr(I),o),r.flags|=2),32&~r.flags)if(8&T)Gp(e,n,r.child,o,a,c,!1),qu(n,e,a,I,c);else if(32&T){const V=Bm(r,o);let G;for(;G=V();)qu(n,e,a,G,c);qu(n,e,a,I,c)}else 16&T?fI(e,n,o,r,a,c):qu(n,e,a,I,c);r=m?r.projectionNext:r.next}}function Wm(e,n,r,o,a,c){Gp(r,o,e.firstChild,n,a,c,!1)}function fI(e,n,r,o,a,c){const m=r[xi],T=m[vi].projection[o.projection];if(Array.isArray(T))for(let V=0;V<T.length;V++)qu(n,e,a,T[V],c);else{let V=T;const G=m[mi];Kh(o)&&(V.flags|=128),Gp(e,n,V,G,a,c,!0)}}function W_(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function Kp(e,n,r){const{mergedAttrs:o,classes:a,styles:c}=r;null!==o&&Ls(e,n,o),null!==a&&W_(e,n,a),null!==c&&function pI(e,n,r){e.setAttribute(n,"style",r)}(e,n,c)}const Nr={};function qm(e=1){Yd(Ir(),Gt(),po()+e,!1)}function Yd(e,n,r,o){if(!o)if(3&~n[Bn]){const c=e.preOrderHooks;null!==c&&Ya(n,c,0,r)}else{const c=e.preOrderCheckHooks;null!==c&&bl(n,c,r)}Bi(r)}function Xu(e,n=Sr.Default){const r=Gt();return null===r?nt(e,n):Rl(Dr(),r,ut(e),n)}function K_(){throw new Error("invalid")}function q_(e,n,r,o,a,c){const m=de(null);try{let I=null;a&Ar.SignalBased&&(I=n[o][ae]),null!==I&&void 0!==I.transformFn&&(c=I.transformFn(c)),a&Ar.HasDecoratorInputTransform&&(c=e.inputTransforms[o].call(n,c)),null!==e.setInput?e.setInput(n,I,c,r,o):Ro(n,I,o,c)}finally{de(m)}}function Yc(e,n,r,o,a,c,m,I,T,V,G){const re=n.blueprint.slice();return re[Pr]=a,re[Bn]=204|o,(null!==V||e&&2048&e[Bn])&&(re[Bn]|=2048),Ih(re),re[mi]=re[vl]=e,re[_r]=r,re[vs]=m||e&&e[vs],re[lr]=I||e&&e[lr],re[tr]=T||e&&e[tr]||null,re[vi]=c,re[ks]=function r_(){return nm++}(),re[eo]=G,re[Ra]=V,re[xi]=2==n.type?e[xi]:re,re}function Zc(e,n,r,o,a){let c=e.data[n];if(null===c)c=function qp(e,n,r,o,a){const c=Ch(),m=Ac(),T=e.data[n]=function td(e,n,r,o,a,c){let m=n?n.injectorIndex:-1,I=0;return Yl()&&(I|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,r,n,o,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(m?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T,T.prev=c)),T}(e,n,r,o,a),function Hf(){return pr.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=r,c.value=o,c.attrs=a;const m=function qa(){const e=pr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return os(c,!0),c}function Zd(e,n,r,o){if(0===r)return-1;const a=n.length;for(let c=0;c<r;c++)n.push(o),e.blueprint.push(o),e.data.push(null);return a}function Qu(e,n,r,o,a){const c=po(),m=2&o;try{Bi(-1),m&&n.length>Wn&&Yd(e,n,Wn,!1),zo(m?2:0,a),r(o,a)}finally{Bi(c),zo(m?3:1,a)}}function ta(e,n,r){if(Ma(n)){const o=de(null);try{const c=n.directiveEnd;for(let m=n.directiveStart;m<c;m++){const I=e.data[m];I.contentQueries&&I.contentQueries(1,r[m],m)}}finally{de(o)}}}function ss(e,n,r){yc()&&(function Ym(e,n,r,o){const a=r.directiveStart,c=r.directiveEnd;Ws(r)&&function sy(e,n,r){const o=Go(n,e),a=Xm(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const I=u(e,Yc(e,a,null,m,o,n,null,e[vs].rendererFactory.createRenderer(o,r),null,null,null));e[n.index]=I}(n,r,e.data[a+r.componentOffset]),e.firstCreatePass||Ja(r,n),Ko(o,n);const m=r.initialInputs;for(let I=a;I<c;I++){const T=e.data[I],V=Gi(n,e,I,r);Ko(V,n),null!==m&&l(0,I-a,V,T,0,m),So(T)&&(Wo(r.index,n)[_r]=Gi(n,e,I,r))}}(e,n,r,Go(r,n)),!(64&~r.flags)&&ty(e,n,r))}function Xp(e,n,r=Go){const o=n.localNames;if(null!==o){let a=n.index+1;for(let c=0;c<o.length;c+=2){const m=o[c+1],I=-1===m?r(n,e):e[m];e[a++]=I}}}function Xm(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Jc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Jc(e,n,r,o,a,c,m,I,T,V,G){const re=Wn+o,xe=re+a,Ge=function cf(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:Nr);return r}(re,xe),Le="function"==typeof V?V():V;return Ge[un]={type:e,blueprint:Ge,template:r,queries:null,viewQuery:I,declTNode:n,data:Ge.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Le,incompleteFirstPass:!1,ssrId:G}}let Qp=()=>null;function Q_(e,n,r,o,a){for(let m in n){var c;if(!n.hasOwnProperty(m))continue;const I=n[m];if(void 0===I)continue;null!==(c=o)&&void 0!==c||(o={});let T,V=Ar.None;Array.isArray(I)?(T=I[0],V=I[1]):T=I;let G=m;if(null!==a){if(!a.hasOwnProperty(m))continue;G=a[m]}0===e?Y_(o,r,G,T,V):Y_(o,r,G,T)}return o}function Y_(e,n,r,o,a){let c;e.hasOwnProperty(r)?(c=e[r]).push(n,o):c=e[r]=[n,o],void 0!==a&&c.push(a)}function na(e,n,r,o,a,c,m,I){const T=Go(n,r);let G,V=n.inputs;!I&&null!=V&&(G=V[o])?(we(e,r,G,o,a),Ws(n)&&function Z_(e,n){const r=Wo(n,e);16&r[Bn]||(r[Bn]|=64)}(r,n.index)):3&n.type&&(o=function vI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=m?m(a,n.value||"",o):a,c.setProperty(T,o,a))}function Yp(e,n,r,o){if(yc()){const a=null===o?null:{"":-1},c=function ry(e,n){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let m=0;m<r.length;m++){const I=r[m];if(hl(n,I.selectors,!1))if(o||(o=[]),So(I))if(null!==I.findHostDirectiveDefs){const T=[];a=a||new Map,I.findHostDirectiveDefs(I,T,a),o.unshift(...T,I),Zm(e,n,T.length)}else o.unshift(I),Zm(e,n,0);else{var c;a=a||new Map,null===(c=I.findHostDirectiveDefs)||void 0===c||c.call(I,I,o,a),o.push(I)}}return null===o?null:[o,a]}(e,r);let m,I;null===c?m=I=null:[m,I]=c,null!==m&&df(e,n,r,m,a,I),a&&function iy(e,n,r){if(n){const o=e.localNames=[];for(let a=0;a<n.length;a+=2){const c=r[n[a+1]];if(null==c)throw new yt(-301,!1);o.push(n[a],c)}}}(r,o,a)}r.mergedAttrs=xs(r.mergedAttrs,r.attrs)}function df(e,n,r,o,a,c){for(let re=0;re<o.length;re++)tu(Ja(r,n),e,o[re].type);!function II(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let re=0;re<o.length;re++){const xe=o[re];xe.providersResolver&&xe.providersResolver(xe)}let m=!1,I=!1,T=Zd(e,n,o.length,null);for(let re=0;re<o.length;re++){const xe=o[re];r.mergedAttrs=xs(r.mergedAttrs,xe.hostAttrs),EI(e,r,n,T,xe),oy(T,xe,a),null!==xe.contentQueries&&(r.flags|=4),(null!==xe.hostBindings||null!==xe.hostAttrs||0!==xe.hostVars)&&(r.flags|=64);const Ge=xe.type.prototype;var V,G;!m&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((null!==(V=e.preOrderHooks)&&void 0!==V?V:e.preOrderHooks=[]).push(r.index),m=!0),I||!Ge.ngOnChanges&&!Ge.ngDoCheck||((null!==(G=e.preOrderCheckHooks)&&void 0!==G?G:e.preOrderCheckHooks=[]).push(r.index),I=!0),T++}!function mI(e,n,r){const a=n.directiveEnd,c=e.data,m=n.attrs,I=[];let T=null,V=null;for(let G=n.directiveStart;G<a;G++){const re=c[G],xe=r?r.get(re):null,Le=xe?xe.outputs:null;T=Q_(0,re.inputs,G,T,xe?xe.inputs:null),V=Q_(1,re.outputs,G,V,Le);const Bt=null===T||null===m||ms(n)?null:t(T,G,m);I.push(Bt)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=T,n.outputs=V}(e,r,c)}function ty(e,n,r){const o=r.directiveStart,a=r.directiveEnd,c=r.index,m=function Gf(){return pr.lFrame.currentDirectiveIndex}();try{Bi(c);for(let I=o;I<a;I++){const T=e.data[I],V=n[I];bh(I),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&ny(T,V)}}finally{Bi(-1),bh(m)}}function ny(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Zm(e,n,r){var o;n.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function oy(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;So(n)&&(r[""]=e)}}function EI(e,n,r,o,a){e.data[o]=a;const c=a.factory||(a.factory=Ci(a.type)),m=new Rc(c,So(a),Xu);e.blueprint[o]=m,r[o]=m,function ey(e,n,r,o,a){const c=a.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const I=~n.index;(function yI(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=I&&m.push(I),m.push(r,o,c)}}(e,n,o,Zd(e,r,a.hostVars,Nr),a)}function sl(e,n,r,o,a,c){const m=Go(e,n);!function Jm(e,n,r,o,a,c,m){if(null==c)e.removeAttribute(n,a,r);else{const I=null==m?er(c):m(c,o||"",a);e.setAttribute(n,a,I,r)}}(n[lr],m,c,e.value,r,o,a)}function l(e,n,r,o,a,c){const m=c[n];if(null!==m)for(let I=0;I<m.length;)q_(o,r,m[I++],m[I++],m[I++],m[I++])}function t(e,n,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===o&&(o=[]);const m=e[c];for(let I=0;I<m.length;I+=3)if(m[I]===n){o.push(c,m[I+1],m[I+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function i(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function s(e,n){const r=e.contentQueries;if(null!==r){const o=de(null);try{for(let a=0;a<r.length;a+=2){const m=r[a+1];if(-1!==m){const I=e.data[m];Tc(r[a]),I.contentQueries(2,n[m],m)}}}finally{de(o)}}}function u(e,n){return e[zs]?e[_s][Fi]=n:e[zs]=n,e[_s]=n,n}function p(e,n,r){Tc(0);const o=de(null);try{n(e,r)}finally{de(o)}}function S(e){var n;return null!==(n=e[Hs])&&void 0!==n?n:e[Hs]=[]}function N(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function se(e,n){const r=e[tr],o=r?r.get(Fs,null):null;o&&o.handleError(n)}function we(e,n,r,o,a){for(let c=0;c<r.length;){const m=r[c++],I=r[c++],T=r[c++];q_(e.data[m],n[m],o,I,T,a)}}function xt(e,n){const r=Wo(n,e),o=r[un];!function on(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const a=r[Pr];null!==a&&null===r[eo]&&(r[eo]=mm(a,r[tr])),mn(o,r,r[_r])}function mn(e,n,r){Id(n);try{var o;const a=e.viewQuery;null!==a&&p(1,a,r);const c=e.template;null!==c&&Qu(e,n,c,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[Vi])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&s(e,n),e.staticViewQueries&&p(2,e.viewQuery,r);const m=e.components;null!==m&&function hn(e,n){for(let r=0;r<n.length;r++)xt(e,n[r])}(n,m)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{n[Bn]&=-5,Ph()}}function Hn(e,n,r,o){const a=de(null);try{var c,m,I;const T=n.tView,re=Yc(e,T,r,4096&e[Bn]?4096:16,null,n,null,null,null!==(c=null==o?void 0:o.injector)&&void 0!==c?c:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(I=null==o?void 0:o.dehydratedView)&&void 0!==I?I:null);re[Gs]=e[n.index];const Ge=e[Vi];return null!==Ge&&(re[Vi]=Ge.createEmbeddedView(T)),mn(T,re,r),re}finally{de(a)}}function zn(e,n){return!n||null===n.firstChild||Kh(e)}function ur(e,n,r,o=!0){const a=n[un];if(function mA(e,n,r,o){const a=Li+o,c=r.length;o>0&&(r[a-1][Fi]=n),o<c-Li?(n[Fi]=r[a],oo(r,Li+o,n)):(r.push(n),n[Fi]=null),n[mi]=r;const m=n[Gs];null!==m&&r!==m&&aI(m,n);const I=n[Vi];null!==I&&I.insertView(e),fa(n),n[Bn]|=128}(a,n,e,r),o){const m=G_(r,e),I=n[lr],T=Hm(I,e[ys]);null!==T&&function oI(e,n,r,o,a,c){o[Pr]=a,o[vi]=n,Wm(e,o,r,1,a,c)}(a,e[vi],I,n,T,m)}const c=n[eo];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function Er(e,n,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const c=n[r.index];null!==c&&o.push(Lr(c)),Ui(c)&&Et(c,o);const m=r.type;if(8&m)Er(e,n,r.child,o);else if(32&m){const I=Bm(r,n);let T;for(;T=I();)o.push(T)}else if(16&m){const I=hI(n,r);if(Array.isArray(I))o.push(...I);else{const T=qs(n[xi]);Er(T[un],T,I,o,!0)}}r=a?r.projectionNext:r.next}return o}function Et(e,n){for(let r=Li;r<e.length;r++){const o=e[r],a=o[un].firstChild;null!==a&&Er(o[un],o,a,n)}e[ys]!==e[Pr]&&n.push(e[ys])}let qe=[];const Vt={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Na(e.lView)},consumerOnSignalRead(){this.lView[li]=this}},su={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=qs(e.lView);for(;n&&!eh(n[un]);)n=qs(n);n&&cd(n)},consumerOnSignalRead(){this.lView[li]=this}};function eh(e){return 2!==e.type}const AI=100;function Yu(e,n=!0,r=0){const o=e[vs],a=o.rendererFactory;var m;null===(m=a.begin)||void 0===m||m.call(a);try{!function hf(e,n){const r=Zl();try{Cc(!0),nd(e,n);let o=0;for(;hd(e);){if(o===AI)throw new yt(103,!1);o++,nd(e,1)}}finally{Cc(r)}}(e,r)}catch(V){throw n&&se(e,V),V}finally{var I,T;null===(I=a.end)||void 0===I||I.call(a),null===(T=o.inlineEffectRunner)||void 0===T||T.flush()}}function ay(e,n,r,o){var a;const c=n[Bn];if(!(256&~c))return;null===(a=n[vs].inlineEffectRunner)||void 0===a||a.flush(),Id(n);let T=!0,V=null,G=null;eh(e)?(G=function pt(e){var n;return null!==(n=e[li])&&void 0!==n?n:function Tt(e){var n;const r=null!==(n=qe.pop())&&void 0!==n?n:Object.create(Vt);return r.lView=e,r}(e)}(n),V=et(G)):null===function De(){return f}()?(T=!1,G=function dt(e){var n;const r=null!==(n=e[li])&&void 0!==n?n:Object.create(su);return r.lView=e,r}(n),V=et(G)):n[li]&&(ht(n[li]),n[li]=null);try{Ih(n),function Dh(e){return pr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Qu(e,n,r,2,o);const re=!(3&~c);if(re){const Le=e.preOrderCheckHooks;null!==Le&&bl(n,Le,null)}else{const Le=e.preOrderHooks;null!==Le&&Ya(n,Le,0,null),Za(n,0)}if(function Zu(e){for(let n=gp(e);null!==n;n=a_(n)){if(!(n[Bn]&fc.HasTransplantedViews))continue;const r=n[Il];for(let o=0;o<r.length;o++)cd(r[o])}}(n),ly(n,0),null!==e.contentQueries&&s(e,n),re){const Le=e.contentCheckHooks;null!==Le&&bl(n,Le)}else{const Le=e.contentHooks;null!==Le&&Ya(n,Le,1),Za(n,1)}!function X_(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Bi(~a);else{const c=a,m=r[++o],I=r[++o];_d(m,c),I(2,n[c])}}}finally{Bi(-1)}}(e,n);const xe=e.components;null!==xe&&cy(n,xe,0);const Ge=e.viewQuery;if(null!==Ge&&p(2,Ge,o),re){const Le=e.viewCheckHooks;null!==Le&&bl(n,Le)}else{const Le=e.viewHooks;null!==Le&&Ya(n,Le,2),Za(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[yl]){for(const Le of n[yl])Le();n[yl]=null}n[Bn]&=-73}catch(re){throw Na(n),re}finally{null!==G&&(je(G,V),T&&function wt(e){e.lView[li]!==e&&(e.lView=null,qe.push(e))}(G)),Ph()}}function ly(e,n){for(let r=gp(e);null!==r;r=a_(r))for(let o=Li;o<r.length;o++)uy(r[o],n)}function Ds(e,n,r){uy(Wo(n,e),r)}function uy(e,n){vc(e)&&nd(e,n)}function nd(e,n){const o=e[un],a=e[Bn],c=e[li];let m=!!(0===n&&16&a);if(m||(m=!!(64&a&&0===n)),m||(m=!!(1024&a)),m||(m=!(null==c||!c.dirty||!vt(c))),m||(m=!1),c&&(c.dirty=!1),e[Bn]&=-9217,m)ay(o,e,o.template,e[_r]);else if(8192&a){ly(e,1);const I=o.components;null!==I&&cy(e,I,1)}}function cy(e,n,r){for(let o=0;o<n.length;o++)Ds(e,n[o],r)}function au(e,n){var r;const o=Zl()?64:1088;for(null===(r=e[vs].changeDetectionScheduler)||void 0===r||r.notify(n);e;){e[Bn]|=o;const a=qs(e);if(Pa(e)&&!a)return e;e=a}return null}class ff{get rootNodes(){const n=this._lView,r=n[un];return Er(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_r]}set context(n){this._lView[_r]=n}get destroyed(){return!(256&~this._lView[Bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[mi];if(Ui(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(uf(n,o),fs(r,o))}this._attachedToViewContainer=!1}jp(this._lView[un],this._lView)}onDestroy(n){pa(this._lView,n)}markForCheck(){au(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Bn]&=-129}reattach(){fa(this._lView),this._lView[Bn]|=128}detectChanges(){this._lView[Bn]|=1024,Yu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new yt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Pa(this._lView),r=this._lView[Gs];null!==r&&!n&&jm(r,this._lView),sI(this._lView[un],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new yt(902,!1);this._appRef=n;const r=Pa(this._lView),o=this._lView[Gs];null!==o&&!r&&aI(o,this._lView),fa(this._lView)}}let pf=(()=>{class n{}return n.__NG_ELEMENT_ID__=ev,n})();const Jp=pf,eg=class extends Jp{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const a=Hn(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new ff(a)}};function ev(){return th(Dr(),Gt())}function th(e,n){return 4&e.type?new eg(n,e,Pl(e,n)):null}let dh=()=>null;function ic(e,n){return dh(e,n)}class od{}const Fl=new Fn("",{providedIn:"root",factory:()=>!1}),Ry=new Fn(""),mv=new Fn("");class oc{}class My{}class Py{resolveComponentFactory(n){throw function UI(e){const n=Error(`No component factory found for ${nn(e)}.`);return n.ngComponent=e,n}(n)}}class hu{}hu.NULL=new Py;class sd{}let Ny=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function _v(){const e=Gt(),r=Wo(Dr().index,e);return(Ei(r)?r:e)[lr]}(),n})(),uo=(()=>{var e;class n{}return(e=n).\u0275prov=dr({token:e,providedIn:"root",factory:()=>null}),n})();function sc(e){return!!zi(e)}function ph(e,n,r){let o=r?e.styles:null,a=r?e.classes:null,c=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?c=I:1==c?a=Nt(a,I):2==c&&(o=Nt(o,I+": "+n[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class Rf extends hu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=vr(n);return new Mf(r,this.ngModule)}}function Av(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const c=Array.isArray(a),m=c?a[0]:a;r.push(n?{propName:m,templateName:o,isSignal:!!((c?a[1]:Ar.None)&Ar.SignalBased)}:{propName:m,templateName:o})}return r}class Mf extends My{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=Av(n.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return Av(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function Xn(e){return e.map(rn).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,a){const c=de(null);try{var I;let T=(a=a||this.ngModule)instanceof Bo?a:null===(I=a)||void 0===I?void 0:I.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const V=T?new Es(n,T):n,G=V.get(sd,null);if(null===G)throw new yt(407,!1);const Ge={rendererFactory:G,sanitizer:V.get(uo,null),inlineEffectRunner:null,changeDetectionScheduler:V.get(od,null)},Le=G.createRenderer(null,this.componentDef),Bt=this.componentDef.selectors[0][0]||"div",sn=o?function Vs(e,n,r,o){const c=o.get(qo,!1)||r===qn.ShadowDom,m=e.selectRootElement(n,c);return function gI(e){Qp(e)}(m),m}(Le,o,this.componentDef.encapsulation,V):$p(Le,Bt,function cg(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Bt));let pn=512;this.componentDef.signals?pn|=4096:this.componentDef.onPush||(pn|=16);let Xt=null;null!==sn&&(Xt=mm(sn,V,!0));const cr=Jc(0,null,null,1,0,null,null,null,null,null,null),Tr=Yc(null,cr,null,pn,null,null,Ge,Le,V,null,Xt);Id(Tr);let ji,ds,ia=null;try{const ul=this.componentDef;let Uf,eA=null;ul.findHostDirectiveDefs?(Uf=[],eA=new Map,ul.findHostDirectiveDefs(ul,Uf,eA),Uf.push(ul)):Uf=[ul];const $N=function Pf(e,n){const r=e[un],o=Wn;return e[o]=n,Zc(r,o,2,"#host",null)}(Tr,sn);ia=function ky(e,n,r,o,a,c,m){const I=a[un];!function Fy(e,n,r,o){for(const a of e)n.mergedAttrs=xs(n.mergedAttrs,a.hostAttrs);null!==n.mergedAttrs&&(ph(n,n.mergedAttrs,!0),null!==r&&Kp(o,r,n))}(o,e,n,m);let T=null;null!==n&&(T=mm(n,a[tr]));const V=c.rendererFactory.createRenderer(n,r);let G=16;r.signals?G=4096:r.onPush&&(G=64);const re=Yc(a,Xm(r),null,G,a[e.index],e,c,V,null,null,T);return I.firstCreatePass&&Zm(I,e,o.length-1),u(a,re),a[e.index]=re}($N,sn,ul,Uf,Tr,Ge,Le),ds=Tl(cr,Wn),sn&&function Tv(e,n,r,o){if(o)Ls(e,r,["ng-version","18.2.10"]);else{const{attrs:a,classes:c}=function ai(e){const n=[],r=[];let o=1,a=2;for(;o<e.length;){let c=e[o];if("string"==typeof c)2===a?""!==c&&n.push(c,e[++o]):8===a&&r.push(c);else{if(!Co(a))break;a=c}o++}return{attrs:n,classes:r}}(n.selectors[0]);a&&Ls(e,r,a),c&&c.length>0&&W_(e,r,c.join(" "))}}(Le,ul,sn,o),void 0!==r&&function Vy(e,n,r){const o=e.projection=[];for(let a=0;a<n.length;a++){const c=r[a];o.push(null!=c?Array.from(c):null)}}(ds,this.ngContentSelectors,r),ji=function Cv(e,n,r,o,a,c){const m=Dr(),I=a[un],T=Go(m,a);df(I,a,m,r,null,o);for(let G=0;G<r.length;G++)Ko(Gi(a,I,m.directiveStart+G,m),a);ty(I,a,m),T&&Ko(T,a);const V=Gi(a,I,m.directiveStart+m.componentOffset,m);if(e[_r]=a[_r]=V,null!==c)for(const G of c)G(V,n);return ta(I,m,a),V}(ia,ul,Uf,eA,Tr,[dg]),mn(cr,Tr,null)}catch(ul){throw null!==ia&&Xh(ia),Xh(Tr),ul}finally{Ph()}return new Oy(this.componentType,ji,Pl(ds,Tr),Tr,ds)}finally{de(c)}}}class Oy extends oc{constructor(n,r,o,a,c){super(),this.location=o,this._rootLView=a,this._tNode=c,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new ff(a,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[n])){var c;if(null!==(c=this.previousInputValues)&&void 0!==c||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const m=this._rootLView;we(m[un],m,a,n,r),this.previousInputValues.set(n,r),au(Wo(this._tNode.index,m),1)}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function dg(){const e=Dr();bc(Gt()[un],e)}let Nf=(()=>{class n{}return n.__NG_ELEMENT_ID__=Ly,n})();function Ly(){return wv(Dr(),Gt())}const ad=Nf,Dv=class extends ad{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Mu(this._hostTNode,this._hostLView);if(Pc(n)){const r=Su(n,this._hostLView),o=ka(n);return new lo(r[un].data[o+8],r)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=bv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-Li}createEmbeddedView(n,r,o){let a,c;"number"==typeof o?a=o:null!=o&&(a=o.index,c=o.injector);const m=ic(this._lContainer,n.ssrId),I=n.createEmbeddedViewImpl(r||{},c,m);return this.insertImpl(I,a,zn(this._hostTNode,m)),I}createComponent(n,r,o,a,c){var m,I,T;const V=n&&!function ln(e){return"function"==typeof e}(n);let G;if(V)G=r;else{const pn=r||{};G=pn.index,o=pn.injector,a=pn.projectableNodes,c=pn.environmentInjector||pn.ngModuleRef}const re=V?n:new Mf(vr(n)),xe=o||this.parentInjector;if(!c&&null==re.ngModule){const Xt=(V?xe:this.parentInjector).get(Bo,null);Xt&&(c=Xt)}const Ge=vr(null!==(m=re.componentType)&&void 0!==m?m:{}),Le=ic(this._lContainer,null!==(I=null==Ge?void 0:Ge.id)&&void 0!==I?I:null),Bt=null!==(T=null==Le?void 0:Le.firstChild)&&void 0!==T?T:null,sn=re.create(xe,a,Bt,c);return this.insertImpl(sn.hostView,G,zn(this._hostTNode,Le)),sn}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const a=n._lView;if(function Xl(e){return Ui(e[mi])}(a)){const I=this.indexOf(n);if(-1!==I)this.detach(I);else{const T=a[mi],V=new Dv(T,T[vi],T[mi]);V.detach(V.indexOf(n))}}const c=this._adjustIndex(r),m=this._lContainer;return ur(m,a,c,o),n.attachToViewContainerRef(),oo(hg(m),c,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=bv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=uf(this._lContainer,r);o&&(fs(hg(this._lContainer),r),jp(o[un],o))}detach(n){const r=this._adjustIndex(n,-1),o=uf(this._lContainer,r);return o&&null!=fs(hg(this._lContainer),r)?new ff(o):null}_adjustIndex(n,r=0){return null==n?this.length+r:n}};function bv(e){return e[8]}function hg(e){return e[8]||(e[8]=[])}function wv(e,n){let r;const o=n[e.index];return Ui(o)?r=o:(r=i(o,n,null,e),n[e.index]=r,u(n,r)),ra(r,n,e,o),new Dv(r,e,n)}let ra=function ld(e,n,r,o){if(e[ys])return;let a;a=8&r.type?Lr(o):function fg(e,n){const r=e[lr],o=r.createComment(""),a=Go(n,e);return Qc(r,Hm(r,a),o,function uI(e,n){return e.nextSibling(n)}(r,a),!1),o}(n,r),e[ys]=a},pg=()=>!1;class ge{constructor(n){this.queryList=n,this.matches=null}clone(){return new ge(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rt{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,a=[];for(let c=0;c<o;c++){const m=r.getByIndex(c);a.push(this.queries[m.indexInDeclarationView].clone())}return new Rt(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==$I(n,r).matches&&this.queries[r].setDirty()}}class Wt{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function Fb(e){return e.split(",").map(n=>n.trim())}(n):n}}class Rn{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,c=this.getByIndex(o).embeddedTView(n,a);c&&(c.indexInDeclarationView=o,null!==r?r.push(c):r=[c])}return null!==r?new Rn(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ai{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new Ai(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const c=o[a];this.matchTNodeWithReadOption(n,r,ls(r,c)),this.matchTNodeWithReadOption(n,r,Sd(r,n,c,!1,!1))}else o===pf?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Sd(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===Fu||a===Nf||a===pf&&4&r.type)this.addMatch(r.index,-2);else{const c=Sd(r,n,a,!1,!1);null!==c&&this.addMatch(r.index,c)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function ls(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function ws(e,n,r,o){return-1===r?function fi(e,n){return 11&e.type?Pl(e,n):4&e.type?th(e,n):null}(n,e):-2===r?function Ss(e,n,r){return r===Fu?Pl(n,e):r===pf?th(n,e):r===Nf?wv(n,e):void 0}(e,n,o):Gi(e,e[un],r,n)}function ud(e,n,r,o){const a=n[Vi].queries[o];if(null===a.matches){const c=e.data,m=r.matches,I=[];for(let T=0;null!==m&&T<m.length;T+=2){const V=m[T];I.push(V<0?null:ws(n,c[V],m[T+1],r.metadata.read))}a.matches=I}return a.matches}function va(e,n,r,o){const a=e.queries.getByIndex(r),c=a.matches;if(null!==c){const m=ud(e,n,a,r);for(let I=0;I<c.length;I+=2){const T=c[I];if(T>0)o.push(m[I/2]);else{const V=c[I+1],G=n[-T];for(let re=Li;re<G.length;re++){const xe=G[re];xe[Gs]===xe[mi]&&va(xe[un],xe,V,o)}if(null!==G[Il]){const re=G[Il];for(let xe=0;xe<re.length;xe++){const Ge=re[xe];va(Ge[un],Ge,V,o)}}}}}return o}function gg(e,n,r){var o;const a=new sp(!(4&~r));return function Qm(e,n,r,o){const a=S(n);a.push(r),e.firstCreatePass&&N(e).push(o,a.length-1)}(e,n,a,a.destroy),(null!==(o=n[Vi])&&void 0!==o?o:n[Vi]=new Rt).queries.push(new ge(a))-1}function EA(e,n,r){null===e.queries&&(e.queries=new Rn),e.queries.track(new Ai(n,r))}function $I(e,n){return e.queries.getByIndex(n)}function AA(e,n){const r=e[un],o=$I(r,n);return o.crossesNgTemplate?va(r,e,n,[]):ud(r,e,o,n)}const CA=new Set;function _a(e){var n,r;CA.has(e)||(CA.add(e),null===(n=performance)||void 0===n||null===(r=n.mark)||void 0===r||r.call(n,"mark_feature_usage",{detail:{feature:e}}))}function DA(e,n){_a("NgSignals");const r=function _e(e){const n=Object.create(tt);n.value=e;const r=()=>(ce(n),n.value);return r[ae]=n,r}(e),o=r[ae];return null!=n&&n.equal&&(o.equal=n.equal),r.set=a=>Xe(o,a),r.update=a=>function Ue(e,n){Je()||kt(),Xe(e,n(e.value))}(o,a),r.asReadonly=bA.bind(r),r}function bA(){const e=this[ae];if(void 0===e.readonlyFn){const n=()=>this();n[ae]=e,e.readonlyFn=n}return e.readonlyFn}function wA(e){return function TA(e){return"function"==typeof e&&void 0!==e[ae]}(e)&&"function"==typeof e.set}function HI(e){let n=function LA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let a;if(So(e))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new yt(903,!1);a=n.\u0275dir}if(a){if(r){o.push(a);const m=e;m.inputs=By(e.inputs),m.inputTransforms=By(e.inputTransforms),m.declaredInputs=By(e.declaredInputs),m.outputs=By(e.outputs);const I=a.hostBindings;I&&Yb(e,I);const T=a.viewQuery,V=a.contentQueries;if(T&&Xb(e,T),V&&Qb(e,V),Kb(e,a),sr(e.outputs,a.outputs),So(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let m=0;m<c.length;m++){const I=c[m];I&&I.ngInherit&&I(e),I===HI&&(r=!1)}}n=Object.getPrototypeOf(n)}!function qb(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=n+=a.hostVars,a.hostAttrs=xs(a.hostAttrs,r=xs(r,a.hostAttrs))}}(o)}function Kb(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=n.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var r;const c=Array.isArray(a)?a[0]:a;if(!n.inputTransforms.hasOwnProperty(c))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[c]=n.inputTransforms[c]}}}function By(e){return e===Rr?{}:e===hr?[]:e}function Xb(e,n){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{n(o,a),r(o,a)}:n}function Qb(e,n){const r=e.contentQueries;e.contentQueries=r?(o,a,c)=>{n(o,a,c),r(o,a,c)}:n}function Yb(e,n){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{n(o,a),r(o,a)}:n}function jA(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const a=n[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class xf{}class HA{}function rw(e,n){return new zI(e,null!=n?n:null,[])}class zI extends xf{constructor(n,r,o,a=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rf(this);const c=zi(n);this._bootstrapComponents=ma(c.bootstrap),this._r3Injector=rl(n,r,[{provide:xf,useValue:this},{provide:hu,useValue:this.componentFactoryResolver},...o],nn(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class GI extends HA{constructor(n){super(),this.moduleType=n}create(n){return new zI(this.moduleType,n,[])}}class zA extends xf{constructor(n){super(),this.componentFactoryResolver=new Rf(this),this.instance=null;const r=new bo([...n.providers,{provide:xf,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],n.parent||$s(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function WI(e,n,r=null){return new zA({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function $y(e){return!!KI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function KI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Mo(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function Pv(e,n,r,o,a,c,m,I,T,V){const G=r+Wn,re=n.firstCreatePass?function uw(e,n,r,o,a,c,m,I,T){const V=n.consts,G=Zc(n,e,4,m||null,I||null);Yp(n,r,G,Is(V,T)),bc(n,G);const re=G.tView=Jc(2,G,o,a,c,n.directiveRegistry,n.pipeRegistry,null,n.schemas,V,null);return null!==n.queries&&(n.queries.template(n,G),re.queries=n.queries.embeddedTView(G)),G}(G,n,e,o,a,c,m,I,T):n.data[G];os(re,!1);const xe=GA(n,e,re,r);Qa()&&Hp(n,e,xe,re),Ko(xe,e);const Ge=i(xe,e,xe,re);return e[G]=Ge,u(e,Ge),function Sv(e,n,r){return pg(e,n,r)}(Ge,re,e),Di(re)&&ss(n,e,re),null!=T&&Xp(e,re,V),re}function qI(e,n,r,o,a,c,m,I){const T=Gt(),V=Ir();return Pv(T,V,e,n,r,o,a,Is(V.consts,c),m,I),qI}let GA=function WA(e,n,r,o){return Ys(!0),n[lr].createComment("")};var yg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(yg||{});let ZA=(()=>{var e;class n{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=n).\u0275prov=dr({token:e,providedIn:"root",factory:()=>new e}),n})();class Wy{constructor(){this.ngZone=It(E),this.scheduler=It(od),this.errorHandler=It(Fs,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of Wy.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var n;o.erroredOrDestroyed=!0,null===(n=this.errorHandler)||void 0===n||n.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}}(Me=Wy).PHASES=[yg.EarlyRead,yg.Write,yg.MixedReadWrite,yg.Read],Me.\u0275prov=dr({token:Me,providedIn:"root",factory:()=>new Me});class fw{constructor(n,r,o,a){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==a?void 0:a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var n;this.impl.unregister(this),null===(n=this.unregisterOnDestroy)||void 0===n||n.call(this)}}function Ky(e,n){var r;(null==n||!n.injector)&&function D(e){if(!jl())throw new yt(-203,!1)}();const o=null!==(r=null==n?void 0:n.injector)&&void 0!==r?r:It(_o);return function yo(e){return"browser"===(null!=e?e:It(_o)).get(Ep)}(o)?(_a("NgAfterNextRender"),function JA(e,n,r,o){var a,c;const m=n.get(ZA);null!==(a=m.impl)&&void 0!==a||(m.impl=n.get(Wy));const I=null!==(c=null==r?void 0:r.phase)&&void 0!==c?c:yg.MixedReadWrite,T=!0!==(null==r?void 0:r.manualCleanup)?n.get(Vc):null,V=new fw(m.impl,function gw(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,I),o,T);return m.impl.register(V),V}(e,o,n,!0)):eC}const eC={destroy(){}};function oE(e,n,r,o){const a=Gt();return Mo(a,Xs(),n)&&(Ir(),sl(bi(),a,e,n,r,o)),oE}function bg(e,n,r,o){return Mo(e,Xs(),r)?n+er(r)+o:Nr}function Qy(e,n){return e<<17|n<<2}function vh(e){return e>>17&32767}function sE(e){return 2|e}function Ff(e){return(131068&e)>>2}function aE(e,n){return-131069&e|n<<2}function lE(e){return 1|e}function bC(e,n,r,o){const a=e[r+1],c=null===n;let m=o?vh(a):Ff(a),I=!1;for(;0!==m&&(!1===I||c);){const V=e[m+1];Yw(e[m],n)&&(I=!0,e[m+1]=o?lE(V):sE(V)),m=o?vh(V):Ff(V)}I&&(e[r+1]=o?sE(a):lE(a))}function Yw(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ps(e,n)>=0}function uE(e,n,r){const o=Gt();return Mo(o,Xs(),n)&&na(Ir(),bi(),o,e,n,o[lr],r,!1),uE}function cE(e,n,r,o,a){const m=a?"class":"style";we(e,r,n.inputs[m],m,o)}function dE(e,n){return function pu(e,n,r,o){const a=Gt(),c=Ir(),m=function Qs(e){const n=pr.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}(2);c.firstUpdatePass&&function kC(e,n,r,o){const a=e.data;if(null===a[r+1]){const c=a[po()],m=function OC(e,n){return n>=e.expandoStartIndex}(e,r);(function UC(e,n){return!!(e.flags&(n?8:16))})(c,o)&&null===n&&!m&&(n=!1),n=function sS(e,n,r,o){const a=function yd(e){const n=pr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let c=o?n.residualClasses:n.residualStyles;if(null===a)0===(o?n.classBindings:n.styleBindings)&&(r=kv(r=hE(null,e,n,r,o),n.attrs,o),c=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==a)if(r=hE(a,e,n,r,o),null===c){let T=function aS(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Ff(o))return e[vh(o)]}(e,n,o);void 0!==T&&Array.isArray(T)&&(T=hE(null,e,n,T[1],o),T=kv(T,n.attrs,o),function lS(e,n,r,o){e[vh(r?n.classBindings:n.styleBindings)]=o}(e,n,o,T))}else c=function uS(e,n,r){let o;const a=n.directiveEnd;for(let c=1+n.directiveStylingLast;c<a;c++)o=kv(o,e[c].hostAttrs,r);return kv(o,n.attrs,r)}(e,n,o)}return void 0!==c&&(o?n.residualClasses=c:n.residualStyles=c),r}(a,c,n,o),function Xw(e,n,r,o,a,c){let m=c?n.classBindings:n.styleBindings,I=vh(m),T=Ff(m);e[o]=r;let G,V=!1;if(Array.isArray(r)?(G=r[1],(null===G||ps(r,G)>0)&&(V=!0)):G=r,a)if(0!==T){const xe=vh(e[I+1]);e[o+1]=Qy(xe,I),0!==xe&&(e[xe+1]=aE(e[xe+1],o)),e[I+1]=function Kw(e,n){return 131071&e|n<<17}(e[I+1],o)}else e[o+1]=Qy(I,0),0!==I&&(e[I+1]=aE(e[I+1],o)),I=o;else e[o+1]=Qy(T,0),0===I?I=o:e[T+1]=aE(e[T+1],o),T=o;V&&(e[o+1]=sE(e[o+1])),bC(e,G,o,!0),bC(e,G,o,!1),function Qw(e,n,r,o,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof n&&ps(c,n)>=0&&(r[o+1]=lE(r[o+1]))}(n,G,e,o,c),m=Qy(I,T),c?n.classBindings=m:n.styleBindings=m}(a,c,n,r,m,o)}}(c,e,m,o),n!==Nr&&Mo(a,m,n)&&function VC(e,n,r,o,a,c,m,I){if(!(3&n.type))return;const T=e.data,V=T[I+1],G=function qw(e){return!(1&~e)}(V)?LC(T,n,r,a,Ff(V),m):void 0;Yy(G)||(Yy(c)||function Ww(e){return!(2&~e)}(V)&&(c=LC(T,null,r,a,I,m)),function Wp(e,n,r,o,a){if(n)a?e.addClass(r,o):e.removeClass(r,o);else{let c=-1===o.indexOf("-")?void 0:Up.DashCase;null==a?e.removeStyle(r,o,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=Up.Important),e.setStyle(r,o,a,c))}}(o,m,Au(po(),r),a,c))}(c,c.data[po()],a,a[lr],e,a[m+1]=function fS(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=nn(Hu(e)))),e}(n,r),o,m)}(e,n,null,!0),dE}function hE(e,n,r,o,a){let c=null;const m=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<m&&(c=n[I],o=kv(o,c.hostAttrs,a),c!==e);)I++;return null!==e&&(r.directiveStylingLast=I),o}function kv(e,n,r){const o=r?1:2;let a=-1;if(null!==n)for(let c=0;c<n.length;c++){const m=n[c];"number"==typeof m?a=m:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ni(e,m,!!r||n[++c]))}return void 0===e?null:e}function LC(e,n,r,o,a,c){const m=null===n;let I;for(;a>0;){const T=e[a],V=Array.isArray(T),G=V?T[1]:T,re=null===G;let xe=r[a+1];xe===Nr&&(xe=re?hr:void 0);let Ge=re?Oo(xe,o):G===o?xe:void 0;if(V&&!Yy(Ge)&&(Ge=Oo(T,o)),Yy(Ge)&&(I=Ge,m))return I;const Le=e[a+1];a=m?vh(Le):Ff(Le)}if(null!==n){let T=c?n.residualClasses:n.residualStyles;null!=T&&(I=Oo(T,o))}return I}function Yy(e){return void 0!==e}function Jy(e,n,r,o){const a=Gt(),c=Ir(),m=Wn+e,I=a[lr],T=c.firstCreatePass?function FS(e,n,r,o,a,c){const m=n.consts,T=Zc(n,e,2,o,Is(m,a));return Yp(n,r,T,Is(m,c)),null!==T.attrs&&ph(T,T.attrs,!1),null!==T.mergedAttrs&&ph(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(m,c,a,n,r,o):c.data[m],V=HC(c,a,T,I,n,e);a[m]=V;const G=Di(T);return os(T,!0),Kp(I,V,T),!function vg(e){return!(32&~e.flags)}(T)&&Qa()&&Hp(c,a,V,T),0===function Eh(){return pr.lFrame.elementDepthCount}()&&Ko(V,a),function Ah(){pr.lFrame.elementDepthCount++}(),G&&(ss(c,a,T),ta(c,T,a)),null!==o&&Xp(a,T),Jy}function e0(){let e=Dr();Ac()?xa():(e=e.parent,os(e,!1));const n=e;(function Ic(e){return pr.skipHydrationRootTNode===e})(n)&&function Tu(){pr.skipHydrationRootTNode=null}(),function pd(){pr.lFrame.elementDepthCount--}();const r=Ir();return r.firstCreatePass&&(bc(r,e),Ma(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Wg(e){return!!(8&e.flags)}(n)&&cE(r,n,Gt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Kg(e){return!!(16&e.flags)}(n)&&cE(r,n,Gt(),n.stylesWithoutHost,!1),e0}function mE(e,n,r,o){return Jy(e,n,r,o),e0(),mE}let HC=(e,n,r,o,a,c)=>(Ys(!0),$p(o,a,function Kf(){return pr.lFrame.currentNamespace}()));function t0(e,n,r){const o=Gt(),a=Ir(),c=e+Wn,m=a.firstCreatePass?function US(e,n,r,o,a){const c=n.consts,m=Is(c,o),I=Zc(n,e,8,"ng-container",m);return null!==m&&ph(I,m,!0),Yp(n,r,I,Is(c,a)),null!==n.queries&&n.queries.elementStart(n,I),I}(c,a,o,n,r):a.data[c];os(m,!0);const I=zC(a,o,m,e);return o[c]=I,Qa()&&Hp(a,o,I,m),Ko(I,o),Di(m)&&(ss(a,o,m),ta(a,m,o)),null!=r&&Xp(o,m),t0}function n0(){let e=Dr();const n=Ir();return Ac()?xa():(e=e.parent,os(e,!1)),n.firstCreatePass&&(bc(n,e),Ma(e)&&n.queries.elementEnd(e)),n0}function vE(e,n,r){return t0(e,n,r),n0(),vE}let zC=(e,n,r,o)=>(Ys(!0),$m(n[lr],""));function GC(){return Gt()}const Vf=void 0;var HS=["en",[["a","p"],["AM","PM"],Vf],[["AM","PM"],Vf,Vf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vf,"{1} 'at' {0}",Vf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jS(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let kg={};function _E(e){const n=function zS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=XC(n);if(r)return r;const o=n.split("-")[0];if(r=XC(o),r)return r;if("en"===o)return HS;throw new yt(701,!1)}function qC(e){return _E(e)[Fg.PluralCase]}function XC(e){return e in kg||(kg[e]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[e]),kg[e]}var Fg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Fg||{});const r0="en-US";let QC=r0,pT=(e,n,r)=>{};function EE(e,n,r,o){const a=Gt(),c=Ir(),m=Dr();return AE(c,a,a[lr],m,e,n,o),EE}function AE(e,n,r,o,a,c,m){const I=Di(o),V=e.firstCreatePass&&N(e),G=n[_r],re=S(n);let xe=!0;if(3&o.type||m){const Bt=Go(o,n),sn=m?m(Bt):Bt,pn=re.length,Xt=m?Tr=>m(Lr(Tr[o.index])):o.index;let cr=null;if(!m&&I&&(cr=function NR(e,n,r,o){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const m=a[c];if(m===r&&a[c+1]===o){const I=n[Hs],T=a[c+2];return I.length>T?I[T]:null}"string"==typeof m&&(c+=2)}return null}(e,n,a,o.index)),null!==cr)(cr.__ngLastListenerFn__||cr).__ngNextListenerFn__=c,cr.__ngLastListenerFn__=c,xe=!1;else{c=_T(o,n,G,c),pT(Bt,a,c);const Tr=r.listen(sn,a,c);re.push(c,Tr),V&&V.push(a,Xt,pn,pn+1)}}else c=_T(o,n,G,c);const Ge=o.outputs;let Le;if(xe&&null!==Ge&&(Le=Ge[a])){const Bt=Le.length;if(Bt)for(let sn=0;sn<Bt;sn+=2){const ji=n[Le[sn]][Le[sn+1]].subscribe(c),ds=re.length;re.push(c,ji),V&&V.push(a,o.index,ds,-(ds+1))}}}function vT(e,n,r,o){const a=de(null);try{return zo(6,n,r),!1!==r(o)}catch(c){return se(e,c),!1}finally{zo(7,n,r),de(a)}}function _T(e,n,r,o){return function a(c){if(c===Function)return o;au(e.componentOffset>-1?Wo(e.index,n):n,5);let I=vT(n,r,o,c),T=a.__ngNextListenerFn__;for(;T;)I=vT(n,r,T,c)&&I,T=T.__ngNextListenerFn__;return I}}function yT(e=1){return function jg(e){return(pr.lFrame.contextLView=function dd(e,n){for(;e>0;)n=n[vl],e--;return n}(e,pr.lFrame.contextLView))[_r]}(e)}function xR(e,n){let r=null;const o=function H(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let a=0;a<n.length;a++){const c=n[a];if("*"!==c){if(null===o?hl(e,c,!0):$(o,c))return a}else r=a}return r}function IT(e){const n=Gt()[xi][vi];if(!n.projection){const o=n.projection=function Zo(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),a=o.slice();let c=n.child;for(;null!==c;){if(128!==c.type){const m=e?xR(c,e):0;null!==m&&(a[m]?a[m].projectionNext=c:o[m]=c,a[m]=c)}c=c.next}}}function ET(e,n=0,r,o,a,c){const m=Gt(),I=Ir(),T=o?e+1:null;null!==T&&Pv(m,I,T,o,a,c,null,r);const V=Zc(I,Wn+e,16,null,r||null);null===V.projection&&(V.projection=n),xa();const re=!m[eo]||Yl();null===m[xi][vi].projection[V.projection]&&null!==T?function OR(e,n,r){const o=Wn+r,a=n.data[o],c=e[o],m=ic(c,a.tView.ssrId);ur(c,Hn(e,a,void 0,{dehydratedView:m}),0,zn(a,m))}(m,I,T):re&&32&~V.flags&&function vA(e,n,r){fI(n[lr],0,n,r,kl(e,r,n),H_(r.parent||n[vi],r,n))}(I,m,V)}function CE(e,n,r){return TE(e,"",n,"",r),CE}function TE(e,n,r,o,a){const c=Gt(),m=bg(c,n,r,o);return m!==Nr&&na(Ir(),bi(),c,e,m,c[lr],a,!1),TE}function MT(e,n,r,o){!function IA(e,n,r,o){const a=Ir();if(a.firstCreatePass){const c=Dr();EA(a,new Wt(n,r,o),c.index),function Vb(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return gg(a,Gt(),r)}(e,n,r,o)}function PT(e,n,r){!function yA(e,n,r){const o=Ir();return o.firstCreatePass&&(EA(o,new Wt(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),gg(o,Gt(),n)}(e,n,r)}function NT(e){const n=Gt(),r=Ir(),o=wh();Tc(o+1);const a=$I(r,o);if(e.dirty&&function mc(e){return!(4&~e[Bn])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const c=AA(n,o);e.reset(c,Jv),e.notifyOnChanges()}return!0}return!1}function xT(){return function gh(e,n){return e[Vi].queries[n].queryList}(Gt(),wh())}function HT(e,n=""){const r=Gt(),o=Ir(),a=e+Wn,c=o.firstCreatePass?Zc(o,a,1,n,null):o.data[a],m=zT(o,r,c,n,e);r[a]=m,Qa()&&Hp(o,r,m,c),os(c,!1)}let zT=(e,n,r,o,a)=>(Ys(!0),function F_(e,n){return e.createText(n)}(n[lr],o));function bE(e){return l0("",e,""),bE}function l0(e,n,r){const o=Gt(),a=bg(o,e,n,r);return a!==Nr&&function Ze(e,n,r){const o=Au(n,e);!function V_(e,n,r){e.setValue(n,r)}(e[lr],o,r)}(o,po(),a),l0}function wE(e,n,r){wA(n)&&(n=n());const o=Gt();return Mo(o,Xs(),n)&&na(Ir(),bi(),o,e,n,o[lr],r,!1),wE}function JT(e,n){const r=wA(e);return r&&e.set(n),r}function SE(e,n){const r=Gt(),o=Ir(),a=Dr();return AE(o,r,r[lr],a,e,n),SE}function RE(e,n,r,o,a){if(e=ut(e),Array.isArray(e))for(let c=0;c<e.length;c++)RE(e[c],n,r,o,a);else{const c=Ir(),m=Gt(),I=Dr();let T=Uo(e)?e:ut(e.provide);const V=ml(e),G=1048575&I.providerIndexes,re=I.directiveStart,xe=I.providerIndexes>>20;if(Uo(e)||!e.multi){const Ge=new Rc(V,a,Xu),Le=PE(T,n,a?G:G+xe,re);-1===Le?(tu(Ja(I,m),c,T),ME(c,e,n.length),n.push(T),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(Ge),m.push(Ge)):(r[Le]=Ge,m[Le]=Ge)}else{const Ge=PE(T,n,G+xe,re),Le=PE(T,n,G,G+xe),sn=Le>=0&&r[Le];if(a&&!sn||!a&&!(Ge>=0&&r[Ge])){tu(Ja(I,m),c,T);const pn=function tM(e,n,r,o,a){const c=new Rc(e,r,Xu);return c.multi=[],c.index=n,c.componentProviders=0,nD(c,a,o&&!r),c}(a?eM:JR,r.length,a,o,V);!a&&sn&&(r[Le].providerFactory=pn),ME(c,e,n.length,0),n.push(T),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(pn),m.push(pn)}else ME(c,e,Ge>-1?Ge:Le,nD(r[a?Le:Ge],V,!a&&o));!a&&o&&sn&&r[Le].componentProviders++}}}function ME(e,n,r,o){const a=Uo(n),c=function vu(e){return!!e.useClass}(n);if(a||c){const T=(c?ut(n.useClass):n).prototype.ngOnDestroy;if(T){const V=e.destroyHooks||(e.destroyHooks=[]);if(!a&&n.multi){const G=V.indexOf(r);-1===G?V.push(r,[o,T]):V[G+1].push(o,T)}else V.push(r,T)}}}function nD(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function PE(e,n,r,o){for(let a=r;a<o;a++)if(n[a]===e)return a;return-1}function JR(e,n,r,o){return NE(this.multi,[])}function eM(e,n,r,o){const a=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Gi(r,r[un],this.providerFactory.index,o);c=I.slice(0,m),NE(a,c);for(let T=m;T<I.length;T++)c.push(I[T])}else c=[],NE(a,c);return c}function NE(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function rD(e,n=[]){return r=>{r.providersResolver=(o,a)=>function ZR(e,n,r){const o=Ir();if(o.firstCreatePass){const a=So(e);RE(r,o.data,o.blueprint,a,!0),RE(n,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,n)}}let nM=(()=>{var e;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=mu(0,o.type),c=a.length>0?WI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=n).\u0275prov=dr({token:e,providedIn:"environment",factory:()=>new e(nt(Bo))}),n})();function iD(e){_a("NgStandalone"),e.getStandaloneInjector=n=>n.get(nM).getOrCreateStandaloneInjector(e)}function aD(e,n,r,o,a,c){const m=n+r;return Mo(e,m,a)?function lc(e,n,r){return e[n]=r}(e,m+1,c?o.call(c,a):o(a)):function $v(e,n){const r=e[n];return r===Nr?void 0:r}(e,m+1)}function hD(e,n){const r=Ir();let o;const a=e+Wn;var c;r.firstCreatePass?(o=function mM(e,n){if(n)for(let r=n.length-1;r>=0;r--){const o=n[r];if(e===o.name)return o}}(n,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(null!==(c=r.destroyHooks)&&void 0!==c?c:r.destroyHooks=[]).push(a,o.onDestroy)):o=r.data[a];const m=o.factory||(o.factory=Ci(o.type)),T=di(Xu);try{const V=Ru(!1),G=m();return Ru(V),function DE(e,n,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=o}(r,Gt(),a,G),G}finally{di(T)}}function fD(e,n,r){const o=e+Wn,a=Gt(),c=function Ka(e,n){return e[n]}(a,o);return function jv(e,n){return e[un].data[n].pure}(a,o)?aD(a,function to(){const e=pr.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),n,c.transform,r,c):c.transform(r)}class RD{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const HM=new RD("18.2.10");let MD=(()=>{var e;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();const OD=new Fn(""),kD=new Fn("");let UE,gP=(()=>{var e;class n{constructor(o,a,c){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,UE||(function mP(e){UE=e}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{E.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==m),o()},a)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return(e=n).\u0275fac=function(o){return new(o||e)(nt(E),nt(FD),nt(kD))},e.\u0275prov=dr({token:e,factory:e.\u0275fac}),n})(),FD=(()=>{var e;class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var c,m;return null!==(c=null===(m=UE)||void 0===m?void 0:m.findTestabilityInTree(this,o,a))&&void 0!==c?c:null}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();function BE(e){return!!e&&"function"==typeof e.then}function VD(e){return!!e&&"function"==typeof e.subscribe}const LD=new Fn("");let UD=(()=>{var e;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=null!==(o=It(LD,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const m=c();if(BE(m))o.push(m);else if(VD(m)){const I=new Promise((T,V)=>{m.subscribe({complete:T,error:V})});o.push(I)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const f0=new Fn("");function $D(e,n){return Array.isArray(n)?n.reduce($D,e):{...e,...n}}let dc=(()=>{var e;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=It(Nd),this.afterRenderManager=It(ZA),this.zonelessEnabled=It(Fl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new kn.B,this.afterTick=new kn.B,this.componentTypes=[],this.components=[],this.isStable=It(ol).hasPendingTasks.pipe((0,Kt.T)(o=>!o)),this._injector=It(Bo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:c=>{c&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof My;if(!this._injector.get(UD).done)throw!c&&To(o),new yt(405,!1);let I;I=c?o:this._injector.get(hu).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const T=function vP(e){return e.isBoundToModule}(I)?void 0:this._injector.get(xf),G=I.create(_o.NULL,[],a||I.selector,T),re=G.location.nativeElement,xe=G.injector.get(OD,null);return null==xe||xe.registerApplication(re),G.onDestroy(()=>{this.detachView(G.hostView),p0(this.components,G),null==xe||xe.unregisterApplication(re)}),this._loadComponent(G),G}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new yt(101,!1);const o=de(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,de(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(sd,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:I,notifyErrorHandler:T}of this._views)IP(I,T,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,c;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(c=o.end)||void 0===c||c.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>hd(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;p0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(f0,[]);[...this._bootstrapListeners,...a].forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>p0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new yt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function p0(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function IP(e,n,r,o){(r||hd(e))&&Yu(e,n,r&&!o?0:1)}class EP{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let AP=(()=>{var e;class n{compileModuleSync(o){return new GI(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),m=ma(zi(o).declarations).reduce((I,T)=>{const V=vr(T);return V&&I.push(new Mf(V)),I},[]);return new EP(a,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),DP=(()=>{var e;class n{constructor(){this.zone=It(E),this.changeDetectionScheduler=It(od),this.applicationRef=It(dc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function $E({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new E({...jE(),scheduleInRootZone:r})),[{provide:E,useFactory:e},{provide:mo,multi:!0,useFactory:()=>{const a=It(DP,{optional:!0});return()=>a.initialize()}},{provide:mo,multi:!0,useFactory:()=>{const a=It(wP);return()=>{a.initialize()}}},!0===n?{provide:Ry,useValue:!0}:[],{provide:mv,useValue:null!=r?r:Nu}]}function jE(e){var n,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let wP=(()=>{var e;class n{constructor(){this.subscription=new Ft.yU,this.initialized=!1,this.zone=It(E),this.pendingTasks=It(ol)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{E.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;E.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),Wv=(()=>{var e;class n{constructor(){var o,a,c;this.appRef=It(dc),this.taskService=It(ol),this.ngZone=It(E),this.zonelessEnabled=It(Fl),this.disableScheduling=null!==(o=It(Ry,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ft.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(h):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(c=It(mv,{optional:!0}))&&void 0!==c&&c,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof On||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?Md:rp;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(h+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Md(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const zE=new Fn("",{providedIn:"root",factory:()=>It(zE,Sr.Optional|Sr.SkipSelf)||function SP(){return typeof $localize<"u"&&$localize.locale||r0}()}),RP=new Fn("",{providedIn:"root",factory:()=>"USD"}),g0=new Fn("");function m0(e){return!e.moduleRef}let qD=(()=>{var e;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=null==a?void 0:a.scheduleInRootZone,T=[$E({ngZoneFactory:()=>function Pd(e="zone.js",n){return"noop"===e?new On:"zone.js"===e?new E(n):e}(null==a?void 0:a.ngZone,{...jE({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:od,useExisting:Wv}],V=function iw(e,n,r){return new zI(e,n,r,!1)}(o.moduleType,this.injector,T);return function KD(e){const n=m0(e)?e.r3Injector:e.moduleRef.injector,r=n.get(E);return r.run(()=>{m0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(Fs,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:c=>{o.handleError(c)}})}),m0(e)){const c=()=>n.destroy(),m=e.platformInjector.get(g0);m.add(c),n.onDestroy(()=>{a.unsubscribe(),m.delete(c)})}else{const c=()=>e.moduleRef.destroy(),m=e.platformInjector.get(g0);m.add(c),e.moduleRef.onDestroy(()=>{p0(e.allPlatformModules,e.moduleRef),a.unsubscribe(),m.delete(c)})}return function yP(e,n,r){try{const o=r();return BE(o)?o.catch(a=>{throw n.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const c=n.get(UD);return c.runInitializers(),c.donePromise.then(()=>{if(function qS(e){"string"==typeof e&&(QC=e.toLowerCase().replace(/_/g,"-"))}(n.get(zE,r0)||r0),m0(e)){const I=n.get(dc);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function OP(e,n){const r=e.injector.get(dc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new yt(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:V,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,a=[]){const c=$D({},a);return function TP(e,n,r){const o=new GI(r);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,c))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new yt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(g0,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=n).\u0275fac=function(o){return new(o||e)(nt(_o))},e.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})(),_h=null;const XD=new Fn("");function QD(e,n,r=[]){const o=`Platform: ${n}`,a=new Fn(o);return(c=[])=>{let m=GE();if(!m||m.injector.get(XD,!1)){const I=[...r,...c,{provide:a,useValue:!0}];e?e(I):function kP(e){if(_h&&!_h.get(XD,!1))throw new yt(400,!1);(function BD(){!function Te(e){wn=e}(()=>{throw new yt(600,!1)})})(),_h=e;const n=e.get(qD);(function ZD(e){const n=e.get(Ip,null);null==n||n.forEach(r=>r())})(e)}(function YD(e=[],n){return _o.create({name:n,providers:[{provide:za,useValue:"platform"},{provide:g0,useValue:new Set([()=>_h=null])},...e]})}(I,o))}return function FP(){const n=GE();if(!n)throw new yt(401,!1);return n}()}}function GE(){var e,n;return null!==(e=null===(n=_h)||void 0===n?void 0:n.get(qD))&&void 0!==e?e:null}function LP(){return!1}let eb=(()=>{class n{}return n.__NG_ELEMENT_ID__=UP,n})();function UP(e){return function BP(e,n,r){if(Ws(e)&&!r){const o=Wo(e.index,n);return new ff(o,o)}return 175&e.type?new ff(n[xi],n):null}(Dr(),Gt(),!(16&~e))}class ib{constructor(){}supports(n){return $y(n)}create(n){return new GP(n)}}const zP=(e,n)=>n;class GP{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||zP}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,a=0,c=null;for(;r||o;){const m=!o||r&&r.currentIndex<sb(o,a,c)?r:o,I=sb(m,a,c),T=m.currentIndex;if(m===o)a--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)a++;else{c||(c=[]);const V=I-a,G=T-a;if(V!=G){for(let xe=0;xe<V;xe++){const Ge=xe<c.length?c[xe]:c[xe]=0,Le=Ge+xe;G<=Le&&Le<V&&(c[xe]=Ge+1)}c[m.previousIndex]=G-V}}I!==T&&n(m,I,T)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!$y(n))throw new yt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,c,m,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)c=n[I],m=this._trackByFn(I,c),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,c,m,I)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,m,I),o=!0),r=r._next}else a=0,function aw(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,I=>{m=this._trackByFn(a,I),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,I,m,a)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,m,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,a){let c;return null===n?c=this._itTail:(c=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,c,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,c,a)):n=this._addAfter(new WP(r,o),c,a),n}_verifyReinsertion(n,r,o,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?n=this._reinsertAfter(c,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,c=n._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const a=null===r?this._itHead:r._next;return n._next=a,n._prev=r,null===a?this._itTail=n:a._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new ob),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ob),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class WP{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KP{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class ob{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new KP,this.map.set(r,o)),o.add(n)}get(n,r){const a=this.map.get(n);return a?a.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sb(e,n,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+n+a}class ab{constructor(){}supports(n){return n instanceof Map||KI(n)}create(){return new qP}}class qP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||KI(n)))throw new yt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const c=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,c)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,r);const c=a._prev,m=a._next;return c&&(c._next=m),m&&(m._prev=c),a._next=null,a._prev=null,a}const o=new XP(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class XP{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lb(){return new QE([new ib])}let QE=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||lb()),deps:[[n,new $r,new Wr]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new yt(901,!1)}}return(e=n).\u0275prov=dr({token:e,providedIn:"root",factory:lb}),n})();function ub(){return new YE([new ab])}let YE=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||ub()),deps:[[n,new $r,new Wr]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new yt(901,!1)}}return(e=n).\u0275prov=dr({token:e,providedIn:"root",factory:ub}),n})();const ZP=QD(null,"core",[]);let JP=(()=>{var e;class n{constructor(o){}}return(e=n).\u0275fac=function(o){return new(o||e)(nt(dc))},e.\u0275mod=ts({type:e}),e.\u0275inj=z({}),n})();function MN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function NN(e,n){_a("NgSignals");const r=function He(e){const n=Object.create(cn);n.computation=e;const r=()=>{if(ze(n),ce(n),n.value===zt)throw n.error;return n.value};return r[ae]=n,r}(e);return null!=n&&n.equal&&(r[ae].equal=n.equal),r}function xN(e){const n=de(null);try{return e()}finally{de(n)}}function UN(e,n){const r=vr(e),o=n.elementInjector||$s();return new Mf(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function BN(e){const n=vr(e);if(!n)return null;const r=new Mf(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(vn,_t,L)=>{"use strict";L.d(_t,{DS:()=>Xe,X8:()=>Ue,$z:()=>Ie,UB:()=>Y,yy:()=>kt,ZP:()=>Te,AU:()=>_e,CP:()=>wn,gF:()=>Ae});var d=L(9842),Z=(L(7955),L(177)),ee=L(4438),ae=L(1825),de=L(9253),De=L(1413),Be=L(7673),Ke=L(1985),Ce=L(8455),ce=L(6365),Ve=L(8750),ze=L(983),$e=L(3794),ct=L(941),et=L(5558),je=L(6354),vt=L(6129);class ht extends De.B{constructor(tt=1/0,ot=1/0,Mt=vt.U){super(),this._bufferSize=tt,this._windowTime=ot,this._timestampProvider=Mt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ot===1/0,this._bufferSize=Math.max(1,tt),this._windowTime=Math.max(1,ot)}next(tt){const{isStopped:ot,_buffer:Mt,_infiniteTimeWindow:En,_timestampProvider:lt,_windowTime:an}=this;ot||(Mt.push(tt),!En&&Mt.push(lt.now()+an)),this._trimBuffer(),super.next(tt)}_subscribe(tt){this._throwIfClosed(),this._trimBuffer();const ot=this._innerSubscribe(tt),{_infiniteTimeWindow:Mt,_buffer:En}=this,lt=En.slice();for(let an=0;an<lt.length&&!tt.closed;an+=Mt?1:2)tt.next(lt[an]);return this._checkFinalizedStatuses(tt),ot}_trimBuffer(){const{_bufferSize:tt,_timestampProvider:ot,_buffer:Mt,_infiniteTimeWindow:En}=this,lt=(En?1:2)*tt;if(tt<1/0&&lt<Mt.length&&Mt.splice(0,Mt.length-lt),!En){const an=ot.now();let Cn=0;for(let kn=1;kn<Mt.length&&Mt[kn]<=an;kn+=2)Cn=kn;Cn&&Mt.splice(0,Cn+1)}}}var pe=L(7707),ve=L(9974);function rt(Ne,tt,...ot){if(!0===tt)return void Ne();if(!1===tt)return;const Mt=new pe.Ms({next:()=>{Mt.unsubscribe(),Ne()}});return(0,Ve.Tg)(tt(...ot)).subscribe(Mt)}function Ye(Ne,tt,ot){let Mt,En=!1;return Ne&&"object"==typeof Ne?({bufferSize:Mt=1/0,windowTime:tt=1/0,refCount:En=!1,scheduler:ot}=Ne):Mt=null!=Ne?Ne:1/0,function Re(Ne={}){const{connector:tt=()=>new De.B,resetOnError:ot=!0,resetOnComplete:Mt=!0,resetOnRefCountZero:En=!0}=Ne;return lt=>{let an,Cn,kn,Ft=0,Kt=!1,Nn=!1;const qt=()=>{null==Cn||Cn.unsubscribe(),Cn=void 0},Me=()=>{qt(),an=kn=void 0,Kt=Nn=!1},Oe=()=>{const Pt=an;Me(),null==Pt||Pt.unsubscribe()};return(0,ve.N)((Pt,yt)=>{Ft++,!Nn&&!Kt&&qt();const jn=kn=null!=kn?kn:tt();yt.add(()=>{Ft--,0===Ft&&!Nn&&!Kt&&(Cn=rt(Oe,En))}),jn.subscribe(yt),!an&&Ft>0&&(an=new pe.Ms({next:Kn=>jn.next(Kn),error:Kn=>{Nn=!0,qt(),Cn=rt(Me,ot,Kn),jn.error(Kn)},complete:()=>{Kt=!0,qt(),Cn=rt(Me,Mt),jn.complete()}}),(0,Ve.Tg)(Pt).subscribe(an))})(lt)}}({connector:()=>new ht(Mt,tt,ot),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:En})}var bt=L(1594),He=L(8071);function Pe(Ne,tt){return(0,He.T)(tt)?(0,et.n)(()=>Ne,tt):(0,et.n)(()=>Ne)}var Lt=L(6745),zt=L(5964),cn=L(7935);const wn=new ee.nKC("angularfire2.auth.use-emulator"),kt=new ee.nKC("angularfire2.auth.settings"),Te=new ee.nKC("angularfire2.auth.tenant-id"),Ie=new ee.nKC("angularfire2.auth.langugage-code"),_e=new ee.nKC("angularfire2.auth.use-device-language"),Y=new ee.nKC("angularfire.auth.persistence"),Ae=(Ne,tt,ot,Mt,En,lt,an,Cn)=>(0,de.BM)(`${Ne.name}.auth`,"AngularFireAuth",Ne.name,()=>{const kn=tt.runOutsideAngular(()=>Ne.auth());if(ot&&kn.useEmulator(...ot),Mt&&(kn.tenantId=Mt),kn.languageCode=En,lt&&kn.useDeviceLanguage(),an)for(const[Ft,Kt]of Object.entries(an))kn.settings[Ft]=Kt;return Cn&&kn.setPersistence(Cn),kn},[ot,Mt,En,lt,an,Cn]);let Xe=(()=>{var Ne;class tt{constructor(Mt,En,lt,an,Cn,kn,Ft,Kt,Nn,qt,Me,Oe){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const Pt=new De.B,yt=(0,Be.of)(void 0).pipe((0,ct.Q)(Cn.outsideAngular),(0,et.n)(()=>an.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,7955)))),(0,je.T)(()=>(0,de.iB)(Mt,an,En)),(0,je.T)(jn=>Ae(jn,an,kn,Kt,Nn,qt,Ft,Me)),Ye({bufferSize:1,refCount:!1}));if((0,Z.Vy)(lt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{yt.pipe((0,bt.$)()).subscribe();const jn=yt.pipe((0,et.n)(gn=>gn.getRedirectResult().then(Zn=>Zn,()=>null)),ae.U0,Ye({bufferSize:1,refCount:!1})),Kn=yt.pipe((0,et.n)(gn=>new Ke.c(Zn=>({unsubscribe:an.runOutsideAngular(()=>gn.onAuthStateChanged(Qn=>Zn.next(Qn),Qn=>Zn.error(Qn),()=>Zn.complete()))})))),Tn=yt.pipe((0,et.n)(gn=>new Ke.c(Zn=>({unsubscribe:an.runOutsideAngular(()=>gn.onIdTokenChanged(Qn=>Zn.next(Qn),Qn=>Zn.error(Qn),()=>Zn.complete()))}))));this.authState=jn.pipe(Pe(Kn),(0,Lt._)(Cn.outsideAngular),(0,ct.Q)(Cn.insideAngular)),this.user=jn.pipe(Pe(Tn),(0,Lt._)(Cn.outsideAngular),(0,ct.Q)(Cn.insideAngular)),this.idToken=this.user.pipe((0,et.n)(gn=>gn?(0,Ce.H)(gn.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe((0,et.n)(gn=>gn?(0,Ce.H)(gn.getIdTokenResult()):(0,Be.of)(null))),this.credential=function Je(...Ne){const tt=(0,$e.lI)(Ne),ot=(0,$e.R0)(Ne,1/0),Mt=Ne;return Mt.length?1===Mt.length?(0,Ve.Tg)(Mt[0]):(0,ce.U)(ot)((0,Ce.H)(Mt,tt)):ze.w}(jn,Pt,this.authState.pipe((0,zt.p)(gn=>!gn))).pipe((0,je.T)(gn=>null!=gn&&gn.user?gn:null),(0,Lt._)(Cn.outsideAngular),(0,ct.Q)(Cn.insideAngular))}return(0,de.Gt)(this,yt,an,{spy:{apply:(jn,Kn,Tn)=>{(jn.startsWith("signIn")||jn.startsWith("createUser"))&&Tn.then(gn=>Pt.next(gn))}}})}}return Ne=tt,(0,d.A)(tt,"\u0275fac",function(Mt){return new(Mt||Ne)(ee.KVO(de.rx),ee.KVO(de.uP,8),ee.KVO(ee.Agw),ee.KVO(ee.SKi),ee.KVO(ae.u0),ee.KVO(wn,8),ee.KVO(kt,8),ee.KVO(Te,8),ee.KVO(Ie,8),ee.KVO(_e,8),ee.KVO(Y,8),ee.KVO(ae.Jv,8))}),(0,d.A)(tt,"\u0275prov",ee.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"any"})),tt})(),Ue=(()=>{var Ne;class tt{constructor(){cn.A.registerVersion("angularfire",ae.xv.full,"auth-compat")}}return Ne=tt,(0,d.A)(tt,"\u0275fac",function(Mt){return new(Mt||Ne)}),(0,d.A)(tt,"\u0275mod",ee.$C({type:Ne})),(0,d.A)(tt,"\u0275inj",ee.G2t({providers:[Xe]})),tt})()},8079:(vn,_t,L)=>{"use strict";L.d(_t,{Qe:()=>sl,cM:()=>Jm});var d=L(9842),f=L(177),Z=L(4438),ee=L(1825),ae=L(9253),de=L(1182),De=L(3236),Be=L(1985),Ke=L(8455),Ce=L(7673),ce=L(9172),Ve=L(9974),ze=L(4360);function $e(){return(0,Ve.N)((l,t)=>{let i,s=!1;l.subscribe((0,ze._)(t,u=>{const p=i;i=u,s&&t.next([p,u]),s=!0}))})}var Pe,Lt,Je=L(6354),ct=L(2816),et=L(3294),je=L(5964),ht=(L(7955),L(3345)),pe=L(467),ve=L(7852),Re=L(1362),rt=L(8041),Ye=L(1076),bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Et,qe,pt){pt||(pt=0);var Tt=Array(16);if("string"==typeof qe)for(var wt=0;16>wt;++wt)Tt[wt]=qe.charCodeAt(pt++)|qe.charCodeAt(pt++)<<8|qe.charCodeAt(pt++)<<16|qe.charCodeAt(pt++)<<24;else for(wt=0;16>wt;++wt)Tt[wt]=qe[pt++]|qe[pt++]<<8|qe[pt++]<<16|qe[pt++]<<24;var Vt=Et.g[3],dt=(qe=Et.g[0])+(Vt^(pt=Et.g[1])&((wt=Et.g[2])^Vt))+Tt[0]+3614090360&4294967295;dt=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=(pt=(wt=(Vt=(qe=pt+(dt<<7&4294967295|dt>>>25))+((dt=Vt+(wt^qe&(pt^wt))+Tt[1]+3905402710&4294967295)<<12&4294967295|dt>>>20))+((dt=wt+(pt^Vt&(qe^pt))+Tt[2]+606105819&4294967295)<<17&4294967295|dt>>>15))+((dt=pt+(qe^wt&(Vt^qe))+Tt[3]+3250441966&4294967295)<<22&4294967295|dt>>>10))+((dt=qe+(Vt^pt&(wt^Vt))+Tt[4]+4118548399&4294967295)<<7&4294967295|dt>>>25))+((dt=Vt+(wt^qe&(pt^wt))+Tt[5]+1200080426&4294967295)<<12&4294967295|dt>>>20))+((dt=wt+(pt^Vt&(qe^pt))+Tt[6]+2821735955&4294967295)<<17&4294967295|dt>>>15))+((dt=pt+(qe^wt&(Vt^qe))+Tt[7]+4249261313&4294967295)<<22&4294967295|dt>>>10))+((dt=qe+(Vt^pt&(wt^Vt))+Tt[8]+1770035416&4294967295)<<7&4294967295|dt>>>25))+((dt=Vt+(wt^qe&(pt^wt))+Tt[9]+2336552879&4294967295)<<12&4294967295|dt>>>20))+((dt=wt+(pt^Vt&(qe^pt))+Tt[10]+4294925233&4294967295)<<17&4294967295|dt>>>15))+((dt=pt+(qe^wt&(Vt^qe))+Tt[11]+2304563134&4294967295)<<22&4294967295|dt>>>10))+((dt=qe+(Vt^pt&(wt^Vt))+Tt[12]+1804603682&4294967295)<<7&4294967295|dt>>>25))+((dt=Vt+(wt^qe&(pt^wt))+Tt[13]+4254626195&4294967295)<<12&4294967295|dt>>>20))+((dt=wt+(pt^Vt&(qe^pt))+Tt[14]+2792965006&4294967295)<<17&4294967295|dt>>>15))+((dt=pt+(qe^wt&(Vt^qe))+Tt[15]+1236535329&4294967295)<<22&4294967295|dt>>>10))+((dt=qe+(wt^Vt&(pt^wt))+Tt[1]+4129170786&4294967295)<<5&4294967295|dt>>>27))+((dt=Vt+(pt^wt&(qe^pt))+Tt[6]+3225465664&4294967295)<<9&4294967295|dt>>>23))+((dt=wt+(qe^pt&(Vt^qe))+Tt[11]+643717713&4294967295)<<14&4294967295|dt>>>18))+((dt=pt+(Vt^qe&(wt^Vt))+Tt[0]+3921069994&4294967295)<<20&4294967295|dt>>>12))+((dt=qe+(wt^Vt&(pt^wt))+Tt[5]+3593408605&4294967295)<<5&4294967295|dt>>>27))+((dt=Vt+(pt^wt&(qe^pt))+Tt[10]+38016083&4294967295)<<9&4294967295|dt>>>23))+((dt=wt+(qe^pt&(Vt^qe))+Tt[15]+3634488961&4294967295)<<14&4294967295|dt>>>18))+((dt=pt+(Vt^qe&(wt^Vt))+Tt[4]+3889429448&4294967295)<<20&4294967295|dt>>>12))+((dt=qe+(wt^Vt&(pt^wt))+Tt[9]+568446438&4294967295)<<5&4294967295|dt>>>27))+((dt=Vt+(pt^wt&(qe^pt))+Tt[14]+3275163606&4294967295)<<9&4294967295|dt>>>23))+((dt=wt+(qe^pt&(Vt^qe))+Tt[3]+4107603335&4294967295)<<14&4294967295|dt>>>18))+((dt=pt+(Vt^qe&(wt^Vt))+Tt[8]+1163531501&4294967295)<<20&4294967295|dt>>>12))+((dt=qe+(wt^Vt&(pt^wt))+Tt[13]+2850285829&4294967295)<<5&4294967295|dt>>>27))+((dt=Vt+(pt^wt&(qe^pt))+Tt[2]+4243563512&4294967295)<<9&4294967295|dt>>>23))+((dt=wt+(qe^pt&(Vt^qe))+Tt[7]+1735328473&4294967295)<<14&4294967295|dt>>>18))+((dt=pt+(Vt^qe&(wt^Vt))+Tt[12]+2368359562&4294967295)<<20&4294967295|dt>>>12))+((dt=qe+(pt^wt^Vt)+Tt[5]+4294588738&4294967295)<<4&4294967295|dt>>>28))+((dt=Vt+(qe^pt^wt)+Tt[8]+2272392833&4294967295)<<11&4294967295|dt>>>21))+((dt=wt+(Vt^qe^pt)+Tt[11]+1839030562&4294967295)<<16&4294967295|dt>>>16))+((dt=pt+(wt^Vt^qe)+Tt[14]+4259657740&4294967295)<<23&4294967295|dt>>>9))+((dt=qe+(pt^wt^Vt)+Tt[1]+2763975236&4294967295)<<4&4294967295|dt>>>28))+((dt=Vt+(qe^pt^wt)+Tt[4]+1272893353&4294967295)<<11&4294967295|dt>>>21))+((dt=wt+(Vt^qe^pt)+Tt[7]+4139469664&4294967295)<<16&4294967295|dt>>>16))+((dt=pt+(wt^Vt^qe)+Tt[10]+3200236656&4294967295)<<23&4294967295|dt>>>9))+((dt=qe+(pt^wt^Vt)+Tt[13]+681279174&4294967295)<<4&4294967295|dt>>>28))+((dt=Vt+(qe^pt^wt)+Tt[0]+3936430074&4294967295)<<11&4294967295|dt>>>21))+((dt=wt+(Vt^qe^pt)+Tt[3]+3572445317&4294967295)<<16&4294967295|dt>>>16))+((dt=pt+(wt^Vt^qe)+Tt[6]+76029189&4294967295)<<23&4294967295|dt>>>9))+((dt=qe+(pt^wt^Vt)+Tt[9]+3654602809&4294967295)<<4&4294967295|dt>>>28))+((dt=Vt+(qe^pt^wt)+Tt[12]+3873151461&4294967295)<<11&4294967295|dt>>>21))+((dt=wt+(Vt^qe^pt)+Tt[15]+530742520&4294967295)<<16&4294967295|dt>>>16))+((dt=pt+(wt^Vt^qe)+Tt[2]+3299628645&4294967295)<<23&4294967295|dt>>>9))+((dt=qe+(wt^(pt|~Vt))+Tt[0]+4096336452&4294967295)<<6&4294967295|dt>>>26))+((dt=Vt+(pt^(qe|~wt))+Tt[7]+1126891415&4294967295)<<10&4294967295|dt>>>22))+((dt=wt+(qe^(Vt|~pt))+Tt[14]+2878612391&4294967295)<<15&4294967295|dt>>>17))+((dt=pt+(Vt^(wt|~qe))+Tt[5]+4237533241&4294967295)<<21&4294967295|dt>>>11))+((dt=qe+(wt^(pt|~Vt))+Tt[12]+1700485571&4294967295)<<6&4294967295|dt>>>26))+((dt=Vt+(pt^(qe|~wt))+Tt[3]+2399980690&4294967295)<<10&4294967295|dt>>>22))+((dt=wt+(qe^(Vt|~pt))+Tt[10]+4293915773&4294967295)<<15&4294967295|dt>>>17))+((dt=pt+(Vt^(wt|~qe))+Tt[1]+2240044497&4294967295)<<21&4294967295|dt>>>11))+((dt=qe+(wt^(pt|~Vt))+Tt[8]+1873313359&4294967295)<<6&4294967295|dt>>>26))+((dt=Vt+(pt^(qe|~wt))+Tt[15]+4264355552&4294967295)<<10&4294967295|dt>>>22))+((dt=wt+(qe^(Vt|~pt))+Tt[6]+2734768916&4294967295)<<15&4294967295|dt>>>17))+((dt=pt+(Vt^(wt|~qe))+Tt[13]+1309151649&4294967295)<<21&4294967295|dt>>>11))+((Vt=(qe=pt+((dt=qe+(wt^(pt|~Vt))+Tt[4]+4149444226&4294967295)<<6&4294967295|dt>>>26))+((dt=Vt+(pt^(qe|~wt))+Tt[11]+3174756917&4294967295)<<10&4294967295|dt>>>22))^((wt=Vt+((dt=wt+(qe^(Vt|~pt))+Tt[2]+718787259&4294967295)<<15&4294967295|dt>>>17))|~qe))+Tt[9]+3951481745&4294967295,Et.g[0]=Et.g[0]+qe&4294967295,Et.g[1]=Et.g[1]+(wt+(dt<<21&4294967295|dt>>>11))&4294967295,Et.g[2]=Et.g[2]+wt&4294967295,Et.g[3]=Et.g[3]+Vt&4294967295}function _(Et,qe){this.h=qe;for(var pt=[],Tt=!0,wt=Et.length-1;0<=wt;wt--){var Vt=0|Et[wt];Tt&&Vt==qe||(pt[wt]=Vt,Tt=!1)}this.g=pt}(function t(Et,qe){function pt(){}pt.prototype=qe.prototype,Et.D=qe.prototype,Et.prototype=new pt,Et.prototype.constructor=Et,Et.C=function(Tt,wt,Vt){for(var dt=Array(arguments.length-2),su=2;su<arguments.length;su++)dt[su-2]=arguments[su];return qe.prototype[wt].apply(Tt,dt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Et,qe){void 0===qe&&(qe=Et.length);for(var pt=qe-this.blockSize,Tt=this.B,wt=this.h,Vt=0;Vt<qe;){if(0==wt)for(;Vt<=pt;)u(this,Et,Vt),Vt+=this.blockSize;if("string"==typeof Et){for(;Vt<qe;)if(Tt[wt++]=Et.charCodeAt(Vt++),wt==this.blockSize){u(this,Tt),wt=0;break}}else for(;Vt<qe;)if(Tt[wt++]=Et[Vt++],wt==this.blockSize){u(this,Tt),wt=0;break}}this.h=wt,this.o+=qe},s.prototype.v=function(){var Et=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Et[0]=128;for(var qe=1;qe<Et.length-8;++qe)Et[qe]=0;var pt=8*this.o;for(qe=Et.length-8;qe<Et.length;++qe)Et[qe]=255&pt,pt/=256;for(this.u(Et),Et=Array(16),qe=pt=0;4>qe;++qe)for(var Tt=0;32>Tt;Tt+=8)Et[pt++]=this.g[qe]>>>Tt&255;return Et};var S={};function N(Et){return-128<=Et&&128>Et?function p(Et,qe){var pt=S;return Object.prototype.hasOwnProperty.call(pt,Et)?pt[Et]:pt[Et]=qe(Et)}(Et,function(qe){return new _([0|qe],0>qe?-1:0)}):new _([0|Et],0>Et?-1:0)}function W(Et){if(isNaN(Et)||!isFinite(Et))return we;if(0>Et)return hn(W(-Et));for(var qe=[],pt=1,Tt=0;Et>=pt;Tt++)qe[Tt]=Et/pt|0,pt*=4294967296;return new _(qe,0)}var we=N(0),Ze=N(1),xt=N(16777216);function on(Et){if(0!=Et.h)return!1;for(var qe=0;qe<Et.g.length;qe++)if(0!=Et.g[qe])return!1;return!0}function mn(Et){return-1==Et.h}function hn(Et){for(var qe=Et.g.length,pt=[],Tt=0;Tt<qe;Tt++)pt[Tt]=~Et.g[Tt];return new _(pt,~Et.h).add(Ze)}function Hn(Et,qe){return Et.add(hn(qe))}function rr(Et,qe){for(;(65535&Et[qe])!=Et[qe];)Et[qe+1]+=Et[qe]>>>16,Et[qe]&=65535,qe++}function zn(Et,qe){this.g=Et,this.h=qe}function ur(Et,qe){if(on(qe))throw Error("division by zero");if(on(Et))return new zn(we,we);if(mn(Et))return qe=ur(hn(Et),qe),new zn(hn(qe.g),hn(qe.h));if(mn(qe))return qe=ur(Et,hn(qe)),new zn(hn(qe.g),qe.h);if(30<Et.g.length){if(mn(Et)||mn(qe))throw Error("slowDivide_ only works with positive integers.");for(var pt=Ze,Tt=qe;0>=Tt.l(Et);)pt=Zr(pt),Tt=Zr(Tt);var wt=Er(pt,1),Vt=Er(Tt,1);for(Tt=Er(Tt,2),pt=Er(pt,2);!on(Tt);){var dt=Vt.add(Tt);0>=dt.l(Et)&&(wt=wt.add(pt),Vt=dt),Tt=Er(Tt,1),pt=Er(pt,1)}return qe=Hn(Et,wt.j(qe)),new zn(wt,qe)}for(wt=we;0<=Et.l(qe);){for(pt=Math.max(1,Math.floor(Et.m()/qe.m())),Tt=48>=(Tt=Math.ceil(Math.log(pt)/Math.LN2))?1:Math.pow(2,Tt-48),dt=(Vt=W(pt)).j(qe);mn(dt)||0<dt.l(Et);)dt=(Vt=W(pt-=Tt)).j(qe);on(Vt)&&(Vt=Ze),wt=wt.add(Vt),Et=Hn(Et,dt)}return new zn(wt,Et)}function Zr(Et){for(var qe=Et.g.length+1,pt=[],Tt=0;Tt<qe;Tt++)pt[Tt]=Et.i(Tt)<<1|Et.i(Tt-1)>>>31;return new _(pt,Et.h)}function Er(Et,qe){var pt=qe>>5;qe%=32;for(var Tt=Et.g.length-pt,wt=[],Vt=0;Vt<Tt;Vt++)wt[Vt]=0<qe?Et.i(Vt+pt)>>>qe|Et.i(Vt+pt+1)<<32-qe:Et.i(Vt+pt);return new _(wt,Et.h)}(l=_.prototype).m=function(){if(mn(this))return-hn(this).m();for(var Et=0,qe=1,pt=0;pt<this.g.length;pt++){var Tt=this.i(pt);Et+=(0<=Tt?Tt:4294967296+Tt)*qe,qe*=4294967296}return Et},l.toString=function(Et){if(2>(Et=Et||10)||36<Et)throw Error("radix out of range: "+Et);if(on(this))return"0";if(mn(this))return"-"+hn(this).toString(Et);for(var qe=W(Math.pow(Et,6)),pt=this,Tt="";;){var wt=ur(pt,qe).g,Vt=((0<(pt=Hn(pt,wt.j(qe))).g.length?pt.g[0]:pt.h)>>>0).toString(Et);if(on(pt=wt))return Vt+Tt;for(;6>Vt.length;)Vt="0"+Vt;Tt=Vt+Tt}},l.i=function(Et){return 0>Et?0:Et<this.g.length?this.g[Et]:this.h},l.l=function(Et){return mn(Et=Hn(this,Et))?-1:on(Et)?0:1},l.abs=function(){return mn(this)?hn(this):this},l.add=function(Et){for(var qe=Math.max(this.g.length,Et.g.length),pt=[],Tt=0,wt=0;wt<=qe;wt++){var Vt=Tt+(65535&this.i(wt))+(65535&Et.i(wt)),dt=(Vt>>>16)+(this.i(wt)>>>16)+(Et.i(wt)>>>16);Tt=dt>>>16,pt[wt]=(dt&=65535)<<16|(Vt&=65535)}return new _(pt,-2147483648&pt[pt.length-1]?-1:0)},l.j=function(Et){if(on(this)||on(Et))return we;if(mn(this))return mn(Et)?hn(this).j(hn(Et)):hn(hn(this).j(Et));if(mn(Et))return hn(this.j(hn(Et)));if(0>this.l(xt)&&0>Et.l(xt))return W(this.m()*Et.m());for(var qe=this.g.length+Et.g.length,pt=[],Tt=0;Tt<2*qe;Tt++)pt[Tt]=0;for(Tt=0;Tt<this.g.length;Tt++)for(var wt=0;wt<Et.g.length;wt++){var Vt=this.i(Tt)>>>16,dt=65535&this.i(Tt),su=Et.i(wt)>>>16,eh=65535&Et.i(wt);pt[2*Tt+2*wt]+=dt*eh,rr(pt,2*Tt+2*wt),pt[2*Tt+2*wt+1]+=Vt*eh,rr(pt,2*Tt+2*wt+1),pt[2*Tt+2*wt+1]+=dt*su,rr(pt,2*Tt+2*wt+1),pt[2*Tt+2*wt+2]+=Vt*su,rr(pt,2*Tt+2*wt+2)}for(Tt=0;Tt<qe;Tt++)pt[Tt]=pt[2*Tt+1]<<16|pt[2*Tt];for(Tt=qe;Tt<2*qe;Tt++)pt[Tt]=0;return new _(pt,0)},l.A=function(Et){return ur(this,Et).h},l.and=function(Et){for(var qe=Math.max(this.g.length,Et.g.length),pt=[],Tt=0;Tt<qe;Tt++)pt[Tt]=this.i(Tt)&Et.i(Tt);return new _(pt,this.h&Et.h)},l.or=function(Et){for(var qe=Math.max(this.g.length,Et.g.length),pt=[],Tt=0;Tt<qe;Tt++)pt[Tt]=this.i(Tt)|Et.i(Tt);return new _(pt,this.h|Et.h)},l.xor=function(Et){for(var qe=Math.max(this.g.length,Et.g.length),pt=[],Tt=0;Tt<qe;Tt++)pt[Tt]=this.i(Tt)^Et.i(Tt);return new _(pt,this.h^Et.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lt=He.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=W,_.fromString=function se(Et,qe){if(0==Et.length)throw Error("number format error: empty string");if(2>(qe=qe||10)||36<qe)throw Error("radix out of range: "+qe);if("-"==Et.charAt(0))return hn(se(Et.substring(1),qe));if(0<=Et.indexOf("-"))throw Error('number format error: interior "-" character');for(var pt=W(Math.pow(qe,8)),Tt=we,wt=0;wt<Et.length;wt+=8){var Vt=Math.min(8,Et.length-wt),dt=parseInt(Et.substring(wt,wt+Vt),qe);8>Vt?(Vt=W(Math.pow(qe,Vt)),Tt=Tt.j(Vt).add(W(dt))):Tt=(Tt=Tt.j(pt)).add(W(dt))}return Tt},Pe=He.Integer=_}).apply(typeof bt<"u"?bt:typeof self<"u"?self:typeof window<"u"?window:{});var Jt,kt,Te,Ie,_e,Y,Ae,Xe,zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cn={};(function(){var l,t="function"==typeof Object.defineProperties?Object.defineProperty:function(v,F,q){return v==Array.prototype||v==Object.prototype||(v[F]=q.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof zt&&zt];for(var F=0;F<v.length;++F){var q=v[F];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}(this);!function u(v,F){if(F)e:{var q=s;v=v.split(".");for(var ge=0;ge<v.length-1;ge++){var Rt=v[ge];if(!(Rt in q))break e;q=q[Rt]}(F=F(ge=q[v=v[v.length-1]]))!=ge&&null!=F&&t(q,v,{configurable:!0,writable:!0,value:F})}}("Array.prototype.values",function(v){return v||function(){return function p(v,F){v instanceof String&&(v+="");var q=0,ge=!1,Rt={next:function(){if(!ge&&q<v.length){var Wt=q++;return{value:F(Wt,v[Wt]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return Rt[Symbol.iterator]=function(){return Rt},Rt}(this,function(F,q){return q})}});var _=_||{},S=this||self;function N(v){var F=typeof v;return"array"==(F="object"!=F?F:v?Array.isArray(v)?"array":F:"null")||"object"==F&&"number"==typeof v.length}function W(v){var F=typeof v;return"object"==F&&null!=v||"function"==F}function se(v,F,q){return v.call.apply(v.bind,arguments)}function we(v,F,q){if(!v)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var Rt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Rt,ge),v.apply(F,Rt)}}return function(){return v.apply(F,arguments)}}function Ze(v,F,q){return(Ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?se:we).apply(null,arguments)}function xt(v,F){var q=Array.prototype.slice.call(arguments,1);return function(){var ge=q.slice();return ge.push.apply(ge,arguments),v.apply(this,ge)}}function on(v,F){function q(){}q.prototype=F.prototype,v.aa=F.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(ge,Rt,Wt){for(var Rn=Array(arguments.length-2),Ai=2;Ai<arguments.length;Ai++)Rn[Ai-2]=arguments[Ai];return F.prototype[Rt].apply(ge,Rn)}}function mn(v){const F=v.length;if(0<F){const q=Array(F);for(let ge=0;ge<F;ge++)q[ge]=v[ge];return q}return[]}function hn(v,F){for(let q=1;q<arguments.length;q++){const ge=arguments[q];if(N(ge)){const Rt=v.length||0,Wt=ge.length||0;v.length=Rt+Wt;for(let Rn=0;Rn<Wt;Rn++)v[Rt+Rn]=ge[Rn]}else v.push(ge)}}function rr(v){return/^[\s\xa0]*$/.test(v)}function zn(){var v=S.navigator;return v&&(v=v.userAgent)?v:""}function ur(v){return ur[" "](v),v}ur[" "]=function(){};var Zr=!(-1==zn().indexOf("Gecko")||-1!=zn().toLowerCase().indexOf("webkit")&&-1==zn().indexOf("Edge")||-1!=zn().indexOf("Trident")||-1!=zn().indexOf("MSIE")||-1!=zn().indexOf("Edge"));function Er(v,F,q){for(const ge in v)F.call(q,v[ge],ge,v)}function qe(v){const F={};for(const q in v)F[q]=v[q];return F}const pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(v,F){let q,ge;for(let Rt=1;Rt<arguments.length;Rt++){for(q in ge=arguments[Rt],ge)v[q]=ge[q];for(let Wt=0;Wt<pt.length;Wt++)q=pt[Wt],Object.prototype.hasOwnProperty.call(ge,q)&&(v[q]=ge[q])}}function wt(v){var F=1;v=v.split(":");const q=[];for(;0<F&&v.length;)q.push(v.shift()),F--;return v.length&&q.push(v.join(":")),q}function Vt(v){S.setTimeout(()=>{throw v},0)}function dt(){var v=Zp;let F=null;return v.g&&(F=v.g,v.g=v.g.next,v.g||(v.h=null),F.next=null),F}var eh=new class Hn{constructor(F,q){this.i=F,this.j=q,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}(()=>new AI,v=>v.reset());class AI{constructor(){this.next=this.g=this.h=null}set(F,q){this.h=F,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Yu,hf=!1,Zp=new class su{constructor(){this.h=this.g=null}add(F,q){const ge=eh.get();ge.set(F,q),this.h?this.h.next=ge:this.g=ge,this.h=ge}},ay=()=>{const v=S.Promise.resolve(void 0);Yu=()=>{v.then(ly)}};var ly=()=>{for(var v;v=dt();){try{v.h.call(v.g)}catch(q){Vt(q)}var F=eh;F.j(v),100>F.h&&(F.h++,v.next=F.g,F.g=v)}hf=!1};function Zu(){this.s=this.s,this.C=this.C}function Ds(v,F){this.type=v,this.g=this.target=F,this.defaultPrevented=!1}Zu.prototype.s=!1,Zu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ds.prototype.h=function(){this.defaultPrevented=!0};var uy=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var v=!1,F=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};S.addEventListener("test",q,F),S.removeEventListener("test",q,F)}catch{}return v}();function nd(v,F){if(Ds.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,ge=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=F,F=v.relatedTarget){if(Zr){e:{try{ur(F.nodeName);var Rt=!0;break e}catch{}Rt=!1}Rt||(F=null)}}else"mouseover"==q?F=v.fromElement:"mouseout"==q&&(F=v.toElement);this.relatedTarget=F,ge?(this.clientX=void 0!==ge.clientX?ge.clientX:ge.pageX,this.clientY=void 0!==ge.clientY?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:cy[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&nd.aa.h.call(this)}}on(nd,Ds);var cy={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var au="closure_listenable_"+(1e6*Math.random()|0),ff=0;function pf(v,F,q,ge,Rt){this.listener=v,this.proxy=null,this.src=F,this.type=q,this.capture=!!ge,this.ha=Rt,this.key=++ff,this.da=this.fa=!1}function Jp(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function eg(v){this.src=v,this.g={},this.h=0}function ev(v,F){var q=F.type;if(q in v.g){var Wt,ge=v.g[q],Rt=Array.prototype.indexOf.call(ge,F,void 0);(Wt=0<=Rt)&&Array.prototype.splice.call(ge,Rt,1),Wt&&(Jp(F),0==v.g[q].length&&(delete v.g[q],v.h--))}}function th(v,F,q,ge){for(var Rt=0;Rt<v.length;++Rt){var Wt=v[Rt];if(!Wt.da&&Wt.listener==F&&Wt.capture==!!q&&Wt.ha==ge)return Rt}return-1}eg.prototype.add=function(v,F,q,ge,Rt){var Wt=v.toString();(v=this.g[Wt])||(v=this.g[Wt]=[],this.h++);var Rn=th(v,F,ge,Rt);return-1<Rn?(F=v[Rn],q||(F.fa=!1)):((F=new pf(F,this.src,Wt,!!ge,Rt)).fa=q,v.push(F)),F};var gf="closure_lm_"+(1e6*Math.random()|0),tv={};function CI(v,F,q,ge,Rt){if(ge&&ge.once)return dy(v,F,q,ge,Rt);if(Array.isArray(F)){for(var Wt=0;Wt<F.length;Wt++)CI(v,F[Wt],q,ge,Rt);return null}return q=mf(q),v&&v[au]?v.K(F,q,W(ge)?!!ge.capture:!!ge,Rt):TI(v,F,q,!1,ge,Rt)}function TI(v,F,q,ge,Rt,Wt){if(!F)throw Error("Invalid event type");var Rn=W(Rt)?!!Rt.capture:!!Rt,Ai=rv(v);if(Ai||(v[gf]=Ai=new eg(v)),(q=Ai.add(F,q,ge,Rn,Wt)).proxy)return q;if(ge=function DI(){const F=SI;return function v(q){return F.call(v.src,v.listener,q)}}(),q.proxy=ge,ge.src=v,ge.listener=q,v.addEventListener)uy||(Rt=Rn),void 0===Rt&&(Rt=!1),v.addEventListener(F.toString(),ge,Rt);else if(v.attachEvent)v.attachEvent(wI(F.toString()),ge);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(ge)}return q}function dy(v,F,q,ge,Rt){if(Array.isArray(F)){for(var Wt=0;Wt<F.length;Wt++)dy(v,F[Wt],q,ge,Rt);return null}return q=mf(q),v&&v[au]?v.L(F,q,W(ge)?!!ge.capture:!!ge,Rt):TI(v,F,q,!0,ge,Rt)}function bI(v,F,q,ge,Rt){if(Array.isArray(F))for(var Wt=0;Wt<F.length;Wt++)bI(v,F[Wt],q,ge,Rt);else ge=W(ge)?!!ge.capture:!!ge,q=mf(q),v&&v[au]?(v=v.i,(F=String(F).toString())in v.g&&-1<(q=th(Wt=v.g[F],q,ge,Rt))&&(Jp(Wt[q]),Array.prototype.splice.call(Wt,q,1),0==Wt.length&&(delete v.g[F],v.h--))):v&&(v=rv(v))&&(F=v.g[F.toString()],v=-1,F&&(v=th(F,q,ge,Rt)),(q=-1<v?F[v]:null)&&nv(q))}function nv(v){if("number"!=typeof v&&v&&!v.da){var F=v.src;if(F&&F[au])ev(F.i,v);else{var q=v.type,ge=v.proxy;F.removeEventListener?F.removeEventListener(q,ge,v.capture):F.detachEvent?F.detachEvent(wI(q),ge):F.addListener&&F.removeListener&&F.removeListener(ge),(q=rv(F))?(ev(q,v),0==q.h&&(q.src=null,F[gf]=null)):Jp(v)}}}function wI(v){return v in tv?tv[v]:tv[v]="on"+v}function SI(v,F){if(v.da)v=!0;else{F=new nd(F,this);var q=v.listener,ge=v.ha||v.src;v.fa&&nv(v),v=q.call(ge,F)}return v}function rv(v){return(v=v[gf])instanceof eg?v:null}var iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function mf(v){return"function"==typeof v?v:(v[iv]||(v[iv]=function(F){return v.handleEvent(F)}),v[iv])}function Io(){Zu.call(this),this.i=new eg(this),this.M=this,this.F=null}function as(v,F){var q,ge=v.F;if(ge)for(q=[];ge;ge=ge.F)q.push(ge);if(v=v.M,ge=F.type||F,"string"==typeof F)F=new Ds(F,v);else if(F instanceof Ds)F.target=F.target||v;else{var Rt=F;Tt(F=new Ds(ge,v),Rt)}if(Rt=!0,q)for(var Wt=q.length-1;0<=Wt;Wt--){var Rn=F.g=q[Wt];Rt=rd(Rn,ge,!0,F)&&Rt}if(Rt=rd(Rn=F.g=v,ge,!0,F)&&Rt,Rt=rd(Rn,ge,!1,F)&&Rt,q)for(Wt=0;Wt<q.length;Wt++)Rt=rd(Rn=F.g=q[Wt],ge,!1,F)&&Rt}function rd(v,F,q,ge){if(!(F=v.i.g[String(F)]))return!0;F=F.concat();for(var Rt=!0,Wt=0;Wt<F.length;++Wt){var Rn=F[Wt];if(Rn&&!Rn.da&&Rn.capture==q){var Ai=Rn.listener,ls=Rn.ha||Rn.src;Rn.fa&&ev(v.i,Rn),Rt=!1!==Ai.call(ls,ge)&&Rt}}return Rt&&!ge.defaultPrevented}function ov(v,F,q){if("function"==typeof v)q&&(v=Ze(v,q));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Ze(v.handleEvent,v)}return 2147483647<Number(F)?-1:S.setTimeout(v,F||0)}function nh(v){v.g=ov(()=>{v.g=null,v.i&&(v.i=!1,nh(v))},v.l);const F=v.h;v.h=null,v.m.apply(null,F)}on(Io,Zu),Io.prototype[au]=!0,Io.prototype.removeEventListener=function(v,F,q,ge){bI(this,v,F,q,ge)},Io.prototype.N=function(){if(Io.aa.N.call(this),this.i){var F,v=this.i;for(F in v.g){for(var q=v.g[F],ge=0;ge<q.length;ge++)Jp(q[ge]);delete v.g[F],v.h--}}this.F=null},Io.prototype.K=function(v,F,q,ge){return this.i.add(String(v),F,!1,q,ge)},Io.prototype.L=function(v,F,q,ge){return this.i.add(String(v),F,!0,q,ge)};class hy extends Zu{constructor(F,q){super(),this.m=F,this.l=q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:nh(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vf(v){Zu.call(this),this.h=v,this.g={}}on(vf,Zu);var rh=[];function sv(v){Er(v.g,function(F,q){this.g.hasOwnProperty(q)&&nv(F)},v),v.g={}}vf.prototype.N=function(){vf.aa.N.call(this),sv(this)},vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tg=S.JSON.stringify,fy=S.JSON.parse,py=class{stringify(v){return S.JSON.stringify(v,void 0)}parse(v){return S.JSON.parse(v,void 0)}};function av(){}function my(){}av.prototype.h=null;var lu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lv(){Ds.call(this,"d")}function uv(){Ds.call(this,"c")}on(lv,Ds),on(uv,Ds);var id={},_f=null;function yf(){return _f=_f||new Io}function cv(v){Ds.call(this,id.La,v)}function ih(v){const F=yf();as(F,new cv(F))}function vy(v,F){Ds.call(this,id.STAT_EVENT,v),this.stat=F}function bs(v){const F=yf();as(F,new vy(F,v))}function ng(v,F){Ds.call(this,id.Ma,v),this.size=F}function Ju(v,F){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){v()},F)}function If(){this.g=!0}function oh(v,F,q,ge){v.info(function(){return"XMLHTTP TEXT ("+F+"): "+function NI(v,F){if(!v.g)return F;if(!F)return null;try{var q=JSON.parse(F);if(q)for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var ge=q[v];if(!(2>ge.length)){var Rt=ge[1];if(Array.isArray(Rt)&&!(1>Rt.length)){var Wt=Rt[0];if("noop"!=Wt&&"stop"!=Wt&&"close"!=Wt)for(var Rn=1;Rn<Rt.length;Rn++)Rt[Rn]=""}}}return tg(q)}catch{return F}}(v,q)+(ge?" "+ge:"")})}id.La="serverreachability",on(cv,Ds),id.STAT_EVENT="statevent",on(vy,Ds),id.Ma="timingevent",on(ng,Ds),If.prototype.xa=function(){this.g=!1},If.prototype.info=function(){};var rg,sh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ah={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ef(){}function ec(v,F,q,ge){this.j=v,this.i=F,this.l=q,this.R=ge||1,this.U=new vf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lh}function lh(){this.i=null,this.g="",this.h=!1}on(Ef,av),Ef.prototype.g=function(){return new XMLHttpRequest},Ef.prototype.i=function(){return{}},rg=new Ef;var Af={},_y={};function dv(v,F,q){v.L=1,v.v=ag(cu(F)),v.m=q,v.P=!0,hv(v,null)}function hv(v,F){v.F=Date.now(),Cf(v),v.A=cu(v.v);var q=v.A,ge=v.R;Array.isArray(ge)||(ge=[String(ge)]),od(q.i,"t",ge),v.C=0,q=v.j.J,v.h=new lh,v.g=hg(v.j,q?F:null,!v.m),0<v.O&&(v.M=new hy(Ze(v.Y,v,v.g),v.O)),F=v.U,q=v.g,ge=v.ca;var Rt="readystatechange";Array.isArray(Rt)||(Rt&&(rh[0]=Rt.toString()),Rt=rh);for(var Wt=0;Wt<Rt.length;Wt++){var Rn=CI(q,Rt[Wt],ge||F.handleEvent,!1,F.h||F);if(!Rn)break;F.g[Rn.key]=Rn}F=v.H?qe(v.H):{},v.m?(v.u||(v.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,F)):(v.u="GET",v.g.ea(v.A,v.u,null,F)),ih(),function RI(v,F,q,ge,Rt,Wt){v.info(function(){if(v.g)if(Wt)for(var Rn="",Ai=Wt.split("&"),ls=0;ls<Ai.length;ls++){var fi=Ai[ls].split("=");if(1<fi.length){var ws=fi[0];fi=fi[1];var Ss=ws.split("_");Rn=2<=Ss.length&&"type"==Ss[1]?Rn+(ws+"=")+fi+"&":Rn+(ws+"=redacted&")}}else Rn=null;else Rn=Wt;return"XMLHTTP REQ ("+ge+") [attempt "+Rt+"]: "+F+"\n"+q+"\n"+Rn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function ig(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function xI(v,F){var q=v.C,ge=F.indexOf("\n",q);return-1==ge?_y:(q=Number(F.substring(q,ge)),isNaN(q)?Af:(ge+=1)+q>F.length?_y:(F=F.slice(ge,ge+q),v.C=ge+q,F))}function Cf(v){v.S=Date.now()+v.I,yy(v,v.I)}function yy(v,F){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Ju(Ze(v.ba,v),F)}function og(v){v.B&&(S.clearTimeout(v.B),v.B=null)}function uh(v){0==v.j.G||v.J||Nf(v.j,v)}function tc(v){og(v);var F=v.M;F&&"function"==typeof F.ma&&F.ma(),v.M=null,sv(v.U),v.g&&(F=v.g,v.g=null,F.abort(),F.ma())}function Tf(v,F){try{var q=v.j;if(0!=q.G&&(q.g==v||fv(q.h,v)))if(!v.K&&fv(q.h,v)&&3==q.G){try{var ge=q.Da.g.parse(F)}catch{ge=null}if(Array.isArray(ge)&&3==ge.length){var Rt=ge;if(0==Rt[0]){e:if(!q.u){if(q.g){if(!(q.g.F+3e3<v.F))break e;dg(q),Rf(q)}Cv(q),bs(18)}}else q.za=Rt[1],0<q.za-q.T&&37500>Rt[2]&&q.F&&0==q.v&&!q.C&&(q.C=Ju(Ze(q.Za,q),6e3));if(1>=Ay(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else ad(q,11)}else if((v.K||q.g==v)&&dg(q),!rr(F))for(Rt=q.Da.g.parse(F),F=0;F<Rt.length;F++){let fi=Rt[F];if(q.T=fi[0],fi=fi[1],2==q.G)if("c"==fi[0]){q.K=fi[1],q.ia=fi[2];const ws=fi[3];null!=ws&&(q.la=ws,q.j.info("VER="+q.la));const Ss=fi[4];null!=Ss&&(q.Aa=Ss,q.j.info("SVER="+q.Aa));const ud=fi[5];null!=ud&&"number"==typeof ud&&0<ud&&(q.L=ge=1.5*ud,q.j.info("backChannelRequestTimeoutMs_="+ge)),ge=q;const va=v.g;if(va){const gh=va.g?va.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gh){var Wt=ge.h;Wt.g||-1==gh.indexOf("spdy")&&-1==gh.indexOf("quic")&&-1==gh.indexOf("h2")||(Wt.j=Wt.l,Wt.g=new Set,Wt.h&&(pv(Wt,Wt.h),Wt.h=null))}if(ge.D){const gg=va.g?va.g.getResponseHeader("X-HTTP-Session-Id"):null;gg&&(ge.ya=gg,qi(ge.I,ge.D,gg))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms"));var Rn=v;if((ge=q).qa=bv(ge,ge.J?ge.ia:null,ge.W),Rn.K){sg(ge.h,Rn);var Ai=Rn,ls=ge.L;ls&&(Ai.I=ls),Ai.B&&(og(Ai),Cf(Ai)),ge.g=Rn}else Fy(ge);0<q.i.length&&cg(q)}else"stop"!=fi[0]&&"close"!=fi[0]||ad(q,7);else 3==q.G&&("stop"==fi[0]||"close"==fi[0]?"stop"==fi[0]?ad(q,7):ph(q):"noop"!=fi[0]&&q.l&&q.l.ta(fi),q.v=0)}ih()}catch{}}ec.prototype.ca=function(v){v=v.target;const F=this.M;F&&3==al(v)?F.j():this.Y(v)},ec.prototype.Y=function(v){try{if(v==this.g)e:{const Ss=al(this.g);var F=this.g.Ba();if(this.g.Z(),!(3>Ss)&&(3!=Ss||this.g&&(this.h.h||this.g.oa()||Ev(this.g)))){this.J||4!=Ss||7==F||ih(),og(this);var q=this.g.Z();this.X=q;t:if(ig(this)){var ge=Ev(this.g);v="";var Rt=ge.length,Wt=4==al(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tc(this),uh(this);var Rn="";break t}this.h.i=new S.TextDecoder}for(F=0;F<Rt;F++)this.h.h=!0,v+=this.h.i.decode(ge[F],{stream:!(Wt&&F==Rt-1)});ge.length=0,this.h.g+=v,this.C=0,Rn=this.h.g}else Rn=this.g.oa();if(this.o=200==q,function MI(v,F,q,ge,Rt,Wt,Rn){v.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+Rt+"]: "+F+"\n"+q+"\n"+Wt+" "+Rn})}(this.i,this.u,this.A,this.l,this.R,Ss,q),this.o){if(this.T&&!this.K){t:{if(this.g){var Ai,ls=this.g;if((Ai=ls.g?ls.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(Ai)){var fi=Ai;break t}}fi=null}if(!(q=fi)){this.o=!1,this.s=3,bs(12),tc(this),uh(this);break e}oh(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tf(this,q)}if(this.P){let va;for(q=!0;!this.J&&this.C<Rn.length;){if(va=xI(this,Rn),va==_y){4==Ss&&(this.s=4,bs(14),q=!1),oh(this.i,this.l,null,"[Incomplete Response]");break}if(va==Af){this.s=4,bs(15),oh(this.i,this.l,Rn,"[Invalid Chunk]"),q=!1;break}oh(this.i,this.l,va,null),Tf(this,va)}if(ig(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ss||0!=Rn.length||this.h.h||(this.s=1,bs(16),q=!1),this.o=this.o&&q,q){if(0<Rn.length&&!this.W){this.W=!0;var ws=this.j;ws.g==this&&ws.ba&&!ws.M&&(ws.j.info("Great, no buffering proxy detected. Bytes received: "+Rn.length),Tv(ws),ws.M=!0,bs(11))}}else oh(this.i,this.l,Rn,"[Invalid Chunked Response]"),tc(this),uh(this)}else oh(this.i,this.l,Rn,null),Tf(this,Rn);4==Ss&&tc(this),this.o&&!this.J&&(4==Ss?Nf(this.j,this):(this.o=!1,Cf(this)))}else(function ac(v){const F={};v=(v.g&&2<=al(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let ge=0;ge<v.length;ge++){if(rr(v[ge]))continue;var q=wt(v[ge]);const Rt=q[0];if("string"!=typeof(q=q[1]))continue;q=q.trim();const Wt=F[Rt]||[];F[Rt]=Wt,Wt.push(q)}!function Et(v,F){for(const q in v)F.call(void 0,v[q],q,v)}(F,function(ge){return ge.join(", ")})})(this.g),400==q&&0<Rn.indexOf("Unknown SID")?(this.s=3,bs(12)):(this.s=0,bs(13)),tc(this),uh(this)}}}catch{}},ec.prototype.cancel=function(){this.J=!0,tc(this)},ec.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function PI(v,F){v.info(function(){return"TIMEOUT: "+F})}(this.i,this.A),2!=this.L&&(ih(),bs(17)),tc(this),this.s=2,uh(this)):yy(this,this.S-v)};var OI=class{constructor(v,F){this.g=v,this.map=F}};function Iy(v){this.l=v||10,v=S.PerformanceNavigationTiming?0<(v=S.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ey(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Ay(v){return v.h?1:v.g?v.g.size:0}function fv(v,F){return v.h?v.h==F:!!v.g&&v.g.has(F)}function pv(v,F){v.g?v.g.add(F):v.h=F}function sg(v,F){v.h&&v.h==F?v.h=null:v.g&&v.g.has(F)&&v.g.delete(F)}function Cy(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let F=v.i;for(const q of v.g.values())F=F.concat(q.D);return F}return mn(v.i)}function nc(v,F){if(v.forEach&&"function"==typeof v.forEach)v.forEach(F,void 0);else if(N(v)||"string"==typeof v)Array.prototype.forEach.call(v,F,void 0);else for(var q=function FI(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(N(v)||"string"==typeof v){var F=[];v=v.length;for(var q=0;q<v;q++)F.push(q);return F}F=[],q=0;for(const ge in v)F[q++]=ge;return F}}}(v),ge=function kI(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(N(v)){for(var F=[],q=v.length,ge=0;ge<q;ge++)F.push(v[ge]);return F}for(ge in F=[],q=0,v)F[q++]=v[ge];return F}(v),Rt=ge.length,Wt=0;Wt<Rt;Wt++)F.call(void 0,ge[Wt],q&&q[Wt],v)}Iy.prototype.cancel=function(){if(this.i=Cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var ch=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uu(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof uu){this.h=v.h,du(this,v.j),this.o=v.o,this.g=v.g,Df(this,v.s),this.l=v.l;var F=v.i,q=new dh;q.i=F.i,F.g&&(q.g=new Map(F.g),q.h=F.h),Ty(this,q),this.m=v.m}else v&&(F=String(v).match(ch))?(this.h=!1,du(this,F[1]||"",!0),this.o=bf(F[2]||""),this.g=bf(F[3]||"",!0),Df(this,F[4]),this.l=bf(F[5]||"",!0),Ty(this,F[6]||"",!0),this.m=bf(F[7]||"")):(this.h=!1,this.i=new dh(null,this.h))}function cu(v){return new uu(v)}function du(v,F,q){v.j=q?bf(F,!0):F,v.j&&(v.j=v.j.replace(/:$/,""))}function Df(v,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);v.s=F}else v.s=null}function Ty(v,F,q){F instanceof dh?(v.i=F,function _A(v,F){F&&!v.j&&(rc(v),v.i=null,v.g.forEach(function(q,ge){var Rt=ge.toLowerCase();ge!=Rt&&(Sy(this,ge),od(this,Rt,q))},v)),v.j=F}(v.i,v.h)):(q||(F=wf(F,VI)),v.i=new dh(F,v.h))}function qi(v,F,q){v.i.set(F,q)}function ag(v){return qi(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function bf(v,F){return v?F?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function wf(v,F,q){return"string"==typeof v?(v=encodeURI(v).replace(F,Dy),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Dy(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}uu.prototype.toString=function(){var v=[],F=this.j;F&&v.push(wf(F,by,!0),":");var q=this.g;return(q||"file"==F)&&(v.push("//"),(F=this.o)&&v.push(wf(F,by,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(q=this.s)&&v.push(":",String(q))),(q=this.l)&&(this.g&&"/"!=q.charAt(0)&&v.push("/"),v.push(wf(q,"/"==q.charAt(0)?lg:wy,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",wf(q,LI)),v.join("")};var by=/[#\/\?@]/g,wy=/[#\?:]/g,lg=/[#\?]/g,VI=/[#\?@]/g,LI=/#/g;function dh(v,F){this.h=this.g=null,this.i=v||null,this.j=!!F}function rc(v){v.g||(v.g=new Map,v.h=0,v.i&&function gv(v,F){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var ge=v[q].indexOf("="),Rt=null;if(0<=ge){var Wt=v[q].substring(0,ge);Rt=v[q].substring(ge+1)}else Wt=v[q];F(Wt,Rt?decodeURIComponent(Rt.replace(/\+/g," ")):"")}}}(v.i,function(F,q){v.add(decodeURIComponent(F.replace(/\+/g," ")),q)}))}function Sy(v,F){rc(v),F=Fl(v,F),v.g.has(F)&&(v.i=null,v.h-=v.g.get(F).length,v.g.delete(F))}function ic(v,F){return rc(v),F=Fl(v,F),v.g.has(F)}function od(v,F,q){Sy(v,F),0<q.length&&(v.i=null,v.g.set(Fl(v,F),mn(q)),v.h+=q.length)}function Fl(v,F){return F=String(F),v.j&&(F=F.toLowerCase()),F}function oc(v,F,q,ge,Rt){try{Rt&&(Rt.onload=null,Rt.onerror=null,Rt.onabort=null,Rt.ontimeout=null),ge(q)}catch{}}function My(){this.g=new py}function UI(v,F,q){const ge=q||"";try{nc(v,function(Rt,Wt){let Rn=Rt;W(Rt)&&(Rn=tg(Rt)),F.push(ge+Wt+"="+encodeURIComponent(Rn))})}catch(Rt){throw F.push(ge+"type="+encodeURIComponent("_badmap")),Rt}}function hh(v){this.l=v.Ub||null,this.j=v.eb||!1}function vv(v,F){Io.call(this),this.D=v,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Py(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function hu(v){v.readyState=4,v.l=null,v.j=null,v.v=null,sd(v)}function sd(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Ny(v){let F="";return Er(v,function(q,ge){F+=ge,F+=":",F+=q,F+="\r\n"}),F}function _v(v,F,q){e:{for(ge in q){var ge=!1;break e}ge=!0}ge||(q=Ny(q),"string"==typeof v?null!=q&&encodeURIComponent(String(q)):qi(v,F,q))}function uo(v){Io.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=dh.prototype).add=function(v,F){rc(this),this.i=null,v=Fl(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(F),this.h+=1,this},l.forEach=function(v,F){rc(this),this.g.forEach(function(q,ge){q.forEach(function(Rt){v.call(F,Rt,ge,this)},this)},this)},l.na=function(){rc(this);const v=Array.from(this.g.values()),F=Array.from(this.g.keys()),q=[];for(let ge=0;ge<F.length;ge++){const Rt=v[ge];for(let Wt=0;Wt<Rt.length;Wt++)q.push(F[ge])}return q},l.V=function(v){rc(this);let F=[];if("string"==typeof v)ic(this,v)&&(F=F.concat(this.g.get(Fl(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)F=F.concat(v[q])}return F},l.set=function(v,F){return rc(this),this.i=null,ic(this,v=Fl(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[F]),this.h+=1,this},l.get=function(v,F){return v&&0<(v=this.V(v)).length?String(v[0]):F},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],F=Array.from(this.g.keys());for(var q=0;q<F.length;q++){var ge=F[q];const Wt=encodeURIComponent(String(ge)),Rn=this.V(ge);for(ge=0;ge<Rn.length;ge++){var Rt=Wt;""!==Rn[ge]&&(Rt+="="+encodeURIComponent(String(Rn[ge]))),v.push(Rt)}}return this.i=v.join("&")},on(hh,av),hh.prototype.g=function(){return new vv(this.l,this.j)},hh.prototype.i=function(v){return function(){return v}}({}),on(vv,Io),(l=vv.prototype).open=function(v,F){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=F,this.readyState=1,sd(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(F.body=v),(this.D||S).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hu(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Py(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var F=v.value?v.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!v.done}))&&(this.response=this.responseText+=F)}v.done?hu(this):sd(this),3==this.readyState&&Py(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,hu(this))},l.Qa=function(v){this.g&&(this.response=v,hu(this))},l.ga=function(){this.g&&hu(this)},l.setRequestHeader=function(v,F){this.u.append(v,F)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],F=this.h.entries();for(var q=F.next();!q.done;)v.push((q=q.value)[0]+": "+q[1]),q=F.next();return v.join("\r\n")},Object.defineProperty(vv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),on(uo,Io);var yv=/^https?$/i,sc=["POST","PUT"];function Sf(v,F){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=F,v.m=5,Iv(v),ug(v)}function Iv(v){v.A||(v.A=!0,as(v,"complete"),as(v,"error"))}function fh(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=al(v)||2!=v.Z()))if(v.u&&4==al(v))ov(v.Ea,0,v);else if(as(v,"readystatechange"),4==al(v)){v.h=!1;try{const Rn=v.Z();e:switch(Rn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var q;if(!(q=F)){var ge;if(ge=0===Rn){var Rt=String(v.D).match(ch)[1]||null;!Rt&&S.self&&S.self.location&&(Rt=S.self.location.protocol.slice(0,-1)),ge=!yv.test(Rt?Rt.toLowerCase():"")}q=ge}if(q)as(v,"complete"),as(v,"success");else{v.m=6;try{var Wt=2<al(v)?v.g.statusText:""}catch{Wt=""}v.l=Wt+" ["+v.Z()+"]",Iv(v)}}finally{ug(v)}}}function ug(v,F){if(v.g){xy(v);const q=v.g,ge=v.v[0]?()=>{}:null;v.g=null,v.v=null,F||as(v,"ready");try{q.onreadystatechange=ge}catch{}}}function xy(v){v.I&&(S.clearTimeout(v.I),v.I=null)}function al(v){return v.g?v.g.readyState:0}function Ev(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function fu(v,F,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||F}function BI(v){this.Aa=0,this.i=[],this.j=new If,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fu("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fu("baseRetryDelayMs",5e3,v),this.cb=fu("retryDelaySeedMs",1e4,v),this.Wa=fu("forwardChannelMaxRetries",2,v),this.wa=fu("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Iy(v&&v.concurrentRequestLimit),this.Da=new My,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ph(v){if(Av(v),3==v.G){var F=v.U++,q=cu(v.I);if(qi(q,"SID",v.K),qi(q,"RID",F),qi(q,"TYPE","terminate"),Pf(v,q),(F=new ec(v,v.j,F)).L=2,F.v=ag(cu(q)),q=!1,S.navigator&&S.navigator.sendBeacon)try{q=S.navigator.sendBeacon(F.v.toString(),"")}catch{}!q&&S.Image&&((new Image).src=F.v,q=!0),q||(F.g=hg(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Cf(F)}Dv(v)}function Rf(v){v.g&&(Tv(v),v.g.cancel(),v.g=null)}function Av(v){Rf(v),v.u&&(S.clearTimeout(v.u),v.u=null),dg(v),v.h.cancel(),v.s&&("number"==typeof v.s&&S.clearTimeout(v.s),v.s=null)}function cg(v){if(!Ey(v.h)&&!v.s){v.s=!0;var F=v.Ga;Yu||ay(),hf||(Yu(),hf=!0),Zp.add(F,v),v.B=0}}function Oy(v,F){var q;q=F?F.l:v.U++;const ge=cu(v.I);qi(ge,"SID",v.K),qi(ge,"RID",q),qi(ge,"AID",v.T),Pf(v,ge),v.m&&v.o&&_v(ge,v.m,v.o),q=new ec(v,v.j,q,v.B+1),null===v.m&&(q.H=v.o),F&&(v.i=F.D.concat(v.i)),F=ky(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),pv(v.h,q),dv(q,ge,F)}function Pf(v,F){v.H&&Er(v.H,function(q,ge){qi(F,ge,q)}),v.l&&nc({},function(q,ge){qi(F,ge,q)})}function ky(v,F,q){q=Math.min(v.i.length,q);var ge=v.l?Ze(v.l.Na,v.l,v):null;e:{var Rt=v.i;let Wt=-1;for(;;){const Rn=["count="+q];-1==Wt?0<q?(Wt=Rt[0].g,Rn.push("ofs="+Wt)):Wt=0:Rn.push("ofs="+Wt);let Ai=!0;for(let ls=0;ls<q;ls++){let fi=Rt[ls].g;const ws=Rt[ls].map;if(fi-=Wt,0>fi)Wt=Math.max(0,Rt[ls].g-100),Ai=!1;else try{UI(ws,Rn,"req"+fi+"_")}catch{ge&&ge(ws)}}if(Ai){ge=Rn.join("&");break e}}}return v=v.i.splice(0,q),F.D=v,ge}function Fy(v){if(!v.g&&!v.u){v.Y=1;var F=v.Fa;Yu||ay(),hf||(Yu(),hf=!0),Zp.add(F,v),v.v=0}}function Cv(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Ju(Ze(v.Fa,v),Ly(v,v.v)),v.v++,0))}function Tv(v){null!=v.A&&(S.clearTimeout(v.A),v.A=null)}function Vy(v){v.g=new ec(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var F=cu(v.qa);qi(F,"RID","rpc"),qi(F,"SID",v.K),qi(F,"AID",v.T),qi(F,"CI",v.F?"0":"1"),!v.F&&v.ja&&qi(F,"TO",v.ja),qi(F,"TYPE","xmlhttp"),Pf(v,F),v.m&&v.o&&_v(F,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=ag(cu(F)),q.m=null,q.P=!0,hv(q,v)}function dg(v){null!=v.C&&(S.clearTimeout(v.C),v.C=null)}function Nf(v,F){var q=null;if(v.g==F){dg(v),Tv(v),v.g=null;var ge=2}else{if(!fv(v.h,F))return;q=F.D,sg(v.h,F),ge=1}if(0!=v.G)if(F.o)if(1==ge){q=F.m?F.m.length:0,F=Date.now()-F.F;var Rt=v.B;as(ge=yf(),new ng(ge,q)),cg(v)}else Fy(v);else if(3==(Rt=F.s)||0==Rt&&0<F.X||!(1==ge&&function Mf(v,F){return!(Ay(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=F.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Ju(Ze(v.Ga,v,F),Ly(v,v.B)),v.B++,0)))}(v,F)||2==ge&&Cv(v)))switch(q&&0<q.length&&(F=v.h,F.i=F.i.concat(q)),Rt){case 1:ad(v,5);break;case 4:ad(v,10);break;case 3:ad(v,6);break;default:ad(v,2)}}function Ly(v,F){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*F}function ad(v,F){if(v.j.info("Error code "+F),2==F){var q=Ze(v.fb,v),ge=v.Xa;const Rt=!ge;ge=new uu(ge||"//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||du(ge,"https"),ag(ge),Rt?function Ry(v,F){const q=new If;if(S.Image){const ge=new Image;ge.onload=xt(oc,q,"TestLoadImage: loaded",!0,F,ge),ge.onerror=xt(oc,q,"TestLoadImage: error",!1,F,ge),ge.onabort=xt(oc,q,"TestLoadImage: abort",!1,F,ge),ge.ontimeout=xt(oc,q,"TestLoadImage: timeout",!1,F,ge),S.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=v}else F(!1)}(ge.toString(),q):function mv(v,F){new If;const ge=new AbortController,Rt=setTimeout(()=>{ge.abort(),oc(0,0,!1,F)},1e4);fetch(v,{signal:ge.signal}).then(Wt=>{clearTimeout(Rt),oc(0,0,!!Wt.ok,F)}).catch(()=>{clearTimeout(Rt),oc(0,0,!1,F)})}(ge.toString(),q)}else bs(2);v.G=0,v.l&&v.l.sa(F),Dv(v),Av(v)}function Dv(v){if(v.G=0,v.ka=[],v.l){const F=Cy(v.h);(0!=F.length||0!=v.i.length)&&(hn(v.ka,F),hn(v.ka,v.i),v.h.i.length=0,mn(v.i),v.i.length=0),v.l.ra()}}function bv(v,F,q){var ge=q instanceof uu?cu(q):new uu(q);if(""!=ge.g)F&&(ge.g=F+"."+ge.g),Df(ge,ge.s);else{var Rt=S.location;ge=Rt.protocol,F=F?F+"."+Rt.hostname:Rt.hostname,Rt=+Rt.port;var Wt=new uu(null);ge&&du(Wt,ge),F&&(Wt.g=F),Rt&&Df(Wt,Rt),q&&(Wt.l=q),ge=Wt}return F=v.ya,(q=v.D)&&F&&qi(ge,q,F),qi(ge,"VER",v.la),Pf(v,ge),ge}function hg(v,F,q){if(F&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new uo(v.Ca&&!v.pa?new hh({eb:q}):v.pa)).Ha(v.J),F}function wv(){}function fg(){}function ra(v,F){Io.call(this),this.g=new BI(F),this.l=v,this.h=F&&F.messageUrlParams||null,v=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(v?v["X-WebChannel-Content-Type"]=F.messageContentType:v={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(v?v["X-WebChannel-Client-Profile"]=F.va:v={"X-WebChannel-Client-Profile":F.va}),this.g.S=v,(v=F&&F.Sb)&&!rr(v)&&(this.g.m=v),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!rr(F)&&(this.g.D=F,null!==(v=this.h)&&F in v&&F in(v=this.h)&&delete v[F]),this.j=new ld(this)}function pg(v){lv.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var F=v.__sm__;if(F){e:{for(const q in F){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,F=null!==F&&v in F?F[v]:void 0),this.data=F}else this.data=v}function Sv(){uv.call(this),this.status=1}function ld(v){this.g=v}(l=uo.prototype).Ha=function(v){this.J=v},l.ea=function(v,F,q,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);F=F?F.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rg.g(),this.v=function gy(v){return v.h||(v.h=v.i())}(this.o?this.o:rg),this.g.onreadystatechange=Ze(this.Ea,this);try{this.B=!0,this.g.open(F,String(v),!0),this.B=!1}catch(Wt){return void Sf(this,Wt)}if(v=q||"",q=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var Rt in ge)q.set(Rt,ge[Rt]);else{if("function"!=typeof ge.keys||"function"!=typeof ge.get)throw Error("Unknown input type for opt_headers: "+String(ge));for(const Wt of ge.keys())q.set(Wt,ge.get(Wt))}ge=Array.from(q.keys()).find(Wt=>"content-type"==Wt.toLowerCase()),Rt=S.FormData&&v instanceof S.FormData,!(0<=Array.prototype.indexOf.call(sc,F,void 0))||ge||Rt||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Wt,Rn]of q)this.g.setRequestHeader(Wt,Rn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xy(this),this.u=!0,this.g.send(v),this.u=!1}catch(Wt){Sf(this,Wt)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,as(this,"complete"),as(this,"abort"),ug(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ug(this,!0)),uo.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?fh(this):this.bb())},l.bb=function(){fh(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<al(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var F=this.g.responseText;return v&&0==F.indexOf(v)&&(F=F.substring(v.length)),fy(F)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=BI.prototype).la=8,l.G=1,l.connect=function(v,F,q,ge){bs(0),this.W=v,this.H=F||{},q&&void 0!==ge&&(this.H.OSID=q,this.H.OAID=ge),this.F=this.X,this.I=bv(this,null,this.W),cg(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Rt=new ec(this,this.j,v);let Wt=this.o;if(this.S&&(Wt?(Wt=qe(Wt),Tt(Wt,this.S)):Wt=this.S),null!==this.m||this.O||(Rt.H=Wt,Wt=null),this.P)e:{for(var F=0,q=0;q<this.i.length;q++){var ge=this.i[q];if(void 0===(ge="__data__"in ge.map&&"string"==typeof(ge=ge.map.__data__)?ge.length:void 0))break;if(4096<(F+=ge)){F=q;break e}if(4096===F||q===this.i.length-1){F=q+1;break e}}F=1e3}else F=1e3;F=ky(this,Rt,F),qi(q=cu(this.I),"RID",v),qi(q,"CVER",22),this.D&&qi(q,"X-HTTP-Session-Id",this.D),Pf(this,q),Wt&&(this.O?F="headers="+encodeURIComponent(String(Ny(Wt)))+"&"+F:this.m&&_v(q,this.m,Wt)),pv(this.h,Rt),this.Ua&&qi(q,"TYPE","init"),this.P?(qi(q,"$req",F),qi(q,"SID","null"),Rt.T=!0,dv(Rt,q,null)):dv(Rt,q,F),this.G=2}}else 3==this.G&&(v?Oy(this,v):0==this.i.length||Ey(this.h)||Oy(this))},l.Fa=function(){if(this.u=null,Vy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ju(Ze(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bs(10),Rf(this),Vy(this))},l.Za=function(){null!=this.C&&(this.C=null,Rf(this),Cv(this),bs(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),bs(2)):(this.j.info("Failed to ping google.com"),bs(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=wv.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},fg.prototype.g=function(v,F){return new ra(v,F)},on(ra,Io),ra.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ra.prototype.close=function(){ph(this.g)},ra.prototype.o=function(v){var F=this.g;if("string"==typeof v){var q={};q.__data__=v,v=q}else this.u&&((q={}).__data__=tg(v),v=q);F.i.push(new OI(F.Ya++,v)),3==F.G&&cg(F)},ra.prototype.N=function(){this.g.l=null,delete this.j,ph(this.g),delete this.g,ra.aa.N.call(this)},on(pg,lv),on(Sv,uv),on(ld,wv),ld.prototype.ua=function(){as(this.g,"a")},ld.prototype.ta=function(v){as(this.g,new pg(v))},ld.prototype.sa=function(v){as(this.g,new Sv)},ld.prototype.ra=function(){as(this.g,"b")},fg.prototype.createWebChannel=fg.prototype.g,ra.prototype.send=ra.prototype.o,ra.prototype.open=ra.prototype.m,ra.prototype.close=ra.prototype.close,Xe=cn.createWebChannelTransport=function(){return new fg},Ae=cn.getStatEventTarget=function(){return yf()},Y=cn.Event=id,_e=cn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sh.NO_ERROR=0,sh.TIMEOUT=8,sh.HTTP_ERROR=6,Ie=cn.ErrorCode=sh,ah.COMPLETE="complete",Te=cn.EventType=ah,my.EventType=lu,lu.OPEN="a",lu.CLOSE="b",lu.ERROR="c",lu.MESSAGE="d",Io.prototype.listen=Io.prototype.K,kt=cn.WebChannel=my,cn.FetchXmlHttpFactory=hh,uo.prototype.listenOnce=uo.prototype.L,uo.prototype.getLastError=uo.prototype.Ka,uo.prototype.getLastErrorCode=uo.prototype.Ba,uo.prototype.getStatus=uo.prototype.Z,uo.prototype.getResponseJson=uo.prototype.Oa,uo.prototype.getResponseText=uo.prototype.oa,uo.prototype.send=uo.prototype.ea,uo.prototype.setWithCredentials=uo.prototype.Ha,Jt=cn.XhrIo=uo}).apply(typeof zt<"u"?zt:typeof self<"u"?self:typeof window<"u"?window:{});const Ue="@firebase/firestore";class Ne{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ne.UNAUTHENTICATED=new Ne(null),Ne.GOOGLE_CREDENTIALS=new Ne("google-credentials-uid"),Ne.FIRST_PARTY=new Ne("first-party-uid"),Ne.MOCK_USER=new Ne("mock-user");let tt="10.14.0";const ot=new rt.Vy("@firebase/firestore");function Mt(){return ot.logLevel}function lt(l,...t){if(ot.logLevel<=rt.$b.DEBUG){const i=t.map(kn);ot.debug(`Firestore (${tt}): ${l}`,...i)}}function an(l,...t){if(ot.logLevel<=rt.$b.ERROR){const i=t.map(kn);ot.error(`Firestore (${tt}): ${l}`,...i)}}function Cn(l,...t){if(ot.logLevel<=rt.$b.WARN){const i=t.map(kn);ot.warn(`Firestore (${tt}): ${l}`,...i)}}function kn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Ft(l="Unexpected state"){const t=`FIRESTORE (${tt}) INTERNAL ASSERTION FAILED: `+l;throw an(t),new Error(t)}function Kt(l,t){l||Ft()}function qt(l,t){return l}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ye.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pt{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class yt{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ne.UNAUTHENTICATED))}shutdown(){}}class Kn{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Tn{constructor(t){this.t=t,this.currentUser=Ne.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var s=this;Kt(void 0===this.o);let u=this.i;const p=W=>this.i!==u?(u=this.i,i(W)):Promise.resolve();let _=new Pt;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Pt,t.enqueueRetryable(()=>p(this.currentUser))};const S=()=>{const W=_;t.enqueueRetryable((0,pe.A)(function*(){yield W.promise,yield p(s.currentUser)}))},N=W=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.o&&(this.auth.addAuthTokenListener(this.o),S())};this.t.onInit(W=>N(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?N(W):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Pt)}},0),S()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt("string"==typeof s.accessToken),new yt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(null===t||"string"==typeof t),new Ne(t)}}class gn{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Ne.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zn{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new gn(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ne.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gn{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Kt(void 0===this.o);const s=p=>{null!=p.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,lt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(p.token):Promise.resolve()};this.o=p=>{t.enqueueRetryable(()=>s(p))};const u=p=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Kt("string"==typeof i.token),this.R=i.token,new Qn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function br(l){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class Xr{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=br(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function _n(l,t){return l<t?-1:l>t?1:0}function Ur(l,t,i){return l.length===t.length&&l.every((s,u)=>i(s,t[u]))}function Yn(l){return l+"\0"}class ar{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Oe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Oe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new Oe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ar.fromMillis(Date.now())}static fromDate(t){return ar.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*i));return new ar(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_n(this.nanoseconds,t.nanoseconds):_n(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new fn(t)}static min(){return new fn(new ar(0,0))}static max(){return new fn(new ar(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ci{constructor(t,i,s){void 0===i?i=0:i>t.length&&Ft(),void 0===s?s=t.length-i:s>t.length-i&&Ft(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return 0===ci.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ci?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const p=t.get(u),_=i.get(u);if(p<_)return-1;if(p>_)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Ln extends ci{construct(t,i,s){return new Ln(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new Oe(Me.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Ln(i)}static emptyPath(){return new Ln([])}}const ir=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends ci{construct(t,i,s){return new sr(t,i,s)}static isValidIdentifier(t){return ir.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(t){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new Oe(Me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;u<t.length;){const S=t[u];if("\\"===S){if(u+1===t.length)throw new Oe(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const N=t[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new Oe(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=N,u+=2}else"`"===S?(_=!_,u++):"."!==S||_?(s+=S,u++):(p(),u++)}if(p(),_)throw new Oe(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sr(i)}static emptyPath(){return new sr([])}}class nn{constructor(t){this.path=t}static fromPath(t){return new nn(Ln.fromString(t))}static fromName(t){return new nn(Ln.fromString(t).popFirst(5))}static empty(){return new nn(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Ln.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return Ln.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nn(new Ln(t.slice()))}}class Nt{constructor(t,i,s,u){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=u}}function ft(l){return l.fields.find(t=>2===t.kind)}function Ot(l){return l.fields.filter(t=>2!==t.kind)}Nt.UNKNOWN_ID=-1;class ut{constructor(t,i){this.fieldPath=t,this.kind=i}}class ye{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new ye(0,St.min())}}function Se(l,t){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=fn.fromTimestamp(1e9===s?new ar(i+1,0):new ar(i,s));return new St(u,nn.empty(),t)}function Qe(l){return new St(l.readTime,l.key,-1)}class St{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new St(fn.min(),nn.empty(),-1)}static max(){return new St(fn.max(),nn.empty(),-1)}}function mt(l,t){let i=l.readTime.compareTo(t.readTime);return 0!==i?i:(i=nn.comparator(l.documentKey,t.documentKey),0!==i?i:_n(l.largestBatchId,t.largestBatchId))}const yn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function gr(l){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,pe.A)(function*(l){if(l.code!==Me.FAILED_PRECONDITION||l.message!==yn)throw l;lt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new at((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(t,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):at.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):at.reject(i)}static resolve(t){return new at((i,s)=>{i(t)})}static reject(t){return new at((i,s)=>{s(t)})}static waitFor(t){return new at((i,s)=>{let u=0,p=0,_=!1;t.forEach(S=>{++u,S.next(()=>{++p,_&&p===u&&i()},N=>s(N))}),_=!0,p===u&&i()})}static or(t){let i=at.resolve(!1);for(const s of t)i=i.next(u=>u?at.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(t,i){return new at((s,u)=>{const p=t.length,_=new Array(p);let S=0;for(let N=0;N<p;N++){const W=N;i(t[W]).next(se=>{_[W]=se,++S,S===p&&s(_)},se=>u(se))}})}static doWhile(t,i){return new at((s,u)=>{const p=()=>{!0===t()?i().next(()=>{p()},u):s()};p()})}}class mr{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new Pt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Pn(t,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Ri(s.target.error);this.V.reject(new Pn(t,u))}}static open(t,i,s,u){try{return new mr(i,t.transaction(u,s))}catch(p){throw new Pn(i,p)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(lt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Si(i)}}class xn{constructor(t,i,s){this.name=t,this.version=i,this.p=s,12.2===xn.S((0,Ye.ZQ)())&&an("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return lt("SimpleDb","Removing database:",t),ui(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Ye.zW)())return!1;if(xn.v())return!0;const t=(0,Ye.ZQ)(),i=xn.S(t),s=0<i&&i<10,u=zr(t),p=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||p)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var i=this;return(0,pe.A)(function*(){return i.db||(lt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=_=>{s(_.target.result)},p.onblocked=()=>{u(new Pn(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const S=_.target.error;u("VersionError"===S.name?new Oe(Me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Oe(Me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Pn(t,S))},p.onupgradeneeded=_=>{lt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,p.transaction,_.oldVersion,i.version).next(()=>{lt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,s,u){var p=this;return(0,pe.A)(function*(){const _="readonly"===i;let S=0;for(;;){++S;try{p.db=yield p.M(t);const N=mr.open(p.db,t,_?"readonly":"readwrite",s),W=u(N).next(se=>(N.g(),se)).catch(se=>(N.abort(se),at.reject(se))).toPromise();return W.catch(()=>{}),yield N.m,W}catch(N){const W=N,se="FirebaseError"!==W.name&&S<3;if(lt("SimpleDb","Transaction failed with error:",W.message,"Retrying:",se),p.close(),!se)return Promise.reject(W)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function zr(l){const t=l.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Br{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return ui(this.B.delete())}}class Pn extends Oe{constructor(t,i){super(Me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function ri(l){return"IndexedDbTransactionError"===l.name}class Si{constructor(t){this.store=t}put(t,i){let s;return void 0!==i?(lt("SimpleDb","PUT",this.store.name,t,i),s=this.store.put(i,t)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),ui(s)}add(t){return lt("SimpleDb","ADD",this.store.name,t,t),ui(this.store.add(t))}get(t){return ui(this.store.get(t)).next(i=>(void 0===i&&(i=null),lt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return lt("SimpleDb","DELETE",this.store.name,t),ui(this.store.delete(t))}count(){return lt("SimpleDb","COUNT",this.store.name),ui(this.store.count())}U(t,i){const s=this.options(t,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new at((_,S)=>{p.onerror=N=>{S(N.target.error)},p.onsuccess=N=>{_(N.target.result)}})}{const p=this.cursor(s),_=[];return this.W(p,(S,N)=>{_.push(N)}).next(()=>_)}}G(t,i){const s=this.store.getAll(t,null===i?void 0:i);return new at((u,p)=>{s.onerror=_=>{p(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(t,i){lt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,i);s.H=!1;const u=this.cursor(s);return this.W(u,(p,_,S)=>S.delete())}J(t,i){let s;i?s=t:(s={},i=t);const u=this.cursor(s);return this.W(u,i)}Y(t){const i=this.cursor({});return new at((s,u)=>{i.onerror=p=>{const _=Ri(p.target.error);u(_)},i.onsuccess=p=>{const _=p.target.result;_?t(_.primaryKey,_.value).next(S=>{S?_.continue():s()}):s()}})}W(t,i){const s=[];return new at((u,p)=>{t.onerror=_=>{p(_.target.error)},t.onsuccess=_=>{const S=_.target.result;if(!S)return void u();const N=new Br(S),W=i(S.primaryKey,S.value,N);if(W instanceof at){const se=W.catch(we=>(N.done(),at.reject(we)));s.push(se)}N.isDone?u():null===N.K?S.continue():S.continue(N.K)}}).next(()=>at.waitFor(s))}options(t,i){let s;return void 0!==t&&("string"==typeof t?s=t:i=t),{index:s,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,i):s.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function ui(l){return new at((t,i)=>{l.onsuccess=s=>{t(s.target.result)},l.onerror=s=>{const u=Ri(s.target.error);i(u)}})}let no=!1;function Ri(l){const t=xn.S((0,Ye.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return no||(no=!0,setTimeout(()=>{throw s},0)),s}}return l}class dr{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;lt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,pe.A)(function*(){i.task=null;try{lt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){ri(s)?lt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield gr(s)}yield i.X(6e4)}))}}class te{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,pe.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,t))})()}te(t,i){const s=new Set;let u=i,p=!0;return at.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(_=>{if(null!==_&&!s.has(_))return lt("IndexBackfiller",`Processing collection: ${_}`),this.ne(t,_,u).next(S=>{u-=S,s.add(_)});p=!1})).next(()=>i-u)}ne(t,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,s).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(t,_).next(()=>this.re(u,p)).next(S=>(lt("IndexBackfiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(t,i,S))).next(()=>_.size)}))}re(t,i){let s=t;return i.changes.forEach((u,p)=>{const _=Qe(p);mt(_,s)>0&&(s=_)}),new St(s.readTime,s.documentKey,Math.max(i.batchId,t.largestBatchId))}}let z=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function he(l){return null==l}function K(l){return 0===l&&1/l==-1/0}function Q(l){return"number"==typeof l&&Number.isInteger(l)&&!K(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function me(l){let t="";for(let i=0;i<l.length;i++)t.length>0&&(t=$t(t)),t=gt(l.get(i),t);return $t(t)}function gt(l,t){let i=t;const s=l.length;for(let u=0;u<s;u++){const p=l.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function $t(l){return l+"\x01\x01"}function tn(l){const t=l.length;if(Kt(t>=2),2===t)return Kt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Ln.emptyPath();const i=t-2,s=[];let u="";for(let p=0;p<t;){const _=l.indexOf("\x01",p);switch((_<0||_>i)&&Ft(),l.charAt(_+1)){case"\x01":const S=l.substring(p,_);let N;0===u.length?N=S:(u+=S,N=u,u=""),s.push(N);break;case"\x10":u+=l.substring(p,_),u+="\0";break;case"\x11":u+=l.substring(p,_+1);break;default:Ft()}p=_+2}return new Ln(s)}const Un=["userId","batchId"];function Sn(l,t){return[l,me(t)]}function Fn(l,t,i){return[l,me(t),i]}const Jr={},Jn=["prefixPath","collectionGroup","readTime","documentId"],ii=["prefixPath","collectionGroup","documentId"],_i=["collectionGroup","readTime","prefixPath","documentId"],Xi=["canonicalId","targetId"],ei=["targetId","path"],co=["path","targetId"],Mi=["collectionId","parent"],Qi=["indexId","uid"],xo=["uid","sequenceNumber"],Xo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ro=["indexId","uid","orderedDocumentKey"],Eo=["userId","collectionPath","documentId"],Ao=["userId","collectionPath","largestBatchId"],Rs=["userId","collectionGroup","largestBatchId"],Pi=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pi=[...Pi,"documentOverlays"],hs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],er=hs,wr=[...er,"indexConfiguration","indexState","indexEntries"],Ia=wr,Ms=[...wr,"globals"];class Qo extends Dn{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function oi(l,t){const i=qt(l);return xn.F(i._e,t)}function Ea(l){let t=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t++;return t}function ao(l,t){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t(i,l[i])}function Yo(l){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t))return!1;return!0}class Qr{constructor(t,i){this.comparator=t,this.root=i||gi.EMPTY}insert(t,i){return new Qr(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(t){return new Qr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gi.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new di(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new di(this.root,t,this.comparator,!1)}getReverseIterator(){return new di(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new di(this.root,t,this.comparator,!0)}}class di{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!t.isEmpty();)if(p=i?s(t.key,i):1,i&&u&&(p*=-1),p<0)t=this.isReverse?t.left:t.right;else{if(0===p){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gi{constructor(t,i,s,u,p){this.key=t,this.value=i,this.color=null!=s?s:gi.RED,this.left=null!=u?u:gi.EMPTY,this.right=null!=p?p:gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,p){return new gi(null!=t?t:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const p=s(t,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(t,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return gi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const t=this.left.check();if(t!==this.right.check())throw Ft();return t+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1,gi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(t,i,s,u,p){return this}insert(t,i,s){return new gi(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(t){this.comparator=t,this.data=new Qr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ps(this.data.getIterator())}getIteratorFrom(t){return new Ps(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof xr)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new xr(this.comparator);return i.data=t,i}}class Ps{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function io(l){return l.hasNext()?l.getNext():void 0}class Vr{constructor(t){this.fields=t,t.sort(sr.comparator)}static empty(){return new Vr([])}unionWith(t){let i=new xr(sr.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Vr(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ur(this.fields,t.fields,(i,s)=>i.isEqual(s))}}class R extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class le{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new R("Invalid base64 string: "+p):p}}(t);return new le(i)}static fromUint8Array(t){const i=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(t);return new le(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _n(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}le.EMPTY_BYTE_STRING=new le("");const x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function C(l){if(Kt(!!l),"string"==typeof l){let t=0;const i=x.exec(l);if(Kt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:O(l.seconds),nanos:O(l.nanos)}}function O(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ee(l){return"string"==typeof l?le.fromBase64String(l):le.fromUint8Array(l)}function ke(l){var t,i;return"server_timestamp"===(null===(i=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function it(l){const t=l.mapValue.fields.__previous_value__;return ke(t)?it(t):t}function nt(l){const t=C(l.mapValue.fields.__local_write_time__.timestampValue);return new ar(t.seconds,t.nanos)}class Ht{constructor(t,i,s,u,p,_,S,N,W){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.longPollingOptions=N,this.useFetchStreams=W}}class It{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new It("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof It&&t.projectId===this.projectId&&t.database===this.database}}const jt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zt={nullValue:"NULL_VALUE"};function dn(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?ke(l)?4:Jo(l)?9007199254740991:Zo(l)?10:11:Ft()}function In(l,t){if(l===t)return!0;const i=dn(l);if(i!==dn(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===t.booleanValue;case 4:return nt(l).isEqual(nt(t));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=C(u.timestampValue),S=C(p.timestampValue);return _.seconds===S.seconds&&_.nanos===S.nanos}(l,t);case 5:return l.stringValue===t.stringValue;case 6:return p=t,Ee(l.bytesValue).isEqual(Ee(p.bytesValue));case 7:return l.referenceValue===t.referenceValue;case 8:return function(u,p){return O(u.geoPointValue.latitude)===O(p.geoPointValue.latitude)&&O(u.geoPointValue.longitude)===O(p.geoPointValue.longitude)}(l,t);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return O(u.integerValue)===O(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=O(u.doubleValue),S=O(p.doubleValue);return _===S?K(_)===K(S):isNaN(_)&&isNaN(S)}return!1}(l,t);case 9:return Ur(l.arrayValue.values||[],t.arrayValue.values||[],In);case 10:case 11:return function(u,p){const _=u.mapValue.fields||{},S=p.mapValue.fields||{};if(Ea(_)!==Ea(S))return!1;for(const N in _)if(_.hasOwnProperty(N)&&(void 0===S[N]||!In(_[N],S[N])))return!1;return!0}(l,t);default:return Ft()}var p}function Vn(l,t){return void 0!==(l.values||[]).find(i=>In(i,t))}function Mn(l,t){if(l===t)return 0;const i=dn(l),s=dn(t);if(i!==s)return _n(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return _n(l.booleanValue,t.booleanValue);case 2:return function(p,_){const S=O(p.integerValue||p.doubleValue),N=O(_.integerValue||_.doubleValue);return S<N?-1:S>N?1:S===N?0:isNaN(S)?isNaN(N)?0:-1:1}(l,t);case 3:return kr(l.timestampValue,t.timestampValue);case 4:return kr(nt(l),nt(t));case 5:return _n(l.stringValue,t.stringValue);case 6:return function(p,_){const S=Ee(p),N=Ee(_);return S.compareTo(N)}(l.bytesValue,t.bytesValue);case 7:return function(p,_){const S=p.split("/"),N=_.split("/");for(let W=0;W<S.length&&W<N.length;W++){const se=_n(S[W],N[W]);if(0!==se)return se}return _n(S.length,N.length)}(l.referenceValue,t.referenceValue);case 8:return function(p,_){const S=_n(O(p.latitude),O(_.latitude));return 0!==S?S:_n(O(p.longitude),O(_.longitude))}(l.geoPointValue,t.geoPointValue);case 9:return Wr(l.arrayValue,t.arrayValue);case 10:return function(p,_){var S,N,W,se;const xt=null===(S=(p.fields||{}).value)||void 0===S?void 0:S.arrayValue,on=null===(N=(_.fields||{}).value)||void 0===N?void 0:N.arrayValue,mn=_n((null===(W=null==xt?void 0:xt.values)||void 0===W?void 0:W.length)||0,(null===(se=null==on?void 0:on.values)||void 0===se?void 0:se.length)||0);return 0!==mn?mn:Wr(xt,on)}(l.mapValue,t.mapValue);case 11:return function(p,_){if(p===jt.mapValue&&_===jt.mapValue)return 0;if(p===jt.mapValue)return 1;if(_===jt.mapValue)return-1;const S=p.fields||{},N=Object.keys(S),W=_.fields||{},se=Object.keys(W);N.sort(),se.sort();for(let we=0;we<N.length&&we<se.length;++we){const Ze=_n(N[we],se[we]);if(0!==Ze)return Ze;const xt=Mn(S[N[we]],W[se[we]]);if(0!==xt)return xt}return _n(N.length,se.length)}(l.mapValue,t.mapValue);default:throw Ft()}}function kr(l,t){if("string"==typeof l&&"string"==typeof t&&l.length===t.length)return _n(l,t);const i=C(l),s=C(t),u=_n(i.seconds,s.seconds);return 0!==u?u:_n(i.nanos,s.nanos)}function Wr(l,t){const i=l.values||[],s=t.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=Mn(i[u],s[u]);if(p)return p}return _n(i.length,s.length)}function ti(l){return $r(l)}function $r(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=C(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ee(l.bytesValue).toBase64():"referenceValue"in l?nn.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=$r(p);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const _ of s)p?p=!1:u+=",",u+=`${_}:${$r(i.fields[_])}`;return u+"}"}(l.mapValue):Ft()}function Ci(l,t){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${t.path.canonicalString()}`}}function Yi(l){return!!l&&"integerValue"in l}function Oi(l){return!!l&&"arrayValue"in l}function go(l){return!!l&&"nullValue"in l}function oo(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function fs(l){return!!l&&"mapValue"in l}function Zo(l){var t,i;return"__vector__"===(null===(i=((null===(t=null==l?void 0:l.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ho(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const t={mapValue:{fields:{}}};return ao(l.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ho(s)),t}if(l.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ho(l.arrayValue.values[i]);return t}return Object.assign({},l)}function Jo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const oa={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function es(l){return"nullValue"in l?Zt:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?Ci(It.empty(),nn.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?Zo(l)?oa:{mapValue:{}}:Ft()}function Ni(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?Ci(It.empty(),nn.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?oa:"mapValue"in l?Zo(l)?{mapValue:{}}:jt:Ft()}function Oo(l,t){const i=Mn(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?-1:!l.inclusive&&t.inclusive?1:0}function ps(l,t){const i=Mn(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?1:!l.inclusive&&t.inclusive?-1:0}class Zi{constructor(t){this.value=t}static empty(){return new Zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!fs(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ho(i)}setAll(t){let i=sr.emptyPath(),s={},u=[];t.forEach((_,S)=>{if(!i.isImmediateParentOf(S)){const N=this.getFieldsMap(i);this.applyChanges(N,s,u),s={},u=[],i=S.popLast()}_?s[S.lastSegment()]=ho(_):u.push(S.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(t){const i=this.field(t.popLast());fs(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return In(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];fs(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){ao(i,(u,p)=>t[u]=p);for(const u of s)delete t[u]}clone(){return new Zi(ho(this.value))}}function Ns(l){const t=[];return ao(l.fields,(i,s)=>{const u=new sr([i]);if(fs(s)){const p=Ns(s.mapValue).fields;if(0===p.length)t.push(u);else for(const _ of p)t.push(u.child(_))}else t.push(u)}),new Vr(t)}class Rr{constructor(t,i,s,u,p,_,S){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=_,this.documentState=S}static newInvalidDocument(t){return new Rr(t,0,fn.min(),fn.min(),fn.min(),Zi.empty(),0)}static newFoundDocument(t,i,s,u){return new Rr(t,1,i,fn.min(),s,u,0)}static newNoDocument(t,i){return new Rr(t,2,i,fn.min(),fn.min(),Zi.empty(),0)}static newUnknownDocument(t,i){return new Rr(t,3,i,fn.min(),fn.min(),Zi.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Rr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hr{constructor(t,i){this.position=t,this.inclusive=i}}function mo(l,t,i){let s=0;for(let u=0;u<l.position.length;u++){const p=t[u],_=l.position[u];if(s=p.field.isKeyField()?nn.comparator(nn.fromName(_.referenceValue),i.key):Mn(_,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function ko(l,t){if(null===l)return null===t;if(null===t||l.inclusive!==t.inclusive||l.position.length!==t.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!In(l.position[i],t.position[i]))return!1;return!0}class vo{constructor(t,i="asc"){this.field=t,this.dir=i}}function sa(l,t){return l.dir===t.dir&&l.field.isEqual(t.field)}class gs{}class qn extends gs{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,s):new ms(t,i,s):"array-contains"===i?new dl(t,s):"in"===i?new hl(t,s):"not-in"===i?new H(t,s):"array-contains-any"===i?new M(t,s):new qn(t,i,s)}static createKeyFieldInFilter(t,i,s){return"in"===i?new cl(t,s):new Ll(t,s)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Mn(i,this.value)):null!==i&&dn(this.value)===dn(i)&&this.matchesComparison(Mn(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends gs{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new Ar(t,i)}matches(t){return Aa(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Aa(l){return"and"===l.op}function Ls(l){return"or"===l.op}function Us(l){return Ca(l)&&Aa(l)}function Ca(l){for(const t of l.filters)if(t instanceof Ar)return!1;return!0}function xs(l){if(l instanceof qn)return l.field.canonicalString()+l.op.toString()+ti(l.value);if(Us(l))return l.filters.map(t=>xs(t)).join(",");{const t=l.filters.map(i=>xs(i)).join(",");return`${l.op}(${t})`}}function ja(l,t){return l instanceof qn?(s=l,(u=t)instanceof qn&&s.op===u.op&&s.field.isEqual(u.field)&&In(s.value,u.value)):l instanceof Ar?function(s,u){return u instanceof Ar&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,_,S)=>p&&ja(_,u.filters[S]),!0)}(l,t):void Ft();var s,u}function aa(l,t){const i=l.filters.concat(t);return Ar.create(i,l.op)}function Kr(l){return l instanceof qn?`${(i=l).field.canonicalString()} ${i.op} ${ti(i.value)}`:l instanceof Ar?function(i){return i.op.toString()+" {"+i.getFilters().map(Kr).join(" ,")+"}"}(l):"Filter";var i}class ms extends qn{constructor(t,i,s){super(t,i,s),this.key=nn.fromName(s.referenceValue)}matches(t){const i=nn.comparator(t.key,this.key);return this.matchesComparison(i)}}class cl extends qn{constructor(t,i){super(t,"in",i),this.keys=Co(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Ll extends qn{constructor(t,i){super(t,"not-in",i),this.keys=Co(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Co(l,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>nn.fromName(s.referenceValue))}class dl extends qn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Oi(i)&&Vn(i.arrayValue,this.value)}}class hl extends qn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&Vn(this.value.arrayValue,i)}}class H extends qn{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!Vn(this.value.arrayValue,i)}}class M extends qn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Oi(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Vn(this.value.arrayValue,s))}}class J{constructor(t,i=null,s=[],u=[],p=null,_=null,S=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=_,this.endAt=S,this.ue=null}}function $(l,t=null,i=[],s=[],u=null,p=null,_=null){return new J(l,t,i,s,u,p,_)}function fe(l){const t=qt(l);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>xs(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),he(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ti(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ti(s)).join(",")),t.ue=i}return t.ue}function rn(l,t){if(l.limit!==t.limit||l.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!sa(l.orderBy[i],t.orderBy[i]))return!1;if(l.filters.length!==t.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!ja(l.filters[i],t.filters[i]))return!1;return l.collectionGroup===t.collectionGroup&&!!l.path.isEqual(t.path)&&!!ko(l.startAt,t.startAt)&&ko(l.endAt,t.endAt)}function Xn(l){return nn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function ai(l,t){return l.filters.filter(i=>i instanceof qn&&i.field.isEqual(t))}function Ii(l,t,i){let s=Zt,u=!0;for(const p of ai(l,t)){let _=Zt,S=!0;switch(p.op){case"<":case"<=":_=es(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,S=!1;break;case"!=":case"not-in":_=Zt}Oo({value:s,inclusive:u},{value:_,inclusive:S})<0&&(s=_,u=S)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(t)){const _=i.position[p];Oo({value:s,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}function Hi(l,t,i){let s=jt,u=!0;for(const p of ai(l,t)){let _=jt,S=!0;switch(p.op){case">=":case">":_=Ni(p.value),S=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,S=!1;break;case"!=":case"not-in":_=jt}ps({value:s,inclusive:u},{value:_,inclusive:S})>0&&(s=_,u=S)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(t)){const _=i.position[p];ps({value:s,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}class Ji{constructor(t,i=null,s=[],u=[],p=null,_="F",S=null,N=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=_,this.startAt=S,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function ts(l,t,i,s,u,p,_,S){return new Ji(l,t,i,s,u,p,_,S)}function Fo(l){return new Ji(l)}function Ta(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Bs(l){return null!==l.collectionGroup}function vr(l){const t=qt(l);if(null===t.ce){t.ce=[];const i=new Set;for(const p of t.explicitOrderBy)t.ce.push(p),i.add(p.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(_){let S=new xr(sr.comparator);return _.filters.forEach(N=>{N.getFlattenedFilters().forEach(W=>{W.isInequality()&&(S=S.add(W.field))})}),S})(t).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||t.ce.push(new vo(p,s))}),i.has(sr.keyField().canonicalString())||t.ce.push(new vo(sr.keyField(),s))}return t.ce}function jr(l){const t=qt(l);return t.le||(t.le=function To(l,t){if("F"===l.limitType)return $(l.path,l.collectionGroup,t,l.filters,l.limit,l.startAt,l.endAt);{t=t.map(u=>new vo(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new hr(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new hr(l.startAt.position,l.startAt.inclusive):null;return $(l.path,l.collectionGroup,t,l.filters,l.limit,i,s)}}(t,vr(l))),t.le}function zi(l,t){const i=l.filters.concat([t]);return new Ji(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function la(l,t,i){return new Ji(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),t,i,l.startAt,l.endAt)}function ua(l,t){return rn(jr(l),jr(t))&&l.limitType===t.limitType}function Vo(l){return`${fe(jr(l))}|lt:${l.limitType}`}function Os(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Kr(u)).join(", ")}]`),he(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ti(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ti(u)).join(",")),`Target(${s})`}(jr(l))}; limitType=${l.limitType})`}function Da(l,t){return t.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):nn.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(l,t)&&function(s,u){for(const p of vr(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(l,t)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(l,t)&&(u=t,!((s=l).startAt&&!function(_,S,N){const W=mo(_,S,N);return _.inclusive?W<=0:W<0}(s.startAt,vr(s),u)||s.endAt&&!function(_,S,N){const W=mo(_,S,N);return _.inclusive?W>=0:W>0}(s.endAt,vr(s),u)));var s,u}function fl(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Ul(l){return(t,i)=>{let s=!1;for(const u of vr(l)){const p=mu(u,t,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function mu(l,t,i){const s=l.field.isKeyField()?nn.comparator(t.key,i.key):function(p,_,S){const N=_.data.field(p),W=S.data.field(p);return null!==N&&null!==W?Mn(N,W):Ft()}(l.field,t,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Ft()}}class ns{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,t))return p}has(t){return void 0!==this.get(t)}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],t))return void(u[p]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){ao(this.inner,(i,s)=>{for(const[u,p]of s)t(u,p)})}isEmpty(){return Yo(this.inner)}size(){return this.innerSize}}const Bl=new Qr(nn.comparator);function Lo(){return Bl}const ca=new Qr(nn.comparator);function pl(...l){let t=ca;for(const i of l)t=t.insert(i.key,i);return t}function Ha(l){let t=ca;return l.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Do(){return Uo()}function $l(){return Uo()}function Uo(){return new ns(l=>l.toString(),(l,t)=>l.isEqual(t))}const vu=new Qr(nn.comparator),za=new xr(nn.comparator);function yr(...l){let t=za;for(const i of l)t=t.add(i);return t}const _u=new xr(_n);function ba(){return _u}function $s(l,t){if(l.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K(t)?"-0":t}}function Bo(l){return{integerValue:""+l}}function bo(l,t){return Q(t)?Bo(t):$s(l,t)}class wa{constructor(){this._=void 0}}function gl(l,t,i){return l instanceof rs?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&ke(p)&&(p=it(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(i,t):l instanceof is?yu(l,t):l instanceof fo?js(l,t):function(u,p){const _=ml(u,p),S=jl(_)+jl(u.Pe);return Yi(_)&&Yi(u.Pe)?Bo(S):$s(u.serializer,S)}(l,t)}function Ga(l,t,i){return l instanceof is?yu(l,t):l instanceof fo?js(l,t):i}function ml(l,t){return l instanceof Sa?Yi(s=t)||(p=s)&&"doubleValue"in p?t:{integerValue:0}:null;var s,p}class rs extends wa{}class is extends wa{constructor(t){super(),this.elements=t}}function yu(l,t){const i=D(t);for(const s of l.elements)i.some(u=>In(u,s))||i.push(s);return{arrayValue:{values:i}}}class fo extends wa{constructor(t){super(),this.elements=t}}function js(l,t){let i=D(t);for(const s of l.elements)i=i.filter(u=>!In(u,s));return{arrayValue:{values:i}}}class Sa extends wa{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function jl(l){return O(l.integerValue||l.doubleValue)}function D(l){return Oi(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class B{constructor(t,i){this.field=t,this.transform=i}}class U{constructor(t,i){this.version=t,this.transformResults=i}}class ne{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ne}static exists(t){return new ne(void 0,t)}static updateTime(t){return new ne(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fe(l,t){return void 0!==l.updateTime?t.isFoundDocument()&&t.version.isEqual(l.updateTime):void 0===l.exists||l.exists===t.isFoundDocument()}class Ut{}function ln(l,t){if(!l.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return l.isNoDocument()?new un(l.key,ne.none()):new Yr(l.key,l.data,ne.none());{const i=l.data,s=Zi.empty();let u=new xr(sr.comparator);for(let p of t.fields)if(!u.has(p)){let _=i.field(p);null===_&&p.length>1&&(p=p.popLast(),_=i.field(p)),null===_?s.delete(p):s.set(p,_),u=u.add(p)}return new Fr(l.key,s,new Vr(u.toArray()),ne.none())}}function or(l,t,i){l instanceof Yr?function(u,p,_){const S=u.value.clone(),N=yi(u.fieldTransforms,p,_.transformResults);S.setAll(N),p.convertToFoundDocument(_.version,S).setHasCommittedMutations()}(l,t,i):l instanceof Fr?function(u,p,_){if(!Fe(u.precondition,p))return void p.convertToUnknownDocument(_.version);const S=yi(u.fieldTransforms,p,_.transformResults),N=p.data;N.setAll(Ti(u)),N.setAll(S),p.convertToFoundDocument(_.version,N).setHasCommittedMutations()}(l,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function Or(l,t,i,s){return l instanceof Yr?function(p,_,S,N){if(!Fe(p.precondition,_))return S;const W=p.value.clone(),se=Pr(p.fieldTransforms,N,_);return W.setAll(se),_.convertToFoundDocument(_.version,W).setHasLocalMutations(),null}(l,t,i,s):l instanceof Fr?function(p,_,S,N){if(!Fe(p.precondition,_))return S;const W=Pr(p.fieldTransforms,N,_),se=_.data;return se.setAll(Ti(p)),se.setAll(W),_.convertToFoundDocument(_.version,se).setHasLocalMutations(),null===S?null:S.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(we=>we.field))}(l,t,i,s):(S=i,Fe(l.precondition,_=t)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):S);var _,S}function Gr(l,t){let i=null;for(const s of l.fieldTransforms){const u=t.data.field(s.field),p=ml(s.transform,u||null);null!=p&&(null===i&&(i=Zi.empty()),i.set(s.field,p))}return i||null}function Mr(l,t){return l.type===t.type&&!!l.key.isEqual(t.key)&&!!l.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Ur(s,u,(p,_)=>function be(l,t){return l.field.isEqual(t.field)&&(u=t.transform,(s=l.transform)instanceof is&&u instanceof is||s instanceof fo&&u instanceof fo?Ur(s.elements,u.elements,In):s instanceof Sa&&u instanceof Sa?In(s.Pe,u.Pe):s instanceof rs&&u instanceof rs);var s,u}(p,_))))&&(0===l.type?l.value.isEqual(t.value):1!==l.type||l.data.isEqual(t.data)&&l.fieldMask.isEqual(t.fieldMask));var s,u}class Yr extends Ut{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Fr extends Ut{constructor(t,i,s,u,p=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Ti(l){const t=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);t.set(i,s)}}),t}function yi(l,t,i){const s=new Map;Kt(l.length===i.length);for(let u=0;u<i.length;u++){const p=l[u],_=p.transform,S=t.data.field(p.field);s.set(p.field,Ga(_,S,i[u]))}return s}function Pr(l,t,i){const s=new Map;for(const u of l){const p=u.transform,_=i.data.field(u.field);s.set(u.field,gl(p,_,t))}return s}class un extends Ut{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bn extends Ut{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mi{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(t.key)&&or(p,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Or(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Or(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=$l();return this.mutations.forEach(u=>{const p=t.get(u.key),_=p.overlayedDocument;let S=this.applyToLocalView(_,p.mutatedFields);S=i.has(u.key)?null:S;const N=ln(_,S);null!==N&&s.set(u.key,N),_.isValidDocument()||_.convertToNoDocument(fn.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),yr())}isEqual(t){return this.batchId===t.batchId&&Ur(this.mutations,t.mutations,(i,s)=>Mr(i,s))&&Ur(this.baseMutations,t.baseMutations,(i,s)=>Mr(i,s))}}class Fi{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){Kt(t.mutations.length===s.length);let u=function(){return vu}();const p=t.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,s[_].version);return new Fi(t,i,s,u)}}class vi{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hs{constructor(t,i){this.count=t,this.unchangedNames=i}}var _r,tr;function vs(l){switch(l){default:return Ft();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function lr(l){if(void 0===l)return an("GRPC error has no .code"),Me.UNKNOWN;switch(l){case _r.OK:return Me.OK;case _r.CANCELLED:return Me.CANCELLED;case _r.UNKNOWN:return Me.UNKNOWN;case _r.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case _r.INTERNAL:return Me.INTERNAL;case _r.UNAVAILABLE:return Me.UNAVAILABLE;case _r.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case _r.NOT_FOUND:return Me.NOT_FOUND;case _r.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case _r.ABORTED:return Me.ABORTED;case _r.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case _r.DATA_LOSS:return Me.DATA_LOSS;default:return Ft()}}(tr=_r||(_r={}))[tr.OK=0]="OK",tr[tr.CANCELLED=1]="CANCELLED",tr[tr.UNKNOWN=2]="UNKNOWN",tr[tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tr[tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tr[tr.NOT_FOUND=5]="NOT_FOUND",tr[tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",tr[tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",tr[tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",tr[tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tr[tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tr[tr.ABORTED=10]="ABORTED",tr[tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",tr[tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",tr[tr.INTERNAL=13]="INTERNAL",tr[tr.UNAVAILABLE=14]="UNAVAILABLE",tr[tr.DATA_LOSS=15]="DATA_LOSS";function _s(){return new TextEncoder}const vl=new Pe([4294967295,4294967295],0);function xi(l){const t=_s().encode(l),i=new Lt;return i.update(t),new Uint8Array(i.digest())}function Gs(l){const t=new DataView(l.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),p=t.getUint32(12,!0);return[new Pe([i,s],0),new Pe([u,p],0)]}class _l{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Vi(`Invalid padding: ${i}`);if(s<0)throw new Vi(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new Vi(`Invalid hash count: ${s}`);if(0===t.length&&0!==i)throw new Vi(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Pe.fromNumber(this.Ie)}Ee(t,i,s){let u=t.add(i.multiply(Pe.fromNumber(s)));return 1===u.compare(vl)&&(u=new Pe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=xi(t),[s,u]=Gs(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);if(!this.de(_))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,p=new Uint8Array(Math.ceil(t/8)),_=new _l(p,u,i);return s.forEach(S=>_.insert(S)),_}insert(t){if(0===this.Ie)return;const i=xi(t),[s,u]=Gs(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);this.Ae(_)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class Vi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ks{constructor(t,i,s,u,p){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,Ra.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new ks(fn.min(),u,new Qr(_n),Lo(),yr())}}class Ra{constructor(t,i,s,u,p){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Ra(s,i,yr(),yr(),yr())}}class wo{constructor(t,i,s,u){this.Re=t,this.removedTargetIds=i,this.key=s,this.Ve=u}}class yl{constructor(t,i){this.targetId=t,this.me=i}}class li{constructor(t,i,s=le.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Wn{constructor(){this.fe=0,this.ge=ys(),this.pe=le.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=yr(),i=yr(),s=yr();return this.ge.forEach((u,p)=>{switch(p){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Ft()}}),new Ra(this.pe,this.ye,t,i,s)}Ce(){this.we=!1,this.ge=ys()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hl{constructor(t){this.Le=t,this.Be=new Map,this.ke=Lo(),this.qe=zl(),this.Qe=new Qr(_n)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const s=this.Ge(i);switch(t.state){case 0:this.ze(i)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(t.resumeToken));break;default:Ft()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,s=t.me.count,u=this.Je(i);if(u){const p=u.target;if(Xn(p))if(0===s){const _=new nn(p.path);this.Ue(i,_,Rr.newNoDocument(_,fn.min()))}else Kt(1===s);else{const _=this.Ye(i);if(_!==s){const S=this.Ze(t),N=S?this.Xe(S,t,_):1;0!==N&&(this.je(i),this.Qe=this.Qe.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let _,S;try{_=Ee(s).toUint8Array()}catch(N){if(N instanceof R)return Cn("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{S=new _l(_,u,p)}catch(N){return Cn(N instanceof Vi?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===S.Ie?null:S}Xe(t,i,s){return i.me.count===s-this.nt(t,i.targetId)?0:2}nt(t,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const _=this.Le.tt(),S=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.mightContain(S)||(this.Ue(i,p,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((p,_)=>{const S=this.Je(_);if(S){if(p.current&&Xn(S.target)){const N=new nn(S.target.path);null!==this.ke.get(N)||this.it(_,N)||this.Ue(_,N,Rr.newNoDocument(N,t))}p.be&&(i.set(_,p.ve()),p.Ce())}});let s=yr();this.qe.forEach((p,_)=>{let S=!0;_.forEachWhile(N=>{const W=this.Je(N);return!W||"TargetPurposeLimboResolution"===W.purpose||(S=!1,!1)}),S&&(s=s.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(t));const u=new ks(t,i,this.Qe,this.ke,s);return this.ke=Lo(),this.qe=zl(),this.Qe=new Qr(_n),u}$e(t,i){if(!this.ze(t))return;const s=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Wn,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new xr(_n),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||lt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Wn),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function zl(){return new Qr(nn.comparator)}function ys(){return new Qr(nn.comparator)}const hc={asc:"ASCENDING",desc:"DESCENDING"},Il={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Li={and:"AND",or:"OR"};class fc{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ei(l,t){return l.useProto3Json||he(t)?t:{value:t}}function Ui(l,t){return l.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ma(l,t){return l.useProto3Json?t.toBase64():t.toUint8Array()}function Ws(l,t){return Ui(l,t.toTimestamp())}function Di(l){return Kt(!!l),fn.fromTimestamp(function(i){const s=C(i);return new ar(s.seconds,s.nanos)}(l))}function So(l,t){return Pa(l,t).canonicalString()}function Pa(l,t){const i=(u=l,new Ln(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function Gl(l){const t=Ln.fromString(l);return Kt(jo(t)),t}function El(l,t){return So(l.databaseId,t.path)}function $o(l,t){const i=Gl(t);if(i.get(1)!==l.databaseId.projectId)throw new Oe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Oe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new nn(Ug(i))}function pc(l,t){return So(l.databaseId,t)}function yh(l){const t=Gl(l);return 4===t.length?Ln.emptyPath():Ug(t)}function Iu(l){return new Ln(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Ug(l){return Kt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Wl(l,t,i){return{name:El(l,t),fields:i.value.mapValue.fields}}function Bf(l,t,i){const s=$o(l,t.name),u=Di(t.updateTime),p=t.createTime?Di(t.createTime):fn.min(),_=new Zi({mapValue:{fields:t.fields}}),S=Rr.newFoundDocument(s,u,p,_);return i&&S.setHasCommittedMutations(),i?S.setHasCommittedMutations():S}function P(l,t){let i;if(t instanceof Yr)i={update:Wl(l,t.key,t.value)};else if(t instanceof un)i={delete:El(l,t.key)};else if(t instanceof Fr)i={update:Wl(l,t.key,t.data),updateMask:da(t.fieldMask)};else{if(!(t instanceof Bn))return Ft();i={verify:El(l,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(p,_){const S=_.transform;if(S instanceof rs)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof is)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof fo)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Sa)return{fieldPath:_.field.canonicalString(),increment:S.Pe};throw Ft()}(0,s))),t.precondition.isNone||(i.currentDocument=void 0!==(p=t.precondition).updateTime?{updateTime:Ws(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Ft()),i;var p}function b(l,t){const i=t.currentDocument?void 0!==(p=t.currentDocument).updateTime?ne.updateTime(Di(p.updateTime)):void 0!==p.exists?ne.exists(p.exists):ne.none():ne.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(_,S){let N=null;"setToServerValue"in S?(Kt("REQUEST_TIME"===S.setToServerValue),N=new rs):"appendMissingElements"in S?N=new is(S.appendMissingElements.values||[]):"removeAllFromArray"in S?N=new fo(S.removeAllFromArray.values||[]):"increment"in S?N=new Sa(_,S.increment):Ft();const W=sr.fromServerFormat(S.fieldPath);return new B(W,N)}(l,u)):[];var p;if(t.update){const u=$o(l,t.update.name),p=new Zi({mapValue:{fields:t.update.fields}});if(t.updateMask){const _=new Vr((t.updateMask.fieldPaths||[]).map(se=>sr.fromServerFormat(se)));return new Fr(u,p,_,i,s)}return new Yr(u,p,i,s)}if(t.delete){const u=$o(l,t.delete);return new un(u,i)}if(t.verify){const u=$o(l,t.verify);return new Bn(u,i)}return Ft()}function oe(l,t){return{documents:[pc(l,t.path)]}}function ue(l,t){const i={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=pc(l,u);const p=function(W){if(0!==W.length)return Ro(Ar.create(W,"and"))}(t.filters);p&&(i.structuredQuery.where=p);const _=function(W){if(0!==W.length)return W.map(se=>{return{field:hi((Ze=se).field),direction:fr(Ze.dir)};var Ze})}(t.orderBy);_&&(i.structuredQuery.orderBy=_);const S=Ei(l,t.limit);return null!==S&&(i.structuredQuery.limit=S),t.startAt&&(i.structuredQuery.startAt={before:(W=t.startAt).inclusive,values:W.position}),t.endAt&&(i.structuredQuery.endAt=function(W){return{before:!W.inclusive,values:W.position}}(t.endAt)),{_t:i,parent:u};var W}function Yt(l){let t=yh(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Kt(1===s);const se=i.from[0];se.allDescendants?u=se.collectionId:t=t.child(se.collectionId)}let p=[];i.where&&(p=function(we){const Ze=bn(we);return Ze instanceof Ar&&Us(Ze)?Ze.getFilters():[Ze]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(Ze=>{return new vo(so((on=Ze).field),function(hn){switch(hn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(on.direction));var on}));let S=null;i.limit&&(S=function(we){let Ze;return Ze="object"==typeof we?we.value:we,he(Ze)?null:Ze}(i.limit));let N=null;var we;i.startAt&&(N=new hr((we=i.startAt).values||[],!!we.before));let W=null;return i.endAt&&(W=function(we){return new hr(we.values||[],!we.before)}(i.endAt)),ts(t,u,_,p,S,"F",N,W)}function bn(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=so(i.unaryFilter.field);return qn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=so(i.unaryFilter.field);return qn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=so(i.unaryFilter.field);return qn.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=so(i.unaryFilter.field);return qn.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(l):void 0!==l.fieldFilter?qn.create(so((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return Ar.create(i.compositeFilter.filters.map(s=>bn(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Ft()}}(i.compositeFilter.op))}(l):Ft();var i}function fr(l){return hc[l]}function si(l){return Il[l]}function Cr(l){return Li[l]}function hi(l){return{fieldPath:l.canonicalString()}}function so(l){return sr.fromServerFormat(l.fieldPath)}function Ro(l){return l instanceof qn?function(i){if("=="===i.op){if(oo(i.value))return{unaryFilter:{field:hi(i.field),op:"IS_NAN"}};if(go(i.value))return{unaryFilter:{field:hi(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(oo(i.value))return{unaryFilter:{field:hi(i.field),op:"IS_NOT_NAN"}};if(go(i.value))return{unaryFilter:{field:hi(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hi(i.field),op:si(i.op),value:i.value}}}(l):l instanceof Ar?function(i){const s=i.getFilters().map(u=>Ro(u));return 1===s.length?s[0]:{compositeFilter:{op:Cr(i.op),filters:s}}}(l):Ft()}function da(l){const t=[];return l.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function jo(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Ho{constructor(t,i,s,u,p=fn.min(),_=fn.min(),S=le.EMPTY_BYTE_STRING,N=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=S,this.expectedCount=N}withSequenceNumber(t){return new Ho(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Eu{constructor(t){this.ct=t}}function gc(l,t){const i=t.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:ha(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:El(p=l.ct,(_=t).key),fields:_.data.value.mapValue.fields,updateTime:Ui(p,_.version.toTimestamp()),createTime:Ui(p,_.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:Ks(t.version)};else{if(!t.isUnknownDocument())return Ft();s.unknownDocument={path:i.path.toArray(),version:Ks(t.version)}}var p,_;return s}function ha(l){const t=l.toTimestamp();return[t.seconds,t.nanoseconds]}function Ks(l){const t=l.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Wa(l){const t=new ar(l.seconds,l.nanoseconds);return fn.fromTimestamp(t)}function zo(l,t){const i=(t.baseMutations||[]).map(p=>b(l.ct,p));for(let p=0;p<t.mutations.length-1;++p)p+1<t.mutations.length&&void 0!==t.mutations[p+1].transform&&(t.mutations[p].updateTransforms=t.mutations[p+1].transform.fieldTransforms,t.mutations.splice(p+1,1),++p);const s=t.mutations.map(p=>b(l.ct,p)),u=ar.fromMillis(t.localWriteTimeMs);return new mi(t.batchId,u,i,s)}function Cl(l){const t=Wa(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?Wa(l.lastLimboFreeSnapshotVersion):fn.min();let s;return s=void 0!==l.query.documents?(Kt(1===(p=l.query).documents.length),jr(Fo(yh(p.documents[0])))):function(p){return jr(Yt(p))}(l.query),new Ho(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,t,i,le.fromBase64String(l.resumeToken));var p}function Kl(l,t){const i=Ks(t.snapshotVersion),s=Ks(t.lastLimboFreeSnapshotVersion);let u;u=Xn(t.target)?oe(l.ct,t.target):ue(l.ct,t.target)._t;const p=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:fe(t.target),readTime:i,resumeToken:p,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Lr(l){const t=Yt({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?la(t,t.limit,"L"):t}function ql(l,t){return new vi(t.largestBatchId,b(l.ct,t.overlayMutation))}function Au(l,t){const i=t.path.lastSegment();return[l,me(t.path.popLast()),i]}function Go(l,t,i,s){return{indexId:l,uid:t,sequenceNumber:i,readTime:Ks(s.readTime),documentKey:me(s.documentKey.path),largestBatchId:s.largestBatchId}}class Bg{getBundleMetadata(t,i){return Tl(t).get(i).next(s=>{if(s)return{id:(p=s).bundleId,createTime:Wa(p.createTime),version:p.version};var p})}saveBundleMetadata(t,i){return Tl(t).put({bundleId:(u=i).id,createTime:Ks(Di(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return Ka(t).get(i).next(s=>{if(s)return{name:(p=s).name,query:Lr(p.bundledQuery),readTime:Wa(p.readTime)};var p})}saveNamedQuery(t,i){return Ka(t).put({name:(u=i).name,readTime:Ks(Di(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Tl(l){return oi(l,"bundles")}function Ka(l){return oi(l,"namedQueries")}class Wo{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new Wo(t,i.uid||"")}getOverlay(t,i){return mc(t).get(Au(this.userId,i)).next(s=>s?ql(this.serializer,s):null)}getOverlays(t,i){const s=Do();return at.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,i,s){const u=[];return s.forEach((p,_)=>{const S=new vi(i,_);u.push(this.ht(t,S))}),at.waitFor(u)}removeOverlaysForBatchId(t,i,s){const u=new Set;i.forEach(_=>u.add(me(_.getCollectionPath())));const p=[];return u.forEach(_=>{const S=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);p.push(mc(t).j("collectionPathOverlayIndex",S))}),at.waitFor(p)}getOverlaysForCollection(t,i,s){const u=Do(),p=me(i),_=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return mc(t).U("collectionPathOverlayIndex",_).next(S=>{for(const N of S){const W=ql(this.serializer,N);u.set(W.getKey(),W)}return u})}getOverlaysForCollectionGroup(t,i,s,u){const p=Do();let _;const S=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return mc(t).J({index:"collectionGroupOverlayIndex",range:S},(N,W,se)=>{const we=ql(this.serializer,W);p.size()<u||we.largestBatchId===_?(p.set(we.getKey(),we),_=we.largestBatchId):se.done()}).next(()=>p)}ht(t,i){return mc(t).put(function(u,p,_){const[S,N,W]=Au(p,_.mutation.key);return{userId:p,collectionPath:N,documentId:W,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:P(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function mc(l){return oi(l,"documentOverlays")}class vc{Pt(t){return oi(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?le.fromUint8Array(s):le.EMPTY_BYTE_STRING})}setSessionToken(t,i){return this.Pt(t).put({name:"sessionToken",value:i.toUint8Array()})}}class Xl{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(O(t.integerValue));else if("doubleValue"in t){const s=O(t.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),K(s)?i.At(0):i.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(i,20),"string"==typeof s&&(s=C(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(Ee(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in t?Jo(t)?this.dt(i,Number.MAX_SAFE_INTEGER):Zo(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):Ft()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const s=t.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(t,i){var s,u;const p=t.fields||{};this.dt(i,53);const _="value",S=(null===(u=null===(s=p[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(O(S)),this.Vt(_,i),this.Tt(p[_],i)}bt(t,i){const s=t.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(t,i){this.dt(i,37),nn.fromName(t).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}function Is(l){if(0===l)return 8;let t=0;return!(l>>4)&&(t+=4,l<<=4),!(l>>6)&&(t+=2,l<<=2),!(l>>7)&&(t+=1),t}function Ih(l){const t=64-function(s){let u=0;for(let p=0;p<8;++p){const _=Is(255&s[p]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(t/8)}Xl.vt=new Xl;class cd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const i=this.qt(t),s=Ih(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(t){const i=this.qt(t),s=Ih(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const i=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(t),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(t){const i=255&t;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const i=t+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class dd{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class hd{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class fa{constructor(){this.jt=new cd,this.Ht=new dd(this.jt),this.Jt=new hd(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Na{constructor(t,i,s,u){this.indexId=t,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new Na(this.indexId,this.documentKey,this.arrayValue,s)}}function pa(l,t){let i=l.indexId-t.indexId;return 0!==i?i:(i=Cu(l.arrayValue,t.arrayValue),0!==i?i:(i=Cu(l.directionalValue,t.directionalValue),0!==i?i:nn.comparator(l.documentKey,t.documentKey)))}function Cu(l,t){for(let i=0;i<l.length&&i<t.length;++i){const s=l[i]-t[i];if(0!==s)return s}return l.length-t.length}class qs{constructor(t){this.Xt=new xr((i,s)=>sr.comparator(i.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const i of t.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(Kt(t.collectionGroup===this.collectionId),this.nn)return!1;const i=ft(t);if(void 0!==i&&!this.sn(i))return!1;const s=Ot(t);let u=new Set,p=0,_=0;for(;p<s.length&&this.sn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Xt.size>0){const S=this.Xt.getIterator().getNext();if(!u.has(S.field.canonicalString())){const N=s[p];if(!this.on(S,N)||!this._n(this.en[_++],N))return!1}++p}for(;p<s.length;++p)if(_>=this.en.length||!this._n(this.en[_++],s[p]))return!1;return!0}an(){if(this.nn)return null;let t=new xr(sr.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new ut(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),i.push(new ut(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),i.push(new ut(s.field,"asc"===s.dir?0:1)));return new Nt(Nt.UNKNOWN_ID,this.collectionId,i,ye.empty())}sn(t){for(const i of this.tn)if(this.on(i,t))return!0;return!1}on(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function pr(l){var t,i;if(Kt(l instanceof qn||l instanceof Ar),l instanceof qn){if(l instanceof hl){const u=(null===(i=null===(t=l.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(p=>qn.create(l.field,"==",p)))||[];return Ar.create(u,"or")}return l}const s=l.filters.map(u=>pr(u));return Ar.create(s,l.op)}function fd(l){if(0===l.getFilters().length)return[];const t=Eh(pr(l));return Kt($f(t)),Ql(t)||_c(t)?[t]:t.getFilters()}function Ql(l){return l instanceof qn}function _c(l){return l instanceof Ar&&Us(l)}function $f(l){return Ql(l)||_c(l)||function(i){if(i instanceof Ar&&Ls(i)){for(const s of i.getFilters())if(!Ql(s)&&!_c(s))return!1;return!0}return!1}(l)}function Eh(l){if(Kt(l instanceof qn||l instanceof Ar),l instanceof qn)return l;if(1===l.filters.length)return Eh(l.filters[0]);const t=l.filters.map(s=>Eh(s));let i=Ar.create(t,l.op);return i=yc(i),$f(i)?i:(Kt(i instanceof Ar),Kt(Aa(i)),Kt(i.filters.length>1),i.filters.reduce((s,u)=>Ah(s,u)))}function Ah(l,t){let i;return Kt(l instanceof qn||l instanceof Ar),Kt(t instanceof qn||t instanceof Ar),i=l instanceof qn?t instanceof qn?Ar.create([l,t],"and"):pd(l,t):t instanceof qn?pd(t,l):function(u,p){if(Kt(u.filters.length>0&&p.filters.length>0),Aa(u)&&Aa(p))return aa(u,p.getFilters());const _=Ls(u)?u:p,S=Ls(u)?p:u,N=_.filters.map(W=>Ah(W,S));return Ar.create(N,"or")}(l,t),yc(i)}function pd(l,t){if(Aa(t))return aa(t,l.getFilters());{const i=t.filters.map(s=>Ah(l,s));return Ar.create(i,"or")}}function yc(l){if(Kt(l instanceof qn||l instanceof Ar),l instanceof qn)return l;const t=l.getFilters();if(1===t.length)return yc(t[0]);if(Ca(l))return l;const i=t.map(u=>yc(u)),s=[];return i.forEach(u=>{u instanceof qn?s.push(u):u instanceof Ar&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Ar.create(s,l.op)}class Yl{constructor(){this.un=new Ic}addToCollectionParentIndex(t,i){return this.un.add(i),at.resolve()}getCollectionParents(t,i){return at.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return at.resolve()}deleteFieldIndex(t,i){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,i){return at.resolve()}getDocumentsMatchingTarget(t,i){return at.resolve(null)}getIndexType(t,i){return at.resolve(0)}getFieldIndexes(t,i){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,i){return at.resolve(St.min())}getMinOffsetFromCollectionGroup(t,i){return at.resolve(St.min())}updateCollectionGroup(t,i,s){return at.resolve()}updateIndexEntries(t,i){return at.resolve()}}class Ic{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new xr(Ln.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new xr(Ln.comparator)).toArray()}}const gd=new Uint8Array(0);class $g{constructor(t,i){this.databaseId=i,this.cn=new Ic,this.ln=new ns(s=>fe(s),(s,u)=>rn(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.cn.add(i)});const p={collectionId:s,parent:me(u)};return md(t).put(p)}return at.resolve()}getCollectionParents(t,i){const s=[],u=IDBKeyRange.bound([i,""],[Yn(i),""],!1,!0);return md(t).U(u).next(p=>{for(const _ of p){if(_.collectionId!==i)break;s.push(tn(_.parent))}return s})}addFieldIndex(t,i){const s=Gt(t),u={indexId:(S=i).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var S;delete u.indexId;const p=s.add(u);if(i.indexState){const _=Ir(t);return p.next(S=>{_.put(Go(S,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(t,i){const s=Gt(t),u=Ir(t),p=Tu(t);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=Gt(t),s=Tu(t),u=Ir(t);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,i){return at.forEach(this.hn(i),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const p=new qs(s).an();if(null!=p)return this.addFieldIndex(t,p)}}))}getDocumentsMatchingTarget(t,i){const s=Tu(t);let u=!0;const p=new Map;return at.forEach(this.hn(i),_=>this.Pn(t,_).next(S=>{u&&(u=!!S),p.set(_,S)})).next(()=>{if(u){let _=yr();const S=[];return at.forEach(p,(N,W)=>{var zn;lt("IndexedDbIndexManager",`Using index ${zn=N,`id=${zn.indexId}|cg=${zn.collectionGroup}|f=${zn.fields.map(ur=>`${ur.fieldPath}:${ur.kind}`).join(",")}`} to execute ${fe(i)}`);const se=function(zn,ur){const Zr=ft(ur);if(void 0===Zr)return null;for(const Er of ai(zn,Zr.fieldPath))switch(Er.op){case"array-contains-any":return Er.value.arrayValue.values||[];case"array-contains":return[Er.value]}return null}(W,N),we=function(zn,ur){const Zr=new Map;for(const Er of Ot(ur))for(const Et of ai(zn,Er.fieldPath))switch(Et.op){case"==":case"in":Zr.set(Er.fieldPath.canonicalString(),Et.value);break;case"not-in":case"!=":return Zr.set(Er.fieldPath.canonicalString(),Et.value),Array.from(Zr.values())}return null}(W,N),Ze=function(zn,ur){const Zr=[];let Er=!0;for(const Et of Ot(ur)){const qe=0===Et.kind?Ii(zn,Et.fieldPath,zn.startAt):Hi(zn,Et.fieldPath,zn.startAt);Zr.push(qe.value),Er&&(Er=qe.inclusive)}return new hr(Zr,Er)}(W,N),xt=function(zn,ur){const Zr=[];let Er=!0;for(const Et of Ot(ur)){const qe=0===Et.kind?Hi(zn,Et.fieldPath,zn.endAt):Ii(zn,Et.fieldPath,zn.endAt);Zr.push(qe.value),Er&&(Er=qe.inclusive)}return new hr(Zr,Er)}(W,N),on=this.In(N,W,Ze),mn=this.In(N,W,xt),hn=this.Tn(N,W,we),Hn=this.En(N.indexId,se,on,Ze.inclusive,mn,xt.inclusive,hn);return at.forEach(Hn,rr=>s.G(rr,i.limit).next(zn=>{zn.forEach(ur=>{const Zr=nn.fromSegments(ur.documentKey);_.has(Zr)||(_=_.add(Zr),S.push(Zr))})}))}).next(()=>S)}return at.resolve(null)})}hn(t){let i=this.ln.get(t);return i||(i=0===t.filters.length?[t]:fd(Ar.create(t.filters,"and")).map(s=>$(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,i),i)}En(t,i,s,u,p,_,S){const N=(null!=i?i.length:1)*Math.max(s.length,p.length),W=N/(null!=i?i.length:1),se=[];for(let we=0;we<N;++we){const Ze=i?this.dn(i[we/W]):gd,xt=this.An(t,Ze,s[we%W],u),on=this.Rn(t,Ze,p[we%W],_),mn=S.map(hn=>this.An(t,Ze,hn,!0));se.push(...this.createRange(xt,on,mn))}return se}An(t,i,s,u){const p=new Na(t,nn.empty(),i,s);return u?p:p.Zt()}Rn(t,i,s,u){const p=new Na(t,nn.empty(),i,s);return u?p.Zt():p}Pn(t,i){const s=new qs(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(p=>{let _=null;for(const S of p)s.rn(S)&&(!_||S.fields.length>_.fields.length)&&(_=S);return _})}getIndexType(t,i){let s=2;const u=this.hn(i);return at.forEach(u,p=>this.Pn(t,p).next(_=>{_?0!==s&&_.fields.length<function(N){let W=new xr(sr.comparator),se=!1;for(const we of N.filters)for(const Ze of we.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?se=!0:W=W.add(Ze.field));for(const we of N.orderBy)we.field.isKeyField()||(W=W.add(we.field));return W.size+(se?1:0)}(p)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(t,i){const s=new fa;for(const u of Ot(t)){const p=i.data.field(u.fieldPath);if(null==p)return null;const _=s.Yt(u.kind);Xl.vt.It(p,_)}return s.zt()}dn(t){const i=new fa;return Xl.vt.It(t,i.Yt(0)),i.zt()}mn(t,i){const s=new fa;return Xl.vt.It(Ci(this.databaseId,i),s.Yt(function(p){const _=Ot(p);return 0===_.length?0:_[_.length-1].kind}(t))),s.zt()}Tn(t,i,s){if(null===s)return[];let u=[];u.push(new fa);let p=0;for(const _ of Ot(t)){const S=s[p++];for(const N of u)if(this.fn(i,_.fieldPath)&&Oi(S))u=this.gn(u,_,S);else{const W=N.Yt(_.kind);Xl.vt.It(S,W)}}return this.pn(u)}In(t,i,s){return this.Tn(t,i,s.position)}pn(t){const i=[];for(let s=0;s<t.length;++s)i[s]=t[s].zt();return i}gn(t,i,s){const u=[...t],p=[];for(const _ of s.arrayValue.values||[])for(const S of u){const N=new fa;N.seed(S.zt()),Xl.vt.It(_,N.Yt(i.kind)),p.push(N)}return p}fn(t,i){return!!t.filters.find(s=>s instanceof qn&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,i){const s=Gt(t),u=Ir(t);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(p=>{const _=[];return at.forEach(p,S=>u.get([S.indexId,this.uid]).next(N=>{_.push(function(se,we){const Ze=we?new ye(we.sequenceNumber,new St(Wa(we.readTime),new nn(tn(we.documentKey)),we.largestBatchId)):ye.empty(),xt=se.fields.map(([on,mn])=>new ut(sr.fromServerFormat(on),mn));return new Nt(se.indexId,se.collectionGroup,xt,Ze)}(S,N))})).next(()=>_)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:_n(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,s){const u=Gt(t),p=Ir(t);return this.yn(t).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(S=>at.forEach(S,N=>p.put(Go(N.indexId,this.uid,_,s)))))}updateIndexEntries(t,i){const s=new Map;return at.forEach(i,(u,p)=>{const _=s.get(u.collectionGroup);return(_?at.resolve(_):this.getFieldIndexes(t,u.collectionGroup)).next(S=>(s.set(u.collectionGroup,S),at.forEach(S,N=>this.wn(t,u,N).next(W=>{const se=this.Sn(p,N);return W.isEqual(se)?at.resolve():this.bn(t,p,N,W,se)}))))})}Dn(t,i,s,u){return Tu(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(t,i,s,u){return Tu(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(t,i,s){const u=Tu(t);let p=new xr(pa);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(_,S)=>{p=p.add(new Na(s.indexId,i,S.arrayValue,S.directionalValue))}).next(()=>p)}Sn(t,i){let s=new xr(pa);const u=this.Vn(i,t);if(null==u)return s;const p=ft(i);if(null!=p){const _=t.data.field(p.fieldPath);if(Oi(_))for(const S of _.arrayValue.values||[])s=s.add(new Na(i.indexId,t.key,this.dn(S),u))}else s=s.add(new Na(i.indexId,t.key,gd,u));return s}bn(t,i,s,u,p){lt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(N,W,se,we,Ze){const xt=N.getIterator(),on=W.getIterator();let mn=io(xt),hn=io(on);for(;mn||hn;){let Hn=!1,rr=!1;if(mn&&hn){const zn=se(mn,hn);zn<0?rr=!0:zn>0&&(Hn=!0)}else null!=mn?rr=!0:Hn=!0;Hn?(we(hn),hn=io(on)):rr?(Ze(mn),mn=io(xt)):(mn=io(xt),hn=io(on))}}(u,p,pa,S=>{_.push(this.Dn(t,i,s,S))},S=>{_.push(this.vn(t,i,s,S))}),at.waitFor(_)}yn(t){let i=1;return Ir(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,s){s=s.sort((_,S)=>pa(_,S)).filter((_,S,N)=>!S||0!==pa(_,N[S-1]));const u=[];u.push(t);for(const _ of s){const S=pa(_,t),N=pa(_,i);if(0===S)u[0]=t.Zt();else if(S>0&&N<0)u.push(_),u.push(_.Zt());else if(N>0)break}u.push(i);const p=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,gd,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,gd,[]]))}return p}Cn(t,i){return pa(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Ec)}getMinOffset(t,i){return at.mapArray(this.hn(i),s=>this.Pn(t,s).next(u=>u||Ft())).next(Ec)}}function md(l){return oi(l,"collectionParents")}function Tu(l){return oi(l,"indexEntries")}function Gt(l){return oi(l,"indexConfiguration")}function Ir(l){return oi(l,"indexState")}function Ec(l){Kt(0!==l.length);let t=l[0].indexState.offset,i=t.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;mt(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new St(t.readTime,t.documentKey,i)}const vd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dr{constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new Dr(t,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ch(l,t,i){const s=l.store("mutations"),u=l.store("documentMutations"),p=[],_=IDBKeyRange.only(i.batchId);let S=0;const N=s.J({range:_},(se,we,Ze)=>(S++,Ze.delete()));p.push(N.next(()=>{Kt(1===S)}));const W=[];for(const se of i.mutations){const we=Fn(t,se.key.path,i.batchId);p.push(u.delete(we)),W.push(se.key)}return at.waitFor(p).next(()=>W)}function qa(l){if(!l)return 0;let t;if(l.document)t=l.document;else if(l.unknownDocument)t=l.unknownDocument;else{if(!l.noDocument)throw Ft();t=l.noDocument}return JSON.stringify(t).length}Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);class os{constructor(t,i,s,u){this.userId=t,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,i,s,u){Kt(""!==t.uid);const p=t.isAuthenticated()?t.uid:"";return new os(p,i,s,u)}checkEmpty(t){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xa(t).J({index:"userMutationsIndex",range:s},(u,p,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(t,i,s,u){const p=Dl(t),_=xa(t);return _.add({}).next(S=>{Kt("number"==typeof S);const N=new mi(S,i,s,u),W=function(xt,on,mn){const hn=mn.baseMutations.map(rr=>P(xt.ct,rr)),Hn=mn.mutations.map(rr=>P(xt.ct,rr));return{userId:on,batchId:mn.batchId,localWriteTimeMs:mn.localWriteTime.toMillis(),baseMutations:hn,mutations:Hn}}(this.serializer,this.userId,N),se=[];let we=new xr((Ze,xt)=>_n(Ze.canonicalString(),xt.canonicalString()));for(const Ze of u){const xt=Fn(this.userId,Ze.key.path,S);we=we.add(Ze.key.path.popLast()),se.push(_.put(W)),se.push(p.put(xt,Jr))}return we.forEach(Ze=>{se.push(this.indexManager.addToCollectionParentIndex(t,Ze))}),t.addOnCommittedListener(()=>{this.Fn[S]=N.keys()}),at.waitFor(se).next(()=>N)})}lookupMutationBatch(t,i){return xa(t).get(i).next(s=>s?(Kt(s.userId===this.userId),zo(this.serializer,s)):null)}Mn(t,i){return this.Fn[i]?at.resolve(this.Fn[i]):this.lookupMutationBatch(t,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return xa(t).J({index:"userMutationsIndex",range:u},(_,S,N)=>{S.userId===this.userId&&(Kt(S.batchId>=s),p=zo(this.serializer,S)),N.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return xa(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,p,_)=>{s=p.batchId,_.done()}).next(()=>s)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xa(t).U("userMutationsIndex",i).next(s=>s.map(u=>zo(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const s=Sn(this.userId,i.path),u=IDBKeyRange.lowerBound(s),p=[];return Dl(t).J({range:u},(_,S,N)=>{const[W,se,we]=_,Ze=tn(se);if(W===this.userId&&i.path.isEqual(Ze))return xa(t).get(we).next(xt=>{if(!xt)throw Ft();Kt(xt.userId===this.userId),p.push(zo(this.serializer,xt))});N.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new xr(_n);const u=[];return i.forEach(p=>{const _=Sn(this.userId,p.path),S=IDBKeyRange.lowerBound(_),N=Dl(t).J({range:S},(W,se,we)=>{const[Ze,xt,on]=W,mn=tn(xt);Ze===this.userId&&p.path.isEqual(mn)?s=s.add(on):we.done()});u.push(N)}),at.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1,p=Sn(this.userId,s),_=IDBKeyRange.lowerBound(p);let S=new xr(_n);return Dl(t).J({range:_},(N,W,se)=>{const[we,Ze,xt]=N,on=tn(Ze);we===this.userId&&s.isPrefixOf(on)?on.length===u&&(S=S.add(xt)):se.done()}).next(()=>this.xn(t,S))}xn(t,i){const s=[],u=[];return i.forEach(p=>{u.push(xa(t).get(p).next(_=>{if(null===_)throw Ft();Kt(_.userId===this.userId),s.push(zo(this.serializer,_))}))}),at.waitFor(u).next(()=>s)}removeMutationBatch(t,i){return Ch(t._e,this.userId,i).next(s=>(t.addOnCommittedListener(()=>{this.On(i.batchId)}),at.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return at.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return Dl(t).J({range:s},(p,_,S)=>{if(p[0]===this.userId){const N=tn(p[1]);u.push(N)}else S.done()}).next(()=>{Kt(0===u.length)})})}containsKey(t,i){return Ac(t,this.userId,i)}Nn(t){return Th(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ac(l,t,i){const s=Sn(t,i.path),u=s[1],p=IDBKeyRange.lowerBound(s);let _=!1;return Dl(l).J({range:p,H:!0},(S,N,W)=>{const[se,we,Ze]=S;se===t&&we===u&&(_=!0),W.done()}).next(()=>_)}function xa(l){return oi(l,"mutations")}function Dl(l){return oi(l,"documentMutations")}function Th(l){return oi(l,"mutationQueues")}class Du{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Du(0)}static kn(){return new Du(-1)}}class jf{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.qn(t).next(i=>{const s=new Du(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(i=>fn.fromTimestamp(new ar(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(t,u)))}addTargetData(t,i){return this.Kn(t,i).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(t,s))))}updateTargetData(t,i){return this.Kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Zl(t).delete(i.targetId)).next(()=>this.qn(t)).next(s=>(Kt(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,i,s){let u=0;const p=[];return Zl(t).J((_,S)=>{const N=Cl(S);N.sequenceNumber<=i&&null===s.get(N.targetId)&&(u++,p.push(this.removeTargetData(t,N)))}).next(()=>at.waitFor(p)).next(()=>u)}forEachTarget(t,i){return Zl(t).J((s,u)=>{const p=Cl(u);i(p)})}qn(t){return Cc(t).get("targetGlobalKey").next(i=>(Kt(null!==i),i))}Qn(t,i){return Cc(t).put("targetGlobalKey",i)}Kn(t,i){return Zl(t).put(Kl(this.serializer,i))}$n(t,i){let s=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,s=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(i=>i.targetCount)}getTargetData(t,i){const s=fe(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return Zl(t).J({range:u,index:"queryTargetsIndex"},(_,S,N)=>{const W=Cl(S);rn(i,W.target)&&(p=W,N.done())}).next(()=>p)}addMatchingKeys(t,i,s){const u=[],p=to(t);return i.forEach(_=>{const S=me(_.path);u.push(p.put({targetId:s,path:S})),u.push(this.referenceDelegate.addReference(t,s,_))}),at.waitFor(u)}removeMatchingKeys(t,i,s){const u=to(t);return at.forEach(i,p=>{const _=me(p.path);return at.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(t,s,p)])})}removeMatchingKeysForTargetId(t,i){const s=to(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=to(t);let p=yr();return u.J({range:s,H:!0},(_,S,N)=>{const W=tn(_[1]),se=new nn(W);p=p.add(se)}).next(()=>p)}containsKey(t,i){const s=me(i.path),u=IDBKeyRange.bound([s],[Yn(s)],!1,!0);let p=0;return to(t).J({index:"documentTargetsIndex",H:!0,range:u},([_,S],N,W)=>{0!==_&&(p++,W.done())}).next(()=>p>0)}ot(t,i){return Zl(t).get(i).next(s=>s?Cl(s):null)}}function Zl(l){return oi(l,"targets")}function Cc(l){return oi(l,"targetGlobal")}function to(l){return oi(l,"targetDocuments")}function Oa([l,t],[i,s]){const u=_n(l,i);return 0===u?_n(t,s):u}class Dh{constructor(t){this.Un=t,this.buffer=new xr(Oa),this.Wn=0}Gn(){return++this.Wn}zn(t){const i=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Oa(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xs{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var i=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,pe.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){ri(s)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield gr(s)}yield i.Hn(3e5)}))}}class Qs{constructor(t,i){this.Jn=t,this.params=i}calculateTargetCount(t,i){return this.Jn.Yn(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(0===i)return at.resolve(z.oe);const s=new Dh(i);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Jn.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(vd)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vd):this.Xn(t,i))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,i){let s,u,p,_,S,N,W;const se=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),u=this.params.maximumSequenceNumbersToCollect):u=we,_=Date.now(),this.nthSequenceNumber(t,u))).next(we=>(s=we,S=Date.now(),this.removeTargets(t,s,i))).next(we=>(p=we,N=Date.now(),this.removeOrphanedDocuments(t,s))).next(we=>(W=Date.now(),Mt()<=rt.$b.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-se}ms\n\tDetermined least recently used ${u} in `+(S-_)+`ms\n\tRemoved ${p} targets in `+(N-S)+`ms\n\tRemoved ${we} documents in `+(W-N)+`ms\nTotal Duration: ${W-se}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:we})))}}class zf{constructor(t,i){this.db=t,this.garbageCollector=function Hf(l,t){return new Qs(l,t)}(this,i)}Yn(t){const i=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}er(t){let i=0;return this.Zn(t,s=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Zn(t,i){return this.tr(t,(s,u)=>i(u))}addReference(t,i,s){return _d(t,s)}removeReference(t,i,s){return _d(t,s)}removeTargets(t,i,s){return this.db.getTargetCache().removeTargets(t,i,s)}markPotentiallyOrphaned(t,i){return _d(t,i)}nr(t,i){return function(u,p){let _=!1;return Th(u).Y(S=>Ac(u,S,p).next(N=>(N&&(_=!0),at.resolve(!N)))).next(()=>_)}(t,i)}removeOrphanedDocuments(t,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(t,(_,S)=>{if(S<=i){const N=this.nr(t,_).next(W=>{if(!W)return p++,s.getEntry(t,_).next(()=>(s.removeEntry(_,fn.min()),to(t).delete([0,me(_.path)])))});u.push(N)}}).next(()=>at.waitFor(u)).next(()=>s.apply(t)).next(()=>p)}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,i){return _d(t,i)}tr(t,i){const s=to(t);let u,p=z.oe;return s.J({index:"documentTargetsIndex"},([_,S],{path:N,sequenceNumber:W})=>{0===_?(p!==z.oe&&i(new nn(tn(u)),p),p=W,u=N):p=z.oe}).next(()=>{p!==z.oe&&i(new nn(tn(u)),p)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _d(l,t){return to(l).put((u=l.currentSequenceNumber,{targetId:0,path:me(t.path),sequenceNumber:u}));var u}class Gf{constructor(){this.changes=new ns(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Rr.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?at.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class bh{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,s){return Xa(t).put(s)}removeEntry(t,i,s){return Xa(t).delete(function(p,_){const S=p.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],ha(_),S[S.length-1]]}(i,s))}updateMetadata(t,i){return this.getMetadata(t).next(s=>(s.byteSize+=i,this.rr(t,s)))}getEntry(t,i){let s=Rr.newInvalidDocument(i);return Xa(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(bu(i))},(u,p)=>{s=this.ir(i,p)}).next(()=>s)}sr(t,i){let s={size:0,document:Rr.newInvalidDocument(i)};return Xa(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(bu(i))},(u,p)=>{s={document:this.ir(i,p),size:qa(p)}}).next(()=>s)}getEntries(t,i){let s=Lo();return this._r(t,i,(u,p)=>{const _=this.ir(u,p);s=s.insert(u,_)}).next(()=>s)}ar(t,i){let s=Lo(),u=new Qr(nn.comparator);return this._r(t,i,(p,_)=>{const S=this.ir(p,_);s=s.insert(p,S),u=u.insert(p,qa(_))}).next(()=>({documents:s,ur:u}))}_r(t,i,s){if(i.isEmpty())return at.resolve();let u=new xr(Sh);i.forEach(N=>u=u.add(N));const p=IDBKeyRange.bound(bu(u.first()),bu(u.last())),_=u.getIterator();let S=_.getNext();return Xa(t).J({index:"documentKeyIndex",range:p},(N,W,se)=>{const we=nn.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;S&&Sh(S,we)<0;)s(S,null),S=_.getNext();S&&S.isEqual(we)&&(s(S,W),S=_.hasNext()?_.getNext():null),S?se.$(bu(S)):se.done()}).next(()=>{for(;S;)s(S,null),S=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(t,i,s,u,p){const _=i.path,S=[_.popLast().toArray(),_.lastSegment(),ha(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xa(t).U(IDBKeyRange.bound(S,N,!0)).next(W=>{null==p||p.incrementDocumentReadCount(W.length);let se=Lo();for(const we of W){const Ze=this.ir(nn.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);Ze.isFoundDocument()&&(Da(i,Ze)||u.has(Ze.key))&&(se=se.insert(Ze.key,Ze))}return se})}getAllFromCollectionGroup(t,i,s,u){let p=Lo();const _=Id(i,s),S=Id(i,St.max());return Xa(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,S,!0)},(N,W,se)=>{const we=this.ir(nn.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);p=p.insert(we.key,we),p.size===u&&se.done()}).next(()=>p)}newChangeBuffer(t){return new wh(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return Tc(t).get("remoteDocumentGlobalKey").next(i=>(Kt(!!i),i))}rr(t,i){return Tc(t).put("remoteDocumentGlobalKey",i)}ir(t,i){if(i){const s=function Al(l,t){let i;if(t.document)i=Bf(l.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=nn.fromSegments(t.noDocument.path),u=Wa(t.noDocument.readTime);i=Rr.newNoDocument(s,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ft();{const s=nn.fromSegments(t.unknownDocument.path),u=Wa(t.unknownDocument.version);i=Rr.newUnknownDocument(s,u)}}return t.readTime&&i.setReadTime(function(u){const p=new ar(u[0],u[1]);return fn.fromTimestamp(p)}(t.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(fn.min()))return s}return Rr.newInvalidDocument(t)}}function yd(l){return new bh(l)}class wh extends Gf{constructor(t,i){super(),this.cr=t,this.trackRemovals=i,this.lr=new ns(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const i=[];let s=0,u=new xr((p,_)=>_n(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const S=this.lr.get(p);if(i.push(this.cr.removeEntry(t,p,S.readTime)),_.isValidDocument()){const N=gc(this.cr.serializer,_);u=u.add(p.path.popLast());const W=qa(N);s+=W-S.size,i.push(this.cr.addEntry(t,p,N))}else if(s-=S.size,this.trackRemovals){const N=gc(this.cr.serializer,_.convertToNoDocument(fn.min()));i.push(this.cr.addEntry(t,p,N))}}),u.forEach(p=>{i.push(this.cr.indexManager.addToCollectionParentIndex(t,p))}),i.push(this.cr.updateMetadata(t,s)),at.waitFor(i)}getFromCache(t,i){return this.cr.sr(t,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,i){return this.cr.ar(t,i).next(({documents:s,ur:u})=>(u.forEach((p,_)=>{this.lr.set(p,{size:_,readTime:s.get(p).readTime})}),s))}}function Tc(l){return oi(l,"remoteDocumentGlobal")}function Xa(l){return oi(l,"remoteDocumentsV14")}function bu(l){const t=l.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Id(l,t){const i=t.documentKey.path.toArray();return[l,ha(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Sh(l,t){const i=l.path.toArray(),s=t.path.toArray();let u=0;for(let p=0;p<i.length-2&&p<s.length-2;++p)if(u=_n(i[p],s[p]),u)return u;return u=_n(i.length,s.length),u||(u=_n(i[i.length-2],s[s.length-2]),u||_n(i[i.length-1],s[s.length-1]))}class Wf{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Rh{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==s&&Or(s.mutation,u,Vr.empty(),ar.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,yr()).next(()=>s))}getLocalViewOfDocuments(t,i,s=yr()){const u=Do();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(p=>{let _=pl();return p.forEach((S,N)=>{_=_.insert(S,N.overlayedDocument)}),_}))}getOverlayedDocuments(t,i){const s=Do();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,yr()))}populateOverlays(t,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(t,u).next(p=>{p.forEach((_,S)=>{i.set(_,S)})})}computeViews(t,i,s,u){let p=Lo();const _=Uo(),S=Uo();return i.forEach((N,W)=>{const se=s.get(W.key);u.has(W.key)&&(void 0===se||se.mutation instanceof Fr)?p=p.insert(W.key,W):void 0!==se?(_.set(W.key,se.mutation.getFieldMask()),Or(se.mutation,W,se.mutation.getFieldMask(),ar.now())):_.set(W.key,Vr.empty())}),this.recalculateAndSaveOverlays(t,p).next(N=>(N.forEach((W,se)=>_.set(W,se)),i.forEach((W,se)=>{var we;return S.set(W,new Wf(se,null!==(we=_.get(W))&&void 0!==we?we:null))}),S))}recalculateAndSaveOverlays(t,i){const s=Uo();let u=new Qr((_,S)=>_-S),p=yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(_=>{for(const S of _)S.keys().forEach(N=>{const W=i.get(N);if(null===W)return;let se=s.get(N)||Vr.empty();se=S.applyToLocalView(W,se),s.set(N,se);const we=(u.get(S.batchId)||yr()).add(N);u=u.insert(S.batchId,we)})}).next(()=>{const _=[],S=u.getReverseIterator();for(;S.hasNext();){const N=S.getNext(),W=N.key,se=N.value,we=$l();se.forEach(Ze=>{if(!p.has(Ze)){const xt=ln(i.get(Ze),s.get(Ze));null!==xt&&we.set(Ze,xt),p=p.add(Ze)}}),_.push(this.documentOverlayCache.saveOverlays(t,W,we))}return at.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return nn.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):Bs(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u);var _}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-p.size):at.resolve(Do());let S=-1,N=p;return _.next(W=>at.forEach(W,(se,we)=>(S<we.largestBatchId&&(S=we.largestBatchId),p.get(se)?at.resolve():this.remoteDocumentCache.getEntry(t,se).next(Ze=>{N=N.insert(se,Ze)}))).next(()=>this.populateOverlays(t,W,p)).next(()=>this.computeViews(t,N,W,yr())).next(se=>({batchId:S,changes:Ha(se)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new nn(i)).next(s=>{let u=pl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const p=i.collectionGroup;let _=pl();return this.indexManager.getCollectionParents(t,p).next(S=>at.forEach(S,N=>{const W=(we=i,Ze=N.child(p),new Ji(Ze,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,Ze;return this.getDocumentsMatchingCollectionQuery(t,W,s,u).next(se=>{se.forEach((we,Ze)=>{_=_.insert(we,Ze)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(t,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,p,u))).next(_=>{p.forEach((N,W)=>{const se=W.getKey();null===_.get(se)&&(_=_.insert(se,Rr.newInvalidDocument(se)))});let S=pl();return _.forEach((N,W)=>{const se=p.get(N);void 0!==se&&Or(se.mutation,W,Vr.empty(),ar.now()),Da(i,W)&&(S=S.insert(N,W))}),S})}}class Mh{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return at.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:Di(u.createTime)}),at.resolve();var u}getNamedQuery(t,i){return at.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(u=i).name,query:Lr(u.bundledQuery),readTime:Di(u.readTime)}),at.resolve();var u}}class Ph{constructor(){this.overlays=new Qr(nn.comparator),this.Ir=new Map}getOverlay(t,i){return at.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Do();return at.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,p)=>{this.ht(t,i,p)}),at.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(s)),at.resolve()}getOverlaysForCollection(t,i,s){const u=Do(),p=i.length+1,_=new nn(i.child("")),S=this.overlays.getIteratorFrom(_);for(;S.hasNext();){const N=S.getNext().value,W=N.getKey();if(!i.isPrefixOf(W.path))break;W.path.length===p&&N.largestBatchId>s&&u.set(N.getKey(),N)}return at.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let p=new Qr((W,se)=>W-se);const _=this.overlays.getIterator();for(;_.hasNext();){const W=_.getNext().value;if(W.getKey().getCollectionGroup()===i&&W.largestBatchId>s){let se=p.get(W.largestBatchId);null===se&&(se=Do(),p=p.insert(W.largestBatchId,se)),se.set(W.getKey(),W)}}const S=Do(),N=p.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((W,se)=>S.set(W,se)),!(S.size()>=u)););return at.resolve(S)}ht(t,i,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new vi(i,s));let p=this.Ir.get(i);void 0===p&&(p=yr(),this.Ir.set(i,p)),this.Ir.set(i,p.add(s.key))}}class jg{constructor(){this.sessionToken=le.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,at.resolve()}}class po{constructor(){this.Tr=new xr(Bi.Er),this.dr=new xr(Bi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const s=new Bi(t,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Vr(new Bi(t,i))}mr(t,i){t.forEach(s=>this.removeReference(s,i))}gr(t){const i=new nn(new Ln([])),s=new Bi(i,t),u=new Bi(i,t+1),p=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),p.push(_.key)}),p}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new nn(new Ln([])),s=new Bi(i,t),u=new Bi(i,t+1);let p=yr();return this.dr.forEachInRange([s,u],_=>{p=p.add(_.key)}),p}containsKey(t){const i=new Bi(t,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&t.isEqual(s.key)}}class Bi{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return nn.comparator(t.key,i.key)||_n(t.wr,i.wr)}static Ar(t,i){return _n(t.wr,i.wr)||nn.comparator(t.key,i.key)}}class bi{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new xr(Bi.Er)}checkEmpty(t){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,s,u){const p=this.Sr;this.Sr++;const _=new mi(p,i,s,u);this.mutationQueue.push(_);for(const S of u)this.br=this.br.add(new Bi(S.key,p)),this.indexManager.addToCollectionParentIndex(t,S.key.path.popLast());return at.resolve(_)}lookupMutationBatch(t,i){return at.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.vr(i+1),p=u<0?0:u;return at.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Bi(i,0),u=new Bi(i,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([s,u],_=>{const S=this.Dr(_.wr);p.push(S)}),at.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new xr(_n);return i.forEach(u=>{const p=new Bi(u,0),_=new Bi(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,_],S=>{s=s.add(S.wr)})}),at.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let p=s;nn.isDocumentKey(p)||(p=p.child(""));const _=new Bi(new nn(p),0);let S=new xr(_n);return this.br.forEachWhile(N=>{const W=N.key.path;return!!s.isPrefixOf(W)&&(W.length===u&&(S=S.add(N.wr)),!0)},_),at.resolve(this.Cr(S))}Cr(t){const i=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){Kt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return at.forEach(i.mutations,u=>{const p=new Bi(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,i){const s=new Bi(i,0),u=this.br.firstAfterOrEqual(s);return at.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return at.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Nh{constructor(t){this.Mr=t,this.docs=new Qr(nn.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,_=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return at.resolve(s?s.document.mutableCopy():Rr.newInvalidDocument(i))}getEntries(t,i){let s=Lo();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():Rr.newInvalidDocument(u))}),at.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let p=Lo();const _=i.path,S=new nn(_.child("")),N=this.docs.getIteratorFrom(S);for(;N.hasNext();){const{key:W,value:{document:se}}=N.getNext();if(!_.isPrefixOf(W.path))break;W.path.length>_.length+1||mt(Qe(se),s)<=0||(u.has(se.key)||Da(i,se))&&(p=p.insert(se.key,se.mutableCopy()))}return at.resolve(p)}getAllFromCollectionGroup(t,i,s,u){Ft()}Or(t,i){return at.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new xh(this)}getSize(t){return at.resolve(this.size)}}class xh extends Gf{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),at.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class Hg{constructor(t){this.persistence=t,this.Nr=new ns(i=>fe(i),rn),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new po,this.targetCount=0,this.kr=Du.Bn()}forEachTarget(t,i){return this.Nr.forEach((s,u)=>i(u)),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),at.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Du(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,at.resolve()}updateTargetData(t,i){return this.Kn(i),at.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,i,s){let u=0;const p=[];return this.Nr.forEach((_,S)=>{S.sequenceNumber<=i&&null===s.get(S.targetId)&&(this.Nr.delete(_),p.push(this.removeMatchingKeysForTargetId(t,S.targetId)),u++)}),at.waitFor(p).next(()=>u)}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,i){const s=this.Nr.get(i)||null;return at.resolve(s)}addMatchingKeys(t,i,s){return this.Br.Rr(i,s),at.resolve()}removeMatchingKeys(t,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(_=>{p.push(u.markPotentiallyOrphaned(t,_))}),at.waitFor(p)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),at.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Br.yr(i);return at.resolve(s)}containsKey(t,i){return at.resolve(this.Br.containsKey(i))}}class Dc{constructor(t,i){this.qr={},this.overlays={},this.Qr=new z(0),this.Kr=!1,this.Kr=!0,this.$r=new jg,this.referenceDelegate=t(this),this.Ur=new Hg(this),this.indexManager=new Yl,this.remoteDocumentCache=new Nh(s=>this.referenceDelegate.Wr(s)),this.serializer=new Eu(i),this.Gr=new Mh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ph,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.qr[t.toKey()];return s||(s=new bi(i,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,s){lt("MemoryPersistence","Starting transaction:",t);const u=new Kf(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(t,i){return at.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,i)))}}class Kf extends Dn{constructor(t){super(),this.currentSequenceNumber=t}}class wu{constructor(t){this.persistence=t,this.Jr=new po,this.Yr=null}static Zr(t){return new wu(t)}get Xr(){if(this.Yr)return this.Yr;throw Ft()}addReference(t,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),at.resolve()}removeReference(t,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),at.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),at.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>s.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Xr,s=>{const u=nn.fromPath(s);return this.ei(t,u).next(p=>{p||i.removeEntry(u,fn.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return at.or([()=>at.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class Ys{constructor(t){this.serializer=t}O(t,i,s,u){const p=new mr("createOrUpgrade",i);var N;s<1&&u>=1&&(t.createObjectStore("owner"),(N=t).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Un,{unique:!0}),N.createObjectStore("documentMutations"),qf(t),function(N){N.createObjectStore("remoteDocuments")}(t));let _=at.resolve();return s<3&&u>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(t),qf(t)),_=_.next(()=>function(N){const W=N.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fn.min().toTimestamp(),targetCount:0};return W.put("targetGlobalKey",se)}(p))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(N,W){return W.store("mutations").U().next(se=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Un,{unique:!0});const we=W.store("mutations"),Ze=se.map(xt=>we.put(xt));return at.waitFor(Ze)})}(t,p))),_=_.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(_=_.next(()=>this.ni(p))),s<6&&u>=6&&(_=_.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(t),this.ri(p)))),s<7&&u>=7&&(_=_.next(()=>this.ii(p))),s<8&&u>=8&&(_=_.next(()=>this.si(t,p))),s<9&&u>=9&&(_=_.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(_=_.next(()=>this.oi(p))),s<11&&u>=11&&(_=_.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(_=_.next(()=>{!function(N){const W=N.createObjectStore("documentOverlays",{keyPath:Eo});W.createIndex("collectionPathOverlayIndex",Ao,{unique:!1}),W.createIndex("collectionGroupOverlayIndex",Rs,{unique:!1})}(t)})),s<13&&u>=13&&(_=_.next(()=>function(N){const W=N.createObjectStore("remoteDocumentsV14",{keyPath:Jn});W.createIndex("documentKeyIndex",ii),W.createIndex("collectionGroupIndex",_i)}(t)).next(()=>this._i(t,p)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(t,p))),s<15&&u>=15&&(_=_.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:Qi}).createIndex("sequenceNumberIndex",xo,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:Xo}).createIndex("documentKeyIndex",ro,{unique:!1})}(t))),s<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(N){N.createObjectStore("globals",{keyPath:"name"})}(t)})),_}ri(t){let i=0;return t.store("remoteDocuments").J((s,u)=>{i+=qa(u)}).next(()=>{const s={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const i=t.store("mutationQueues"),s=t.store("mutations");return i.U().next(u=>at.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(S=>at.forEach(S,N=>{Kt(N.userId===p.userId);const W=zo(this.serializer,N);return Ch(t,p.userId,W).next(()=>{})}))}))}ii(t){const i=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((_,S)=>{const N=new Ln(_),W=[0,me(N)];p.push(i.get(W).next(se=>se?at.resolve():i.put({targetId:0,path:me(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>at.waitFor(p))})}si(t,i){t.createObjectStore("collectionParents",{keyPath:Mi});const s=i.store("collectionParents"),u=new Ic,p=_=>{if(u.add(_)){const S=_.lastSegment(),N=_.popLast();return s.put({collectionId:S,parent:me(N)})}};return i.store("remoteDocuments").J({H:!0},(_,S)=>{const N=new Ln(_);return p(N.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,S,N],W)=>{const se=tn(S);return p(se.popLast())}))}oi(t){const i=t.store("targets");return i.J((s,u)=>{const p=Cl(u),_=Kl(this.serializer,p);return i.put(_)})}_i(t,i){const s=i.store("remoteDocuments"),u=[];return s.J((p,_)=>{const S=i.store("remoteDocumentsV14"),N=(we=_,we.document?new nn(Ln.fromString(we.document.name).popFirst(5)):we.noDocument?nn.fromSegments(we.noDocument.path):we.unknownDocument?nn.fromSegments(we.unknownDocument.path):Ft()).path.toArray(),W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var we;u.push(S.put(W))}).next(()=>at.waitFor(u))}ai(t,i){const s=i.store("mutations"),u=yd(this.serializer),p=new Dc(wu.Zr,this.serializer.ct);return s.U().next(_=>{const S=new Map;return _.forEach(N=>{var W;let se=null!==(W=S.get(N.userId))&&void 0!==W?W:yr();zo(this.serializer,N).keys().forEach(we=>se=se.add(we)),S.set(N.userId,se)}),at.forEach(S,(N,W)=>{const se=new Ne(W),we=Wo.lt(this.serializer,se),Ze=p.getIndexManager(se),xt=os.lt(se,this.serializer,Ze,p.referenceDelegate);return new Rh(u,xt,we,Ze).recalculateAndSaveOverlaysForDocumentKeys(new Qo(i,z.oe),N).next()})})}}function qf(l){l.createObjectStore("targetDocuments",{keyPath:ei}).createIndex("documentTargetsIndex",co,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xi,{unique:!0}),l.createObjectStore("targetGlobal")}const bc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bl{constructor(t,i,s,u,p,_,S,N,W,se,we=17){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=s,this.ui=p,this.window=_,this.document=S,this.ci=W,this.li=se,this.hi=we,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ze=>Promise.resolve(),!bl.D())throw new Oe(Me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zf(this,u),this.Ai=i+"main",this.serializer=new Eu(N),this.Ri=new xn(this.Ai,this.hi,new Ys(this.serializer)),this.$r=new vc,this.Ur=new jf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yd(this.serializer),this.Gr=new Bg,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===se&&an("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(Me.FAILED_PRECONDITION,bc);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new z(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var i=this;return this.di=function(){var s=(0,pe.A)(function*(u){if(i.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var i=(0,pe.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,pe.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Za(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(i=>this.isPrimary&&!i?this.bi(t).next(()=>!1):!!i&&this.Di(t).next(()=>!0))).catch(t=>{if(ri(t))return lt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Ya(t).get("owner").next(i=>at.resolve(this.vi(i)))}Ci(t){return Za(t).delete(this.clientId)}Fi(){var t=this;return(0,pe.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=oi(s,"clientMetadata");return u.U().next(p=>{const _=t.xi(p,18e5),S=p.filter(N=>-1===_.indexOf(N));return at.forEach(S,N=>u.delete(N.clientId)).next(()=>S)})}).catch(()=>[]);if(t.Vi)for(const s of i)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?at.resolve(!0):Ya(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Oe(Me.FAILED_PRECONDITION,bc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Za(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&lt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,pe.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new Qo(i,z.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,i){return t.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Za(t).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,i){return os.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new $g(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Wo.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,i,s){lt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",p=17===(N=this.hi)?Ms:16===N?Ia:15===N?wr:14===N?er:13===N?hs:12===N?pi:11===N?Pi:void Ft();var N;let _;return this.Ri.runTransaction(t,u,p,S=>(_=new Qo(S,this.Qr?this.Qr.next():z.oe),"readwrite-primary"===i?this.wi(_).next(N=>!!N||this.Si(_)).next(N=>{if(!N)throw an(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Oe(Me.FAILED_PRECONDITION,yn);return s(_)}).next(N=>this.Di(_).next(()=>N)):this.Ki(_).next(()=>s(_)))).then(S=>(_.raiseOnCommittedEvent(),S))}Ki(t){return Ya(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Oe(Me.FAILED_PRECONDITION,bc)})}Di(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ya(t).put("owner",i)}static D(){return xn.D()}bi(t){const i=Ya(t);return i.get("owner").next(s=>this.vi(s)?(lt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):at.resolve())}Mi(t,i){const s=Date.now();return!(t<s-i||t>s&&(an(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,Ye.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(t)));return lt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return an("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){an("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ya(l){return oi(l,"owner")}function Za(l){return oi(l,"clientMetadata")}function wc(l,t){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+t+"/"+i+"/"}class Sc{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(t,i){let s=yr(),u=yr();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Sc(t,i.fromCache,s,u)}}class zg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Jl{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Ye.nr)()?8:zr((0,Ye.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,s,u){const p={result:null};return this.Yi(t,i).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Zi(t,i,u,s).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new zg;return this.Xi(t,i,_).next(S=>{if(p.result=S,this.zi)return this.es(t,i,_,S.size)})}).next(()=>p.result)}es(t,i,s,u){return s.documentReadCount<this.ji?(Mt()<=rt.$b.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),at.resolve()):(Mt()<=rt.$b.DEBUG&&lt("QueryEngine","Query:",Os(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Mt()<=rt.$b.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jr(i))):at.resolve())}Yi(t,i){if(Ta(i))return at.resolve(null);let s=jr(i);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=la(i,null,"F"),s=jr(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(p=>{const _=yr(...p);return this.Ji.getDocuments(t,_).next(S=>this.indexManager.getMinOffset(t,s).next(N=>{const W=this.ts(i,S);return this.ns(i,W,_,N.readTime)?this.Yi(t,la(i,null,"F")):this.rs(t,W,i,N)}))})))}Zi(t,i,s,u){return Ta(i)||u.isEqual(fn.min())?at.resolve(null):this.Ji.getDocuments(t,s).next(p=>{const _=this.ts(i,p);return this.ns(i,_,s,u)?at.resolve(null):(Mt()<=rt.$b.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Os(i)),this.rs(t,_,i,Se(u,-1)).next(S=>S))})}ts(t,i){let s=new xr(Ul(t));return i.forEach((u,p)=>{Da(t,p)&&(s=s.add(p))}),s}ns(t,i,s,u){if(null===t.limit)return!1;if(s.size!==i.size)return!0;const p="F"===t.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(t,i,s){return Mt()<=rt.$b.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Os(i)),this.Ji.getDocumentsMatchingQuery(t,i,St.min(),s)}rs(t,i,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(p=>(i.forEach(_=>{p=p.insert(_.key,_)}),p))}}class Rc{constructor(t,i,s,u){this.persistence=t,this.ss=i,this.serializer=u,this.os=new Qr(_n),this._s=new ns(p=>fe(p),rn),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Rh(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function Xf(l,t,i,s){return new Rc(l,t,i,s)}function Ed(l,t){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,pe.A)(function*(l,t){const i=qt(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.ls(t),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const _=[],S=[];let N=yr();for(const W of u){_.push(W.batchId);for(const se of W.mutations)N=N.add(se.key)}for(const W of p){S.push(W.batchId);for(const se of W.mutations)N=N.add(se.key)}return i.localDocuments.getDocuments(s,N).next(W=>({hs:W,removedBatchIds:_,addedBatchIds:S}))})})})).apply(this,arguments)}function Wg(l){const t=qt(l);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function eu(l,t,i){let s=yr(),u=yr();return i.forEach(p=>s=s.add(p)),t.getEntries(l,s).next(p=>{let _=Lo();return i.forEach((S,N)=>{const W=p.get(S);N.isFoundDocument()!==W.isFoundDocument()&&(u=u.add(S)),N.isNoDocument()&&N.version.isEqual(fn.min())?(t.removeEntry(S,N.readTime),_=_.insert(S,N)):!W.isValidDocument()||N.version.compareTo(W.version)>0||0===N.version.compareTo(W.version)&&W.hasPendingWrites?(t.addEntry(N),_=_.insert(S,N)):lt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",W.version," Watch version:",N.version)}),{Ps:_,Is:u}})}function Qv(l,t){const i=qt(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function wl(l,t){const i=qt(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,t).next(p=>p?(u=p,at.resolve(u)):i.Ur.allocateTargetId(s).next(_=>(u=new Ho(t,_,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(t,s.targetId)),s})}function Es(l,t,i){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,pe.A)(function*(l,t,i){const s=qt(l),u=s.os.get(t),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!ri(_))throw _;lt("LocalStore",`Failed to update sequence numbers for target ${t}: ${_}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function ka(l,t,i){const s=qt(l);let u=fn.min(),p=yr();return s.persistence.runTransaction("Execute query","readwrite",_=>function(N,W,se){const we=qt(N),Ze=we._s.get(se);return void 0!==Ze?at.resolve(we.os.get(Ze)):we.Ur.getTargetData(W,se)}(s,_,jr(t)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,S.targetId).next(N=>{p=N})}).next(()=>s.ss.getDocumentsMatchingQuery(_,t,i?u:fn.min(),i?p:yr())).next(S=>(Ad(s,fl(t),S),{documents:S,Ts:p})))}function Qf(l,t){const i=qt(l),s=qt(i.Ur),u=i.os.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,t).next(_=>_?_.target:null))}function Su(l,t){const i=qt(l),s=i.us.get(t)||fn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,t,Se(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ad(i,t,u),u))}function Ad(l,t,i){let s=l.us.get(t)||fn.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),l.us.set(t,s)}function Ru(){return(Ru=(0,pe.A)(function*(l,t,i,s){const u=qt(l);let p=yr(),_=Lo();for(const W of i){const se=t.Es(W.metadata.name);W.document&&(p=p.add(se));const we=t.ds(W);we.setReadTime(t.As(W.metadata.readTime)),_=_.insert(se,we)}const S=u.cs.newChangeBuffer({trackRemovals:!0}),N=yield wl(u,(se=s,jr(Fo(Ln.fromString(`__bundle__/docs/${se}`)))));var se;return u.persistence.runTransaction("Apply bundle documents","readwrite",W=>eu(W,S,_).next(se=>(S.apply(W),se)).next(se=>u.Ur.removeMatchingKeysForTargetId(W,N.targetId).next(()=>u.Ur.addMatchingKeys(W,p,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(W,se.Ps,se.Is)).next(()=>se.Ps)))})).apply(this,arguments)}function Yf(l,t){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,pe.A)(function*(l,t,i=yr()){const s=yield wl(l,jr(Lr(t.bundledQuery))),u=qt(l);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=Di(t.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(p,t);const S=s.withResumeToken(le.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(S.targetId,S),u.Ur.updateTargetData(p,S).next(()=>u.Ur.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Ur.addMatchingKeys(p,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(p,t))})})).apply(this,arguments)}function kh(l,t){return`firestore_clients_${l}_${t}`}function Zf(l,t,i){let s=`firestore_mutations_${l}_${i}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Zs(l,t){return`firestore_targets_${l}_${t}`}class Td{constructor(t,i,s,u){this.user=t,this.batchId=i,this.state=s,this.error=u}static Rs(t,i,s){const u=JSON.parse(s);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new Oe(u.error.code,u.error.message))),_?new Td(t,i,u.state,p):(an("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ja{constructor(t,i,s){this.targetId=t,this.state=i,this.error=s}static Rs(t,i){const s=JSON.parse(i);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new Oe(s.error.code,s.error.message))),p?new Ja(t,s.state,u):(an("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Sl{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Rs(t,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=ba();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=Q(s.activeTargetIds[_]),p=p.add(s.activeTargetIds[_]);return u?new Sl(t,p):(an("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class Dd{constructor(t,i){this.clientId=t,this.onlineState=i}static Rs(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Dd(i.clientId,i.onlineState):(an("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Mu{constructor(){this.activeTargetIds=ba()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tu{constructor(t,i,s,u,p){this.window=t,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Qr(_n),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=kh(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Mu),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,pe.A)(function*(){const i=yield t.syncEngine.Qi();for(const u of i){if(u===t.ps)continue;const p=t.getItem(kh(t.persistenceKey,u));if(p){const _=Sl.Rs(u,p);_&&(t.Ss=t.Ss.insert(_.clientId,_))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,i,s){this.qs(t,i,s),this.Qs(t)}addLocalQueryTarget(t,i=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Zs(this.persistenceKey,t));if(u){const p=Ja.Rs(t,u);p&&(s=p.state)}}return i&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Zs(this.persistenceKey,t))}updateQueryState(t,i,s){this.$s(t,i,s)}handleUserChange(t,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return lt("SharedClientState","READ",t,i),i}setItem(t,i){lt("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){lt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var i=this;const s=t;if(s.storageArea===this.storage){if(lt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void an("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,pe.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(_){let S=z.oe;if(null!=_)try{const N=JSON.parse(_);Kt("number"==typeof N),S=N}catch(N){an("SharedClientState","Failed to read sequence number from WebStorage",N)}return S}(s.newValue);u!==z.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(p=>i.syncEngine.eo(p)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,i,s){const u=new Td(this.currentUser,t,i,s),p=Zf(this.persistenceKey,this.currentUser,t);this.setItem(p,u.Vs())}Qs(t){const i=Zf(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,i,s){const u=Zs(this.persistenceKey,t),p=new Ja(t,i,s);this.setItem(u,p.Vs())}Ws(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Os,i)}Gs(t){const i=this.Cs.exec(t);return i?i[1]:null}js(t,i){const s=this.Gs(t);return Sl.Rs(s,i)}Hs(t,i){const s=this.Fs.exec(t),u=Number(s[1]);return Td.Rs(new Ne(void 0!==s[2]?s[2]:null),u,i)}Ys(t,i){const s=this.Ms.exec(t),u=Number(s[1]);return Ja.Rs(u,i)}Ls(t){return Dd.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var i=this;return(0,pe.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.no(t.batchId,t.state,t.error);lt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,i){const s=i?this.Ss.insert(t,i):this.Ss.remove(t),u=this.ks(this.Ss),p=this.ks(s),_=[],S=[];return p.forEach(N=>{u.has(N)||_.push(N)}),u.forEach(N=>{p.has(N)||S.push(N)}),this.syncEngine.io(_,S).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let i=ba();return t.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class bd{constructor(){this.so=new Mu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,s){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Mu,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Jf{_o(t){}shutdown(){}}class Fh{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Rl=null;function wd(){return null===Rl?Rl=268435456+Math.round(2147483648*Math.random()):Rl++,"0x"+Rl.toString(16)}const qg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sd{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Gi="WebChannelConnection";class Xg extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(i,s,u,p,_){const S=wd(),N=this.xo(i,s.toUriEncodedString());lt("RestConnection",`Sending RPC '${i}' ${S}:`,N,u);const W={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(W,p,_),this.No(i,N,W,u).then(se=>(lt("RestConnection",`Received RPC '${i}' ${S}: `,se),se),se=>{throw Cn("RestConnection",`RPC '${i}' ${S} failed with error: `,se,"url: ",N,"request:",u),se})}Lo(i,s,u,p,_,S){return this.Mo(i,s,u,p,_)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+tt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,_)=>i[_]=p),u&&u.headers.forEach((p,_)=>i[_]=p)}xo(i,s){return`${this.Do}/v1/${s}:${qg[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,s,u){const p=wd();return new Promise((_,S)=>{const N=new Jt;N.setWithCredentials(!0),N.listenOnce(Te.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Ie.NO_ERROR:const se=N.getResponseJson();lt(Gi,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(se)),_(se);break;case Ie.TIMEOUT:lt(Gi,`RPC '${t}' ${p} timed out`),S(new Oe(Me.DEADLINE_EXCEEDED,"Request time out"));break;case Ie.HTTP_ERROR:const we=N.getStatus();if(lt(Gi,`RPC '${t}' ${p} failed with status:`,we,"response text:",N.getResponseText()),we>0){let Ze=N.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const xt=null==Ze?void 0:Ze.error;if(xt&&xt.status&&xt.message){const on=function(hn){const Hn=hn.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(Hn)>=0?Hn:Me.UNKNOWN}(xt.status);S(new Oe(on,xt.message))}else S(new Oe(Me.UNKNOWN,"Server responded with status "+N.getStatus()))}else S(new Oe(Me.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{lt(Gi,`RPC '${t}' ${p} completed.`)}});const W=JSON.stringify(u);lt(Gi,`RPC '${t}' ${p} sending request:`,u),N.send(i,"POST",W,s,15)})}Bo(t,i,s){const u=wd(),p=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],_=Xe(),S=Ae(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(N.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(N.useFetchStreams=!0),this.Oo(N.initMessageHeaders,i,s),N.encodeInitMessageHeaders=!0;const se=p.join("");lt(Gi,`Creating RPC '${t}' stream ${u}: ${se}`,N);const we=_.createWebChannel(se,N);let Ze=!1,xt=!1;const on=new Sd({Io:hn=>{xt?lt(Gi,`Not sending because RPC '${t}' stream ${u} is closed:`,hn):(Ze||(lt(Gi,`Opening RPC '${t}' stream ${u} transport.`),we.open(),Ze=!0),lt(Gi,`RPC '${t}' stream ${u} sending:`,hn),we.send(hn))},To:()=>we.close()}),mn=(hn,Hn,rr)=>{hn.listen(Hn,zn=>{try{rr(zn)}catch(ur){setTimeout(()=>{throw ur},0)}})};return mn(we,kt.EventType.OPEN,()=>{xt||(lt(Gi,`RPC '${t}' stream ${u} transport opened.`),on.yo())}),mn(we,kt.EventType.CLOSE,()=>{xt||(xt=!0,lt(Gi,`RPC '${t}' stream ${u} transport closed`),on.So())}),mn(we,kt.EventType.ERROR,hn=>{xt||(xt=!0,Cn(Gi,`RPC '${t}' stream ${u} transport errored:`,hn),on.So(new Oe(Me.UNAVAILABLE,"The operation could not be completed")))}),mn(we,kt.EventType.MESSAGE,hn=>{var Hn;if(!xt){const rr=hn.data[0];Kt(!!rr);const ur=rr.error||(null===(Hn=rr[0])||void 0===Hn?void 0:Hn.error);if(ur){lt(Gi,`RPC '${t}' stream ${u} received error:`,ur);const Zr=ur.status;let Er=function(pt){const Tt=_r[pt];if(void 0!==Tt)return lr(Tt)}(Zr),Et=ur.message;void 0===Er&&(Er=Me.INTERNAL,Et="Unknown error status: "+Zr+" with message "+ur.message),xt=!0,on.So(new Oe(Er,Et)),we.close()}else lt(Gi,`RPC '${t}' stream ${u} received:`,rr),on.bo(rr)}}),mn(S,Y.STAT_EVENT,hn=>{hn.stat===_e.PROXY?lt(Gi,`RPC '${t}' stream ${u} detected buffering proxy`):hn.stat===_e.NOPROXY&&lt(Gi,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{on.wo()},0),on}}function Vh(){return typeof window<"u"?window:null}function Nc(){return typeof document<"u"?document:null}function Fa(l){return new fc(l,!0)}class Js{constructor(t,i,s=1e3,u=1.5,p=6e4){this.ui=t,this.timerId=i,this.ko=s,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class lo{constructor(t,i,s,u,p,_,S,N){this.ui=t,this.Ho=s,this.Jo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=S,this.listener=N,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Js(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,pe.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,pe.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var s=this;return(0,pe.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():i&&i.code===Me.RESOURCE_EXHAUSTED?(an(i.toString()),an("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===Me.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{t(()=>{const u=new Oe(Me.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,i){const s=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,pe.A)(function*(){t.state=0,t.start()}))}I_(t){return lt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ep extends lo{constructor(t,i,s,u,p,_){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function w(l,t){let i;if("targetChange"in t){const s="NO_CHANGE"===(W=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:Ft(),u=t.targetChange.targetIds||[],p=function(W,se){return W.useProto3Json?(Kt(void 0===se||"string"==typeof se),le.fromBase64String(se||"")):(Kt(void 0===se||se instanceof Buffer||se instanceof Uint8Array),le.fromUint8Array(se||new Uint8Array))}(l,t.targetChange.resumeToken),_=t.targetChange.cause,S=_&&function(W){const se=void 0===W.code?Me.UNKNOWN:lr(W.code);return new Oe(se,W.message||"")}(_);i=new li(s,u,p,S||null)}else if("documentChange"in t){const s=t.documentChange,u=$o(l,s.document.name),p=Di(s.document.updateTime),_=s.document.createTime?Di(s.document.createTime):fn.min(),S=new Zi({mapValue:{fields:s.document.fields}}),N=Rr.newFoundDocument(u,p,_,S);i=new wo(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in t){const s=t.documentDelete,u=$o(l,s.document),p=s.readTime?Di(s.readTime):fn.min(),_=Rr.newNoDocument(u,p);i=new wo([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in t){const s=t.documentRemove,u=$o(l,s.document);i=new wo([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Ft();{const s=t.filter,{count:u=0,unchangedNames:p}=s,_=new Hs(u,p);i=new yl(s.targetId,_)}}var W;return i}(this.serializer,t),s=function(p){if(!("targetChange"in p))return fn.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?fn.min():_.readTime?Di(_.readTime):fn.min()}(t);return this.listener.d_(i,s)}A_(t){const i={};i.database=Iu(this.serializer),i.addTarget=function(p,_){let S;const N=_.target;if(S=Xn(N)?{documents:oe(p,N)}:{query:ue(p,N)._t},S.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){S.resumeToken=Ma(p,_.resumeToken);const W=Ei(p,_.expectedCount);null!==W&&(S.expectedCount=W)}else if(_.snapshotVersion.compareTo(fn.min())>0){S.readTime=Ui(p,_.snapshotVersion.toTimestamp());const W=Ei(p,_.expectedCount);null!==W&&(S.expectedCount=W)}return S}(this.serializer,t);const s=function Dt(l,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);s&&(i.labels=s),this.a_(i)}R_(t){const i={};i.database=Iu(this.serializer),i.removeTarget=t,this.a_(i)}}class tp extends lo{constructor(t,i,s,u,p,_){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function k(l,t){return l&&l.length>0?(Kt(void 0!==t),l.map(i=>function(u,p){let _=Di(u.updateTime?u.updateTime:p);return _.isEqual(fn.min())&&(_=Di(p)),new U(_,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),s=Di(t.commitTime);return this.listener.g_(s,i)}p_(){const t={};t.database=Iu(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>P(this.serializer,s))};this.a_(i)}}class Lh extends class{}{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Oe(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Mo(t,Pa(i,s),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Oe(Me.UNKNOWN,p.toString())})}Lo(t,i,s,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,S])=>this.connection.Lo(t,Pa(i,s),u,_,S,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Oe(Me.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Qg{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(an(i),this.D_=!1):lt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class np{constructor(t,i,s,u,p){var _=this;this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(S=>{s.enqueueAndForget((0,pe.A)(function*(){var N;Ml(_)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,pe.A)(function*(se){const we=qt(se);we.L_.add(4),yield tl(we),we.q_.set("Unknown"),we.L_.delete(4),yield el(we)}),function W(se){return N.apply(this,arguments)})(_))}))}),this.q_=new Qg(s,u)}}function el(l){return xc.apply(this,arguments)}function xc(){return(xc=(0,pe.A)(function*(l){if(Ml(l))for(const t of l.B_)yield t(!0)})).apply(this,arguments)}function tl(l){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,pe.A)(function*(l){for(const t of l.B_)yield t(!1)})).apply(this,arguments)}function nu(l,t){const i=qt(l);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),Oc(i)?ru(i):ie(i).r_()&&Uh(i,t))}function nl(l,t){const i=qt(l),s=ie(i);i.N_.delete(t),s.r_()&&As(i,t),0===i.N_.size&&(s.r_()?s.o_():Ml(i)&&i.q_.set("Unknown"))}function Uh(l,t){if(l.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ie(l).A_(t)}function As(l,t){l.Q_.xe(t),ie(l).R_(t)}function ru(l){l.Q_=new Hl({getRemoteKeysForTarget:t=>l.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>l.N_.get(t)||null,tt:()=>l.datastore.serializer.databaseId}),ie(l).start(),l.q_.v_()}function Oc(l){return Ml(l)&&!ie(l).n_()&&l.N_.size>0}function Ml(l){return 0===qt(l).L_.size}function kc(l){l.Q_=void 0}function Bh(l){return $h.apply(this,arguments)}function $h(){return($h=(0,pe.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function Yg(l){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,pe.A)(function*(l){l.N_.forEach((t,i)=>{Uh(l,t)})})).apply(this,arguments)}function rl(l,t){return _o.apply(this,arguments)}function _o(){return(_o=(0,pe.A)(function*(l,t){kc(l),Oc(l)?(l.q_.M_(t),ru(l)):l.q_.set("Unknown")})).apply(this,arguments)}function Yv(l,t,i){return jh.apply(this,arguments)}function jh(){return jh=(0,pe.A)(function*(l,t,i){if(l.q_.set("Online"),t instanceof li&&2===t.state&&t.cause)try{yield(s=(0,pe.A)(function*(p,_){const S=_.cause;for(const N of _.targetIds)p.N_.has(N)&&(yield p.remoteSyncer.rejectListen(N,S),p.N_.delete(N),p.Q_.removeTarget(N))}),function u(p,_){return s.apply(this,arguments)})(l,t)}catch(s){lt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Hh(l,s)}else if(t instanceof wo?l.Q_.Ke(t):t instanceof yl?l.Q_.He(t):l.Q_.We(t),!i.isEqual(fn.min()))try{const s=yield Wg(l.localStore);i.compareTo(s)>=0&&(yield function(p,_){const S=p.Q_.rt(_);return S.targetChanges.forEach((N,W)=>{if(N.resumeToken.approximateByteSize()>0){const se=p.N_.get(W);se&&p.N_.set(W,se.withResumeToken(N.resumeToken,_))}}),S.targetMismatches.forEach((N,W)=>{const se=p.N_.get(N);if(!se)return;p.N_.set(N,se.withResumeToken(le.EMPTY_BYTE_STRING,se.snapshotVersion)),As(p,N);const we=new Ho(se.target,N,W,se.sequenceNumber);Uh(p,we)}),p.remoteSyncer.applyRemoteEvent(S)}(l,i))}catch(s){lt("RemoteStore","Failed to raise snapshot:",s),yield Hh(l,s)}var s}),jh.apply(this,arguments)}function Hh(l,t,i){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,pe.A)(function*(l,t,i){if(!ri(t))throw t;l.L_.add(1),yield tl(l),l.q_.set("Offline"),i||(i=()=>Wg(l.localStore)),l.asyncQueue.enqueueRetryable((0,pe.A)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield el(l)}))})).apply(this,arguments)}function Cs(l,t){return t().catch(i=>Hh(l,i,t))}function Va(l){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,pe.A)(function*(l){const t=qt(l),i=We(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Vc(t);)try{const u=yield Qv(t.localStore,s);if(null===u){0===t.O_.length&&i.o_();break}s=u.batchId,il(t,u)}catch(u){yield Hh(t,u)}xu(t)&&ol(t)})).apply(this,arguments)}function Vc(l){return Ml(l)&&l.O_.length<10}function il(l,t){l.O_.push(t);const i=We(l);i.r_()&&i.V_&&i.m_(t.mutations)}function xu(l){return Ml(l)&&!We(l).n_()&&l.O_.length>0}function ol(l){We(l).start()}function Zg(l){return zh.apply(this,arguments)}function zh(){return(zh=(0,pe.A)(function*(l){We(l).p_()})).apply(this,arguments)}function ea(l){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,pe.A)(function*(l){const t=We(l);for(const i of l.O_)t.m_(i.mutations)})).apply(this,arguments)}function rp(l,t,i){return Md.apply(this,arguments)}function Md(){return(Md=(0,pe.A)(function*(l,t,i){const s=l.O_.shift(),u=Fi.from(s,t,i);yield Cs(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield Va(l)})).apply(this,arguments)}function Zv(l,t){return y.apply(this,arguments)}function y(){return y=(0,pe.A)(function*(l,t){var i;t&&We(l).V_&&(yield(i=(0,pe.A)(function*(u,p){if(vs(S=p.code)&&S!==Me.ABORTED){const _=u.O_.shift();We(u).s_(),yield Cs(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield Va(u)}var S}),function s(u,p){return i.apply(this,arguments)})(l,t)),xu(l)&&ol(l)}),y.apply(this,arguments)}function h(l,t){return g.apply(this,arguments)}function g(){return(g=(0,pe.A)(function*(l,t){const i=qt(l);i.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const s=Ml(i);i.L_.add(3),yield tl(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield el(i)})).apply(this,arguments)}function E(l,t){return j.apply(this,arguments)}function j(){return(j=(0,pe.A)(function*(l,t){const i=qt(l);t?(i.L_.delete(2),yield el(i)):t||(i.L_.add(2),yield tl(i),i.q_.set("Unknown"))})).apply(this,arguments)}function ie(l){return l.K_||(l.K_=function(i,s,u){const p=qt(i);return p.w_(),new ep(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:Bh.bind(null,l),Ro:Yg.bind(null,l),mo:rl.bind(null,l),d_:Yv.bind(null,l)}),l.B_.push(function(){var t=(0,pe.A)(function*(i){i?(l.K_.s_(),Oc(l)?ru(l):l.q_.set("Unknown")):(yield l.K_.stop(),kc(l))});return function(i){return t.apply(this,arguments)}}())),l.K_}function We(l){return l.U_||(l.U_=function(i,s,u){const p=qt(i);return p.w_(),new tp(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Zg.bind(null,l),mo:Zv.bind(null,l),f_:ea.bind(null,l),g_:rp.bind(null,l)}),l.B_.push(function(){var t=(0,pe.A)(function*(i){i?(l.U_.s_(),yield Va(l)):(yield l.U_.stop(),l.O_.length>0&&(lt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return t.apply(this,arguments)}}())),l.U_}class Ct{constructor(t,i,s,u,p){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new Pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,p){const _=Date.now()+s,S=new Ct(t,i,_,u,p);return S.start(s),S}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(Me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qt(l,t){if(an("AsyncQueue",`${t}: ${l}`),ri(l))return new Oe(Me.UNAVAILABLE,`${t}: ${l}`);throw l}class An{constructor(t){this.comparator=t?(i,s)=>t(i,s)||nn.comparator(i.key,s.key):(i,s)=>nn.comparator(i.key,s.key),this.keyedMap=pl(),this.sortedSet=new Qr(this.comparator)}static emptySet(t){return new An(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof An)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const s=new An;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class $n{constructor(){this.W_=new Qr(nn.comparator)}track(t){const i=t.doc.key,s=this.W_.get(i);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(i):1===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Ft():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,s)=>{t.push(s)}),t}}class On{constructor(t,i,s,u,p,_,S,N,W){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=S,this.excludesMetadataChanges=N,this.hasCachedResults=W}static fromInitialDocuments(t,i,s,u,p){const _=[];return i.forEach(S=>{_.push({type:0,doc:S})}),new On(t,i,An.emptySet(i),_,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ua(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Wi{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class ga{constructor(){this.queries=ku(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=qt(i),p=u.queries;u.queries=ku(),p.forEach((_,S)=>{for(const N of S.j_)N.onError(s)})}(this,new Oe(Me.ABORTED,"Firestore shutting down"))}}function ku(){return new ns(l=>Vo(l),ua)}function Pd(l,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,pe.A)(function*(l,t){const i=qt(l);let s=3;const u=t.query;let p=i.queries.get(u);p?!p.H_()&&t.J_()&&(s=2):(p=new Wi,s=t.J_()?0:1);try{switch(s){case 0:p.z_=yield i.onListen(u,!0);break;case 1:p.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const S=Qt(_,`Initialization of query '${Os(t.query)}' failed`);return void t.onError(S)}i.queries.set(u,p),p.j_.push(t),t.Z_(i.onlineState),p.z_&&t.X_(p.z_)&&Gh(i)})).apply(this,arguments)}function Nd(l,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,pe.A)(function*(l,t){const i=qt(l),s=t.query;let u=3;const p=i.queries.get(s);if(p){const _=p.j_.indexOf(t);_>=0&&(p.j_.splice(_,1),0===p.j_.length?u=t.J_()?0:1:!p.H_()&&t.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function ip(l,t){const i=qt(l);let s=!1;for(const u of t){const _=i.queries.get(u.query);if(_){for(const S of _.j_)S.X_(u)&&(s=!0);_.z_=u}}s&&Gh(i)}function Jg(l,t,i){const s=qt(l),u=s.queries.get(t);if(u)for(const p of u.j_)p.onError(i);s.queries.delete(t)}function Gh(l){l.Y_.forEach(t=>{t.next()})}var xd,op;(op=xd||(xd={})).ea="default",op.Cache="cache";class Wh{constructor(t,i,s){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new On(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=On.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==xd.Cache}}class Pl{constructor(t,i){this.aa=t,this.byteLength=i}ua(){return"metadata"in this.aa}}class Fu{constructor(t){this.serializer=t}Es(t){return $o(this.serializer,t)}ds(t){return t.metadata.exists?Bf(this.serializer,t.document,!1):Rr.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Di(t)}}class Jv{constructor(t,i,s){this.ca=t,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=e_(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++i;const s=Ln.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(t){const i=new Map,s=new Fu(this.serializer);for(const u of t)if(u.metadata.queries){const p=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const S=(i.get(_)||yr()).add(p);i.set(_,S)}}return i}complete(){var t=this;return(0,pe.A)(function*(){const i=yield function Oh(l,t,i,s){return Ru.apply(this,arguments)}(t.localStore,new Fu(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield Yf(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:i}})()}}function e_(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class sp{constructor(t){this.key=t}}class Od{constructor(t){this.key=t}}class t_{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yr(),this.mutatedKeys=yr(),this.Aa=Ul(t),this.Ra=new An(this.Aa)}get Va(){return this.Ta}ma(t,i){const s=i?i.fa:new $n,u=i?i.Ra:this.Ra;let p=i?i.mutatedKeys:this.mutatedKeys,_=u,S=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,W="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((se,we)=>{const Ze=u.get(se),xt=Da(this.query,we)?we:null,on=!!Ze&&this.mutatedKeys.has(Ze.key),mn=!!xt&&(xt.hasLocalMutations||this.mutatedKeys.has(xt.key)&&xt.hasCommittedMutations);let hn=!1;Ze&&xt?Ze.data.isEqual(xt.data)?on!==mn&&(s.track({type:3,doc:xt}),hn=!0):this.ga(Ze,xt)||(s.track({type:2,doc:xt}),hn=!0,(N&&this.Aa(xt,N)>0||W&&this.Aa(xt,W)<0)&&(S=!0)):!Ze&&xt?(s.track({type:0,doc:xt}),hn=!0):Ze&&!xt&&(s.track({type:1,doc:Ze}),hn=!0,(N||W)&&(S=!0)),hn&&(xt?(_=_.add(xt),p=mn?p.add(se):p.delete(se)):(_=_.delete(se),p=p.delete(se)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const se="F"===this.query.limitType?_.last():_.first();_=_.delete(se.key),p=p.delete(se.key),s.track({type:1,doc:se})}return{Ra:_,fa:s,ns:S,mutatedKeys:p}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const p=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const _=t.fa.G_();_.sort((se,we)=>function(xt,on){const mn=hn=>{switch(hn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return mn(xt)-mn(on)}(se.type,we.type)||this.Aa(se.doc,we.doc)),this.pa(s),u=null!=u&&u;const S=i&&!u?this.ya():[],N=0===this.da.size&&this.current&&!u?1:0,W=N!==this.Ea;return this.Ea=N,0!==_.length||W?{snapshot:new On(this.query,t.Ra,p,_,t.mutatedKeys,0===N,W,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:S}:{wa:S}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $n,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=yr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return t.forEach(s=>{this.da.has(s)||i.push(new Od(s))}),this.da.forEach(s=>{t.has(s)||i.push(new sp(s))}),i}ba(t){this.Ta=t.Ts,this.da=yr();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return On.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class em{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class n_{constructor(t){this.key=t,this.va=!1}}class Kh{constructor(t,i,s,u,p,_){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new ns(S=>Vo(S),ua),this.Ma=new Map,this.xa=new Set,this.Oa=new Qr(nn.comparator),this.Na=new Map,this.La=new po,this.Ba={},this.ka=new Map,this.qa=Du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function qh(l,t){return ap.apply(this,arguments)}function ap(){return(ap=(0,pe.A)(function*(l,t,i=!0){const s=yp(l);let u;const p=s.Fa.get(t);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield r_(s,t,i,!0),u})).apply(this,arguments)}function tm(l,t){return nm.apply(this,arguments)}function nm(){return(nm=(0,pe.A)(function*(l,t){const i=yp(l);yield r_(i,t,!0,!1)})).apply(this,arguments)}function r_(l,t,i,s){return rm.apply(this,arguments)}function rm(){return(rm=(0,pe.A)(function*(l,t,i,s){const u=yield wl(l.localStore,jr(t)),p=u.targetId,_=l.sharedClientState.addLocalQueryTarget(p,i);let S;return s&&(S=yield lp(l,t,p,"current"===_,u.resumeToken)),l.isPrimaryClient&&i&&nu(l.remoteStore,u),S})).apply(this,arguments)}function lp(l,t,i,s,u){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,pe.A)(function*(l,t,i,s,u){l.Ka=(we,Ze,xt)=>{return(on=(0,pe.A)(function*(hn,Hn,rr,zn){let ur=Hn.view.ma(rr);ur.ns&&(ur=yield ka(hn.localStore,Hn.query,!1).then(({documents:qe})=>Hn.view.ma(qe,ur)));const Zr=zn&&zn.targetChanges.get(Hn.targetId),Er=zn&&null!=zn.targetMismatches.get(Hn.targetId),Et=Hn.view.applyChanges(ur,hn.isPrimaryClient,Zr,Er);return gp(hn,Hn.targetId,Et.wa),Et.snapshot}),function mn(hn,Hn,rr,zn){return on.apply(this,arguments)})(l,we,Ze,xt);var on};const p=yield ka(l.localStore,t,!0),_=new t_(t,p.Ts),S=_.ma(p.documents),N=Ra.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),W=_.applyChanges(S,l.isPrimaryClient,N);gp(l,i,W.wa);const se=new em(t,i,_);return l.Fa.set(t,se),l.Ma.has(i)?l.Ma.get(i).push(t):l.Ma.set(i,[t]),W.snapshot}),Xh.apply(this,arguments)}function D0(l,t,i){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,pe.A)(function*(l,t,i){const s=qt(l),u=s.Fa.get(t),p=s.Ma.get(u.targetId);if(p.length>1)return s.Ma.set(u.targetId,p.filter(_=>!ua(_,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Es(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&nl(s.remoteStore,u.targetId),kd(s,u.targetId)}).catch(gr))):(kd(s,u.targetId),yield Es(s.localStore,u.targetId,!0))})).apply(this,arguments)}function im(l,t){return up.apply(this,arguments)}function up(){return(up=(0,pe.A)(function*(l,t){const i=qt(l),s=i.Fa.get(t),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),nl(i.remoteStore,s.targetId))})).apply(this,arguments)}function i_(){return(i_=(0,pe.A)(function*(l,t,i){const s=Ip(l);try{const u=yield function(_,S){const N=qt(_),W=ar.now(),se=S.reduce((xt,on)=>xt.add(on.key),yr());let we,Ze;return N.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let on=Lo(),mn=yr();return N.cs.getEntries(xt,se).next(hn=>{on=hn,on.forEach((Hn,rr)=>{rr.isValidDocument()||(mn=mn.add(Hn))})}).next(()=>N.localDocuments.getOverlayedDocuments(xt,on)).next(hn=>{we=hn;const Hn=[];for(const rr of S){const zn=Gr(rr,we.get(rr.key).overlayedDocument);null!=zn&&Hn.push(new Fr(rr.key,zn,Ns(zn.value.mapValue),ne.exists(!0)))}return N.mutationQueue.addMutationBatch(xt,W,Hn,S)}).next(hn=>{Ze=hn;const Hn=hn.applyToLocalDocumentSet(we,mn);return N.documentOverlayCache.saveOverlays(xt,hn.batchId,Hn)})}).then(()=>({batchId:Ze.batchId,changes:Ha(we)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(_,S,N){let W=_.Ba[_.currentUser.toKey()];W||(W=new Qr(_n)),W=W.insert(S,N),_.Ba[_.currentUser.toKey()]=W}(s,u.batchId,i),yield La(s,u.changes),yield Va(s.remoteStore)}catch(u){const p=Qt(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function b0(l,t){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,pe.A)(function*(l,t){const i=qt(l);try{const s=yield function Kg(l,t){const i=qt(l),s=t.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const S=[];t.targetChanges.forEach((se,we)=>{const Ze=u.get(we);if(!Ze)return;S.push(i.Ur.removeMatchingKeys(p,se.removedDocuments,we).next(()=>i.Ur.addMatchingKeys(p,se.addedDocuments,we)));let xt=Ze.withSequenceNumber(p.currentSequenceNumber);var mn,hn,Hn;null!==t.targetMismatches.get(we)?xt=xt.withResumeToken(le.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):se.resumeToken.approximateByteSize()>0&&(xt=xt.withResumeToken(se.resumeToken,s)),u=u.insert(we,xt),hn=xt,Hn=se,(0===(mn=Ze).resumeToken.approximateByteSize()||hn.snapshotVersion.toMicroseconds()-mn.snapshotVersion.toMicroseconds()>=3e8||Hn.addedDocuments.size+Hn.modifiedDocuments.size+Hn.removedDocuments.size>0)&&S.push(i.Ur.updateTargetData(p,xt))});let N=Lo(),W=yr();if(t.documentUpdates.forEach(se=>{t.resolvedLimboDocuments.has(se)&&S.push(i.persistence.referenceDelegate.updateLimboDocument(p,se))}),S.push(eu(p,_,t.documentUpdates).next(se=>{N=se.Ps,W=se.Is})),!s.isEqual(fn.min())){const se=i.Ur.getLastRemoteSnapshotVersion(p).next(we=>i.Ur.setTargetsMetadata(p,p.currentSequenceNumber,s));S.push(se)}return at.waitFor(S).next(()=>_.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,N,W)).next(()=>N)}).then(p=>(i.os=u,p))}(i.localStore,t);t.targetChanges.forEach((u,p)=>{const _=i.Na.get(p);_&&(Kt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?Kt(_.va):u.removedDocuments.size>0&&(Kt(_.va),_.va=!1))}),yield La(i,s,t)}catch(s){yield gr(s)}})).apply(this,arguments)}function Uc(l,t,i){const s=qt(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((p,_)=>{const S=_.view.Z_(t);S.snapshot&&u.push(S.snapshot)}),function(_,S){const N=qt(_);N.onlineState=S;let W=!1;N.queries.forEach((se,we)=>{for(const Ze of we.j_)Ze.Z_(S)&&(W=!0)}),W&&Gh(N)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function o_(l,t,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,pe.A)(function*(l,t,i){const s=qt(l);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Na.get(t),p=u&&u.key;if(p){let _=new Qr(nn.comparator);_=_.insert(p,Rr.newNoDocument(p,fn.min()));const S=yr().add(p),N=new ks(fn.min(),new Map,new Qr(_n),_,S);yield b0(s,N),s.Oa=s.Oa.remove(p),s.Na.delete(t),mp(s)}else yield Es(s.localStore,t,!1).then(()=>kd(s,t,i)).catch(gr)})).apply(this,arguments)}function w0(l,t){return hp.apply(this,arguments)}function hp(){return(hp=(0,pe.A)(function*(l,t){const i=qt(l),s=t.batch.batchId;try{const u=yield function Gg(l,t){const i=qt(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),p=i.cs.newChangeBuffer({trackRemovals:!0});return function(S,N,W,se){const we=W.batch,Ze=we.keys();let xt=at.resolve();return Ze.forEach(on=>{xt=xt.next(()=>se.getEntry(N,on)).next(mn=>{const hn=W.docVersions.get(on);Kt(null!==hn),mn.version.compareTo(hn)<0&&(we.applyToRemoteDocument(mn,W),mn.isValidDocument()&&(mn.setReadTime(W.commitVersion),se.addEntry(mn)))})}),xt.next(()=>S.mutationQueue.removeMutationBatch(N,we))}(i,s,t,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let N=yr();for(let W=0;W<S.mutationResults.length;++W)S.mutationResults[W].transformResults.length>0&&(N=N.add(S.batch.mutations[W].key));return N}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,t);sm(i,s,null),om(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield La(i,u)}catch(u){yield gr(u)}})).apply(this,arguments)}function S0(l,t,i){return fp.apply(this,arguments)}function fp(){return(fp=(0,pe.A)(function*(l,t,i){const s=qt(l);try{const u=yield function(_,S){const N=qt(_);return N.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let se;return N.mutationQueue.lookupMutationBatch(W,S).next(we=>(Kt(null!==we),se=we.keys(),N.mutationQueue.removeMutationBatch(W,we))).next(()=>N.mutationQueue.performConsistencyCheck(W)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(W,se,S)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,se)).next(()=>N.localDocuments.getDocuments(W,se))})}(s.localStore,t);sm(s,t,i),om(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),yield La(s,u)}catch(u){yield gr(u)}})).apply(this,arguments)}function pp(){return(pp=(0,pe.A)(function*(l,t){const i=qt(l);Ml(i.remoteStore)||lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const S=qt(_);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>S.mutationQueue.getHighestUnacknowledgedBatchId(N))}(i.localStore);if(-1===s)return void t.resolve();const u=i.ka.get(s)||[];u.push(t),i.ka.set(s,u)}catch(s){const u=Qt(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function om(l,t){(l.ka.get(t)||[]).forEach(i=>{i.resolve()}),l.ka.delete(t)}function sm(l,t,i){const s=qt(l);let u=s.Ba[s.currentUser.toKey()];if(u){const p=u.get(t);p&&(i?p.reject(i):p.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function kd(l,t,i=null){l.sharedClientState.removeLocalQueryTarget(t);for(const s of l.Ma.get(t))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(t),l.isPrimaryClient&&l.La.gr(t).forEach(s=>{l.La.containsKey(s)||s_(l,s)})}function s_(l,t){l.xa.delete(t.path.canonicalString());const i=l.Oa.get(t);null!==i&&(nl(l.remoteStore,i),l.Oa=l.Oa.remove(t),l.Na.delete(i),mp(l))}function gp(l,t,i){for(const s of i)s instanceof sp?(l.La.addReference(s.key,t),a_(l,s)):s instanceof Od?(lt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,t),l.La.containsKey(s.key)||s_(l,s.key)):Ft()}function a_(l,t){const i=t.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(lt("SyncEngine","New document in limbo: "+i),l.xa.add(s),mp(l))}function mp(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const t=l.xa.values().next().value;l.xa.delete(t);const i=new nn(Ln.fromString(t)),s=l.qa.next();l.Na.set(s,new n_(i)),l.Oa=l.Oa.insert(i,s),nu(l.remoteStore,new Ho(jr(Fo(i.path)),s,"TargetPurposeLimboResolution",z.oe))}}function La(l,t,i){return vp.apply(this,arguments)}function vp(){return vp=(0,pe.A)(function*(l,t,i){const s=qt(l),u=[],p=[],_=[];var S;s.Fa.isEmpty()||(s.Fa.forEach((S,N)=>{_.push(s.Ka(N,t,i).then(W=>{var se;if((W||i)&&s.isPrimaryClient){const we=W?!W.fromCache:null===(se=null==i?void 0:i.targetChanges.get(N.targetId))||void 0===se?void 0:se.current;s.sharedClientState.updateQueryState(N.targetId,we?"current":"not-current")}if(W){u.push(W);const we=Sc.Wi(N.targetId,W);p.push(we)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(S=(0,pe.A)(function*(W,se){const we=qt(W);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>at.forEach(se,xt=>at.forEach(xt.$i,on=>we.persistence.referenceDelegate.addReference(Ze,xt.targetId,on)).next(()=>at.forEach(xt.Ui,on=>we.persistence.referenceDelegate.removeReference(Ze,xt.targetId,on)))))}catch(Ze){if(!ri(Ze))throw Ze;lt("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of se){const xt=Ze.targetId;if(!Ze.fromCache){const on=we.os.get(xt),hn=on.withLastLimboFreeSnapshotVersion(on.snapshotVersion);we.os=we.os.insert(xt,hn)}}}),function N(W,se){return S.apply(this,arguments)})(s.localStore,p))}),vp.apply(this,arguments)}function l_(l,t){return _p.apply(this,arguments)}function _p(){return(_p=(0,pe.A)(function*(l,t){const i=qt(l);if(!i.currentUser.isEqual(t)){lt("SyncEngine","User change. New user:",t.toKey());const s=yield Ed(i.localStore,t);i.currentUser=t,(p=i).ka.forEach(S=>{S.forEach(N=>{N.reject(new Oe(Me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield La(i,s.hs)}var p})).apply(this,arguments)}function u_(l,t){const i=qt(l),s=i.Na.get(t);if(s&&s.va)return yr().add(s.key);{let u=yr();const p=i.Ma.get(t);if(!p)return u;for(const _ of p){const S=i.Fa.get(_);u=u.unionWith(S.view.Va)}return u}}function M0(l,t){return am.apply(this,arguments)}function am(){return(am=(0,pe.A)(function*(l,t){const i=qt(l),s=yield ka(i.localStore,t.query,!0),u=t.view.ba(s);return i.isPrimaryClient&&gp(i,t.targetId,u.wa),u})).apply(this,arguments)}function P0(l,t){return lm.apply(this,arguments)}function lm(){return(lm=(0,pe.A)(function*(l,t){const i=qt(l);return Su(i.localStore,t).then(s=>La(i,s))})).apply(this,arguments)}function c_(l,t,i,s){return d_.apply(this,arguments)}function d_(){return(d_=(0,pe.A)(function*(l,t,i,s){const u=qt(l),p=yield function(S,N){const W=qt(S),se=qt(W.mutationQueue);return W.persistence.runTransaction("Lookup mutation documents","readonly",we=>se.Mn(we,N).next(Ze=>Ze?W.localDocuments.getDocuments(we,Ze):at.resolve(null)))}(u.localStore,t);var N;null!==p?("pending"===i?yield Va(u.remoteStore):"acknowledged"===i||"rejected"===i?(sm(u,t,s||null),om(u,t),N=t,qt(qt(u.localStore).mutationQueue).On(N)):Ft(),yield La(u,p)):lt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function um(){return(um=(0,pe.A)(function*(l,t){const i=qt(l);if(yp(i),Ip(i),!0===t&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield f_(i,s.toArray());i.Qa=!0,yield E(i.remoteStore,!0);for(const p of u)nu(i.remoteStore,p)}else if(!1===t&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((p,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(kd(i,_),Es(i.localStore,_,!0))),nl(i.remoteStore,_)}),yield u,yield f_(i,s),function(_){const S=qt(_);S.Na.forEach((N,W)=>{nl(S.remoteStore,W)}),S.La.pr(),S.Na=new Map,S.Oa=new Qr(nn.comparator)}(i),i.Qa=!1,yield E(i.remoteStore,!1)}})).apply(this,arguments)}function f_(l,t,i){return p_.apply(this,arguments)}function p_(){return(p_=(0,pe.A)(function*(l,t,i){const s=qt(l),u=[],p=[];for(const _ of t){let S;const N=s.Ma.get(_);if(N&&0!==N.length){S=yield wl(s.localStore,jr(N[0]));for(const W of N){const se=s.Fa.get(W),we=yield M0(s,se);we.snapshot&&p.push(we.snapshot)}}else{const W=yield Qf(s.localStore,_);S=yield wl(s.localStore,W),yield lp(s,g_(W),_,!1,S.resumeToken)}u.push(S)}return s.Ca.d_(p),u})).apply(this,arguments)}function g_(l){return ts(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function m_(l){return i=qt(l).localStore,qt(qt(i).persistence).Qi();var i}function cm(l,t,i,s){return dm.apply(this,arguments)}function dm(){return(dm=(0,pe.A)(function*(l,t,i,s){const u=qt(l);if(u.Qa)return void lt("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(t);if(p&&p.length>0)switch(i){case"current":case"not-current":{const _=yield Su(u.localStore,fl(p[0])),S=ks.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,le.EMPTY_BYTE_STRING);yield La(u,_,S);break}case"rejected":yield Es(u.localStore,t,!0),kd(u,t,s);break;default:Ft()}})).apply(this,arguments)}function Vu(l,t,i){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,pe.A)(function*(l,t,i){const s=yp(l);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){lt("SyncEngine","Adding an already active target "+u);continue}const p=yield Qf(s.localStore,u),_=yield wl(s.localStore,p);yield lp(s,g_(p),_.targetId,!1,_.resumeToken),nu(s.remoteStore,_)}for(const u of i)s.Ma.has(u)&&(yield Es(s.localStore,u,!1).then(()=>{nl(s.remoteStore,u),kd(s,u)}).catch(gr))}})).apply(this,arguments)}function yp(l){const t=qt(l);return t.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=u_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o_.bind(null,t),t.Ca.d_=ip.bind(null,t.eventManager),t.Ca.$a=Jg.bind(null,t.eventManager),t}function Ip(l){const t=qt(l);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w0.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=S0.bind(null,t),t}let Qh=(()=>{class l{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,pe.A)(function*(){s.serializer=Fa(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return Xf(this.persistence,new Jl,i.initialUser,this.serializer)}Ga(i){return new Dc(wu.Zr,this.serializer)}Wa(i){return new bd}terminate(){var i=this;return(0,pe.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return l.provider={build:()=>new l},l})();class hm extends Qh{constructor(t,i,s){super(),this.Ja=t,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,s=this;return(0,pe.A)(function*(){yield i().call(s,t),yield s.Ja.initialize(s,t),yield Ip(s.Ja.syncEngine),yield Va(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return Xf(this.persistence,new Jl,t.initialUser,this.serializer)}ja(t,i){return new Xs(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}Ha(t,i){const s=new te(i,this.persistence);return new dr(t.asyncQueue,s)}Ga(t){const i=wc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new bl(this.synchronizeTabs,i,t.clientId,s,t.asyncQueue,Vh(),Nc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new bd}}class v_ extends hm{constructor(t,i){super(t,i,!1),this.Ja=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,s=this;return(0,pe.A)(function*(){yield i().call(s,t);const u=s.Ja.syncEngine;s.sharedClientState instanceof tu&&(s.sharedClientState.syncEngine={no:c_.bind(null,u),ro:cm.bind(null,u),io:Vu.bind(null,u),Qi:m_.bind(null,u),eo:P0.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var p=(0,pe.A)(function*(_){yield function h_(l,t){return um.apply(this,arguments)}(s.Ja.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}Wa(t){const i=Vh();if(!tu.D(i))throw new Oe(Me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=wc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new tu(i,t.asyncQueue,s,t.clientId,t.initialUser)}}let Vd=(()=>{class l{initialize(i,s){var u=this;return(0,pe.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>Uc(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=l_.bind(null,u.syncEngine),yield E(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new ga}createDatastore(i){const s=Fa(i.databaseInfo.databaseId),u=new Xg(i.databaseInfo);return new Lh(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,p=this.datastore,_=i.asyncQueue,S=s=>Uc(this.syncEngine,s,0),N=Fh.D()?new Fh:new Jf,new np(u,p,_,S,N);var u,p,_,S,N}createSyncEngine(i,s){return function(p,_,S,N,W,se,we){const Ze=new Kh(p,_,S,N,W,se);return we&&(Ze.Qa=!0),Ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,pe.A)(function*(){var s,u,p;yield(p=(0,pe.A)(function*(S){const N=qt(S);lt("RemoteStore","RemoteStore shutting down."),N.L_.add(5),yield tl(N),N.k_.shutdown(),N.q_.set("Unknown")}),function _(S){return p.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return l.provider={build:()=>new l},l})();function N0(l,t=10240){let i=0;return{read:()=>(0,pe.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+t),done:!1};return i+=t,s}return{done:!0}})(),cancel:()=>(0,pe.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):an("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout(()=>{this.muted||t(i)},0)}}class Ap{constructor(t,i){this.Xa=t,this.serializer=i,this.metadata=new Pt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,pe.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,pe.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,pe.A)(function*(){const i=yield t.nu();if(null===i)return null;const s=t.eu.decode(i),u=Number(s);isNaN(u)&&t.ru(`length string (${s}) is not valid number`);const p=yield t.iu(u);return new Pl(JSON.parse(p),i.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,pe.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const i=t.su();i<0&&t.ru("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),s})()}iu(t){var i=this;return(0,pe.A)(function*(){for(;i.buffer.length<t;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),s})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,pe.A)(function*(){const i=yield t.Xa.read();if(!i.done){const s=new Uint8Array(t.buffer.length+i.value.length);s.set(t.buffer),s.set(i.value,t.buffer.length),t.buffer=s}return i.done})()}}class x0{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,pe.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Oe(Me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,pe.A)(function*(_,S){const N=qt(_),W={documents:S.map(xt=>El(N.serializer,xt))},se=yield N.Lo("BatchGetDocuments",N.serializer.databaseId,Ln.emptyPath(),W,S.length),we=new Map;se.forEach(xt=>{const on=function A(l,t){return"found"in t?function(s,u){Kt(!!u.found);const p=$o(s,u.found.name),_=Di(u.found.updateTime),S=u.found.createTime?Di(u.found.createTime):fn.min(),N=new Zi({mapValue:{fields:u.found.fields}});return Rr.newFoundDocument(p,_,S,N)}(l,t):"missing"in t?function(s,u){Kt(!!u.missing),Kt(!!u.readTime);const p=$o(s,u.missing),_=Di(u.readTime);return Rr.newNoDocument(p,_)}(l,t):Ft()}(N.serializer,xt);we.set(on.key.toString(),on)});const Ze=[];return S.forEach(xt=>{const on=we.get(xt.toString());Kt(!!on),Ze.push(on)}),Ze}),function p(_,S){return u.apply(this,arguments)})(i.datastore,t);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new un(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,pe.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var s;t.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const p=nn.fromPath(u);t.mutations.push(new Bn(p,t.precondition(p)))}),yield(s=(0,pe.A)(function*(p,_){const S=qt(p),N={writes:_.map(W=>P(S.serializer,W))};yield S.Mo("Commit",S.serializer.databaseId,Ln.emptyPath(),N)}),function u(p,_){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Ft();i=fn.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new Oe(Me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(fn.min())?ne.exists(!1):ne.updateTime(i):ne.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(fn.min()))throw new Oe(Me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ne.updateTime(i)}return ne.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class pm{constructor(t,i,s,u,p){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=p,this._u=s.maxAttempts,this.t_=new Js(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,pe.A)(function*(){const i=new x0(t.datastore),s=t.cu(i);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(p=>{t.lu(p)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const i=this.updateFunction(t);return!he(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!vs(i)}return!1}}class gm{constructor(t,i,s,u,p){var _=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ne.UNAUTHENTICATED,this.clientId=Xr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var S=(0,pe.A)(function*(N){lt("FirestoreClient","Received user=",N.uid),yield _.authCredentialListener(N),_.user=N});return function(N){return S.apply(this,arguments)}}()),this.appCheckCredentials.start(s,S=>(lt("FirestoreClient","Received new app check token=",S),this.appCheckCredentialListener(S,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new Pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Qt(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Lu(l,t){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,pe.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield t.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,pe.A)(function*(p){s.isEqual(p)||(yield Ed(t.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=t}),Bc.apply(this,arguments)}function Yh(l,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,pe.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress();const i=yield $c(l);lt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,l.configuration),l.setCredentialChangeListener(s=>h(t.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>h(t.remoteStore,u)),l._onlineComponents=t})).apply(this,arguments)}function $c(l){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,pe.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){lt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lu(l,l._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===Me.FAILED_PRECONDITION||u.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;Cn("Error using user provided cache. Falling back to memory cache: "+t),yield Lu(l,new Qh)}}else lt("FirestoreClient","Using default OfflineComponentProvider"),yield Lu(l,new Qh);var u;return l._offlineComponents})).apply(this,arguments)}function Ld(l){return jc.apply(this,arguments)}function jc(){return(jc=(0,pe.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(lt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Yh(l,l._uninitializedComponentsProvider._online)):(lt("FirestoreClient","Using default OnlineComponentProvider"),yield Yh(l,new Vd))),l._onlineComponents})).apply(this,arguments)}function Hc(l){return $c(l).then(t=>t.persistence)}function iu(l){return $c(l).then(t=>t.localStore)}function O0(l){return Ld(l).then(t=>t.remoteStore)}function Zh(l){return Ld(l).then(t=>t.syncEngine)}function Bd(l){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,pe.A)(function*(l){const t=yield Ld(l),i=t.eventManager;return i.onListen=qh.bind(null,t.syncEngine),i.onUnlisten=D0.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=tm.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=im.bind(null,t.syncEngine),i})).apply(this,arguments)}function vm(l,t,i={}){const s=new Pt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(p,_,S,N,W){const se=new fm({next:Ze=>{se.Za(),_.enqueueAndForget(()=>Nd(p,we));const xt=Ze.docs.has(S);!xt&&Ze.fromCache?W.reject(new Oe(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&Ze.fromCache&&N&&"server"===N.source?W.reject(new Oe(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):W.resolve(Ze)},error:Ze=>W.reject(Ze)}),we=new Wh(Fo(S.path),se,{includeMetadataChanges:!0,_a:!0});return Pd(p,we)}(yield Bd(l),l.asyncQueue,t,i,s)})),s.promise}function __(l,t,i={}){const s=new Pt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(p,_,S,N,W){const se=new fm({next:Ze=>{se.Za(),_.enqueueAndForget(()=>Nd(p,we)),Ze.fromCache&&"server"===N.source?W.reject(new Oe(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(Ze)},error:Ze=>W.reject(Ze)}),we=new Wh(S,se,{includeMetadataChanges:!0,_a:!0});return Pd(p,we)}(yield Bd(l),l.asyncQueue,t,i,s)})),s.promise}function I_(l){const t={};return void 0!==l.timeoutSeconds&&(t.timeoutSeconds=l.timeoutSeconds),t}const tf=new Map;function nf(l,t,i){if(!i)throw new Oe(Me.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${t}.`)}function ym(l,t,i,s){if(!0===t&&!0===s)throw new Oe(Me.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function E_(l){if(!nn.isDocumentKey(l))throw new Oe(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Im(l){if(nn.isDocumentKey(l))throw new Oe(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function $d(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const t=(s=l).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof l?"a function":Ft()}function qr(l,t){if("_delegate"in l&&(l=l._delegate),!(l instanceof t)){if(t.name===l.constructor.name)throw new Oe(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=$d(l);throw new Oe(Me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return l}function $u(l,t){if(t<=0)throw new Oe(Me.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${t}.`)}class Em{constructor(t){var i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ym("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=I_(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Oe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Oe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Oe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ju{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Em({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Oe(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Em(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new jn;switch(s.type){case"firstParty":return new Zn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Oe(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,pe.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=tf.get(i);s&&(lt("ComponentProvider","Removing Datastore"),tf.delete(i),s.terminate())}(this),Promise.resolve()}}class qo{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new qo(this.firestore,t,this._query)}}class $i{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $i(this.firestore,t,this._key)}}class Ua extends qo{constructor(t,i,s){super(t,i,Fo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $i(this.firestore,null,new nn(t))}withConverter(t){return new Ua(this.firestore,t,this._path)}}function Cm(l,t,...i){if(l=(0,Ye.Ku)(l),nf("collection","path",t),l instanceof ju){const s=Ln.fromString(t,...i);return Im(s),new Ua(l,null,s)}{if(!(l instanceof $i||l instanceof Ua))throw new Oe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Ln.fromString(t,...i));return Im(s),new Ua(l.firestore,null,s)}}function jd(l,t,...i){if(l=(0,Ye.Ku)(l),1===arguments.length&&(t=Xr.newId()),nf("doc","path",t),l instanceof ju){const s=Ln.fromString(t,...i);return E_(s),new $i(l,null,new nn(s))}{if(!(l instanceof $i||l instanceof Ua))throw new Oe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Ln.fromString(t,...i));return E_(s),new $i(l.firestore,l instanceof Ua?l.converter:null,new nn(s))}}function zc(l,t){return l=(0,Ye.Ku)(l),t=(0,Ye.Ku)(t),(l instanceof $i||l instanceof Ua)&&(t instanceof $i||t instanceof Ua)&&l.firestore===t.firestore&&l.path===t.path&&l.converter===t.converter}function Tm(l,t){return l=(0,Ye.Ku)(l),t=(0,Ye.Ku)(t),l instanceof qo&&t instanceof qo&&l.firestore===t.firestore&&ua(l._query,t._query)&&l.converter===t.converter}class A_{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Js(this,"async_queue_retry"),this.Vu=()=>{const s=Nc();s&&lt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const i=Nc();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Nc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new Pt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,pe.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(i){if(!ri(i))throw i;lt("AsyncQueue","Operation failed with retryable error: "+i)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const i=this.mu.then(()=>(this.du=!0,t().catch(s=>{throw this.Eu=s,this.du=!1,an("INTERNAL UNHANDLED ERROR: ",function(_){let S=_.message||"";return _.stack&&(S=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),S}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(t,i,s){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const u=Ct.createAndSchedule(this,t,i,s,p=>this.yu(p));return this.Tu.push(u),u}fu(){this.Eu&&Ft()}verifyOperationInProgress(){}wu(){var t=this;return(0,pe.A)(function*(){let i;do{i=t.mu,yield i}while(i!==t.mu)})()}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function C_(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(l)}class Dp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,s){this._progressObserver={next:t,error:i,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends ju{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new A_,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var t=this;return(0,pe.A)(function*(){if(t._firestoreClient){const i=t._firestoreClient.terminate();t._queue=new A_(i),t._firestoreClient=void 0,yield i}})()}}function Ki(l){if(l._terminated)throw new Oe(Me.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||T_(l),l._firestoreClient}function T_(l){var t,i,s;const u=l._freezeSettings(),p=(N=(null===(t=l._app)||void 0===t?void 0:t.options.appId)||"",new Ht(l._databaseId,N,l._persistenceKey,(se=u).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,I_(se.experimentalLongPollingOptions),se.useFetchStreams));var N,se;l._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(l._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),l._firestoreClient=new gm(l._authCredentials,l._appCheckCredentials,l._queue,p,l._componentsProvider&&function(S){const N=null==S?void 0:S._online.build();return{_offline:null==S?void 0:S._offline.build(N),_online:N}}(l._componentsProvider))}function bm(){return(bm=(0,pe.A)(function*(l){Cn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=l._freezeSettings();D_(l,Vd.provider,{build:i=>new v_(i,t.cacheSizeBytes)})})).apply(this,arguments)}function D_(l,t,i){if((l=qr(l,wi))._firestoreClient||l._terminated)throw new Oe(Me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(l._componentsProvider||l._getSettings().localCache)throw new Oe(Me.FAILED_PRECONDITION,"SDK cache is already specified.");l._componentsProvider={_online:t,_offline:i},T_(l)}class Nl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nl(le.fromBase64String(t))}catch(i){throw new Oe(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Nl(le.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ou{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Oe(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gc{constructor(t){this._methodName=t}}class Hd{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Oe(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Oe(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _n(this._lat,t._lat)||_n(this._long,t._long)}}class Ba{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,t._values)}}const sf=/^__.*__$/;class w_{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return null!==this.fieldMask?new Fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yr(t,this.data,i,this.fieldTransforms)}}class wm{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Fr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function Sm(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class Rm{constructor(t,i,s,u,p,_){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Rm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.Ou(t),u}Nu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Kd(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(Sm(this.Cu)&&sf.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class lA{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Fa(t)}Qu(t,i,s,u=!1){return new Rm({Cu:t,methodName:i,qu:s,path:sr.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(l){const t=l._freezeSettings(),i=Fa(l._databaseId);return new lA(l._databaseId,!!t.ignoreUndefinedProperties,i)}function Gd(l,t,i,s,u,p={}){const _=l.Qu(p.merge||p.mergeFields?2:0,t,i,u);km("Data must be an object, but it was:",_,s);const S=Om(s,_);let N,W;if(p.merge)N=new Vr(_.fieldMask),W=_.fieldTransforms;else if(p.mergeFields){const se=[];for(const we of p.mergeFields){const Ze=Wd(t,we,i);if(!_.contains(Ze))throw new Oe(Me.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);P_(se,Ze)||se.push(Ze)}N=new Vr(se),W=_.fieldTransforms.filter(we=>N.covers(we.field))}else N=null,W=_.fieldTransforms;return new w_(new Zi(S),N,W)}class Wc extends Gc{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wc}}function z0(l,t,i){return new Rm({Cu:3,qu:t.settings.qu,methodName:l._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class S_ extends Gc{_toFieldTransform(t){return new B(t.path,new rs)}isEqual(t){return t instanceof S_}}class wp extends Gc{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=z0(this,t,!0),s=this.Ku.map(p=>zu(p,i)),u=new is(s);return new B(t.path,u)}isEqual(t){return t instanceof wp&&(0,Ye.bD)(this.Ku,t.Ku)}}class Mm extends Gc{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=z0(this,t,!0),s=this.Ku.map(p=>zu(p,i)),u=new fo(s);return new B(t.path,u)}isEqual(t){return t instanceof Mm&&(0,Ye.bD)(this.Ku,t.Ku)}}class Pm extends Gc{constructor(t,i){super(t),this.$u=i}_toFieldTransform(t){const i=new Sa(t.serializer,bo(t.serializer,this.$u));return new B(t.path,i)}isEqual(t){return t instanceof Pm&&this.$u===t.$u}}function Nm(l,t,i,s){const u=l.Qu(1,t,i);km("Data must be an object, but it was:",u,s);const p=[],_=Zi.empty();ao(s,(N,W)=>{const se=Rp(t,N,i);W=(0,Ye.Ku)(W);const we=u.Nu(se);if(W instanceof Wc)p.push(se);else{const Ze=zu(W,we);null!=Ze&&(p.push(se),_.set(se,Ze))}});const S=new Vr(p);return new wm(_,S,u.fieldTransforms)}function xm(l,t,i,s,u,p){const _=l.Qu(1,t,i),S=[Wd(t,s,i)],N=[u];if(p.length%2!=0)throw new Oe(Me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<p.length;Ze+=2)S.push(Wd(t,p[Ze])),N.push(p[Ze+1]);const W=[],se=Zi.empty();for(let Ze=S.length-1;Ze>=0;--Ze)if(!P_(W,S[Ze])){const xt=S[Ze];let on=N[Ze];on=(0,Ye.Ku)(on);const mn=_.Nu(xt);if(on instanceof Wc)W.push(xt);else{const hn=zu(on,mn);null!=hn&&(W.push(xt),se.set(xt,hn))}}const we=new Vr(W);return new wm(se,we,_.fieldTransforms)}function R_(l,t,i,s=!1){return zu(i,l.Qu(s?4:3,t))}function zu(l,t){if(M_(l=(0,Ye.Ku)(l)))return km("Unsupported field value:",t,l),Om(l,t);if(l instanceof Gc)return function(s,u){if(!Sm(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(l,t),null;if(void 0===l&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),l instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(s,u){const p=[];let _=0;for(const S of s){let N=zu(S,u.Lu(_));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),_++}return{arrayValue:{values:p}}}(l,t)}return function(s,u){if(null===(s=(0,Ye.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return bo(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=ar.fromDate(s);return{timestampValue:Ui(u.serializer,p)}}if(s instanceof ar){const p=new ar(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ui(u.serializer,p)}}if(s instanceof Hd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nl)return{bytesValue:Ma(u.serializer,s._byteString)};if(s instanceof $i){const p=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(p))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:So(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ba)return S=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(N=>{if("number"!=typeof N)throw S.Bu("VectorValues must only contain numeric values.");return $s(S.serializer,N)})}}}}};var S;throw u.Bu(`Unsupported field value: ${$d(s)}`)}(l,t)}function Om(l,t){const i={};return Yo(l)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ao(l,(s,u)=>{const p=zu(u,t.Mu(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function M_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof ar||l instanceof Hd||l instanceof Nl||l instanceof $i||l instanceof Gc||l instanceof Ba)}function km(l,t,i){if(!M_(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=$d(i);throw t.Bu("an object"===s?l+" a custom object":l+" "+s)}var u}function Wd(l,t,i){if((t=(0,Ye.Ku)(t))instanceof ou)return t._internalPath;if("string"==typeof t)return Rp(l,t);throw Kd("Field path arguments must be of type string or ",l,!1,void 0,i)}const Sp=new RegExp("[~\\*/\\[\\]]");function Rp(l,t,i){if(t.search(Sp)>=0)throw Kd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new ou(...t.split("."))._internalPath}catch{throw Kd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Kd(l,t,i,s,u){const p=s&&!s.isEmpty(),_=void 0!==u;let S=`Function ${t}() called with invalid data`;i&&(S+=" (via `toFirestore()`)"),S+=". ";let N="";return(p||_)&&(N+=" (found",p&&(N+=` in field ${s}`),_&&(N+=` in document ${u}`),N+=")"),new Oe(Me.INVALID_ARGUMENT,S+l+N)}function P_(l,t){return l.some(i=>i.isEqual(t))}class xl{constructor(t,i,s,u,p){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new G0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Mp("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class G0 extends xl{data(){return super.data()}}function Mp(l,t){return"string"==typeof t?Rp(l,t):t instanceof ou?t._internalPath:t._delegate._internalPath}function Pp(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Oe(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class af extends Np{}function Gu(l,t,...i){let s=[];t instanceof Np&&s.push(t),s=s.concat(i),function(p){const _=p.filter(N=>N instanceof Kc).length,S=p.filter(N=>N instanceof qd).length;if(_>1||_>0&&S>0)throw new Oe(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class qd extends af{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new qd(t,i,s)}_apply(t){const i=this._parse(t);return Vp(t._query,i),new qo(t.firestore,t.converter,zi(t._query,i))}_parse(t){const i=zd(t.firestore);return function(p,_,S,N,W,se,we){let Ze;if(W.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new Oe(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){eI(we,se);const xt=[];for(const on of we)xt.push(J0(N,p,on));Ze={arrayValue:{values:xt}}}else Ze=J0(N,p,we)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||eI(we,se),Ze=R_(S,"where",we,"in"===se||"not-in"===se);return qn.create(W,se,Ze)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class Kc extends Np{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Kc(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Ar.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,p){let _=u;const S=p.getFlattenedFilters();for(const N of S)Vp(_,N),_=zi(_,N)}(t._query,i),new qo(t.firestore,t.converter,zi(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qc extends af{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new qc(t,i)}_apply(t){const i=function(u,p,_){if(null!==u.startAt)throw new Oe(Me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Oe(Me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vo(p,_)}(t._query,this._field,this._direction);return new qo(t.firestore,t.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new Ji(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}class xp extends af{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new xp(t,i,s)}_apply(t){return new qo(t.firestore,t.converter,la(t._query,this._limit,this._limitType))}}class Op extends af{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new Op(t,i,s)}_apply(t){const i=Fp(t,this.type,this._docOrFields,this._inclusive);return new qo(t.firestore,t.converter,(p=i,new Ji((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class kp extends af{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new kp(t,i,s)}_apply(t){const i=Fp(t,this.type,this._docOrFields,this._inclusive);return new qo(t.firestore,t.converter,(p=i,new Ji((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function Fp(l,t,i,s){if(i[0]=(0,Ye.Ku)(i[0]),i[0]instanceof xl)return function(p,_,S,N,W){if(!N)throw new Oe(Me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const se=[];for(const we of vr(p))if(we.field.isKeyField())se.push(Ci(_,N.key));else{const Ze=N.data.field(we.field);if(ke(Ze))throw new Oe(Me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const xt=we.field.canonicalString();throw new Oe(Me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${xt}' (used as the orderBy) does not exist.`)}se.push(Ze)}return new hr(se,W)}(l._query,l.firestore._databaseId,t,i[0]._document,s);{const u=zd(l.firestore);return function(_,S,N,W,se,we){const Ze=_.explicitOrderBy;if(se.length>Ze.length)throw new Oe(Me.INVALID_ARGUMENT,`Too many arguments provided to ${W}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const xt=[];for(let on=0;on<se.length;on++){const mn=se[on];if(Ze[on].field.isKeyField()){if("string"!=typeof mn)throw new Oe(Me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${W}(), but got a ${typeof mn}`);if(!Bs(_)&&-1!==mn.indexOf("/"))throw new Oe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${W}() must be a plain document ID, but '${mn}' contains a slash.`);const hn=_.path.child(Ln.fromString(mn));if(!nn.isDocumentKey(hn))throw new Oe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${W}() must result in a valid document path, but '${hn}' is not because it contains an odd number of segments.`);const Hn=new nn(hn);xt.push(Ci(S,Hn))}else{const hn=R_(N,W,mn);xt.push(hn)}}return new hr(xt,we)}(l._query,l.firestore._databaseId,u,t,i,s)}}function J0(l,t,i){if("string"==typeof(i=(0,Ye.Ku)(i))){if(""===i)throw new Oe(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bs(t)&&-1!==i.indexOf("/"))throw new Oe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Ln.fromString(i));if(!nn.isDocumentKey(s))throw new Oe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ci(l,new nn(s))}if(i instanceof $i)return Ci(l,i._key);throw new Oe(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(i)}.`)}function eI(l,t){if(!Array.isArray(l)||0===l.length)throw new Oe(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Vp(l,t){const i=function(u,p){for(const _ of u)for(const S of _.getFlattenedFilters())if(p.indexOf(S.op)>=0)return S.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Oe(Me.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class x_{convertValue(t,i="none"){switch(dn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return O(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ee(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ao(t,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(t){var i,s,u;const p=null===(u=null===(s=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>O(_.doubleValue));return new Ba(p)}convertGeoPoint(t){return new Hd(O(t.latitude),O(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=it(t);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(nt(t));default:return null}}convertTimestamp(t){const i=C(t);return new ar(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Ln.fromString(t);Kt(jo(s));const u=new It(s.get(1),s.get(3)),p=new nn(s.popFirst(5));return u.isEqual(i)||an(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Fm(l,t,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(t,i):l.toFirestore(t):t,s}class uA extends x_{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nl(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new $i(this.firestore,null,i)}}class Wu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ol extends xl{constructor(t,i,s,u,p,_){super(t,i,s,u,_),this._firestore=t,this._firestoreImpl=t,this.metadata=p}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Mp("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class lf extends Ol{data(t={}){return super.data(t)}}class Ku{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new Wu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new lf(this._firestore,this._userDataWriter,s.key,s,new Wu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Oe(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(S=>({type:"added",doc:new lf(u._firestore,u._userDataWriter,S.doc.key,S.doc,new Wu(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(S=>p||3!==S.type).map(S=>{const N=new lf(u._firestore,u._userDataWriter,S.doc.key,S.doc,new Wu(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter);let W=-1,se=-1;return 0!==S.type&&(W=_.indexOf(S.doc.key),_=_.delete(S.doc.key)),1!==S.type&&(_=_.add(S.doc),se=_.indexOf(S.doc.key)),{type:O_(S.type),doc:N,oldIndex:W,newIndex:se}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function O_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function Xc(l,t){return l instanceof Ol&&t instanceof Ol?l._firestore===t._firestore&&l._key.isEqual(t._key)&&(null===l._document?null===t._document:l._document.isEqual(t._document))&&l._converter===t._converter:l instanceof Ku&&t instanceof Ku&&l._firestore===t._firestore&&Tm(l.query,t.query)&&l.metadata.isEqual(t.metadata)&&l._snapshot.isEqual(t._snapshot)}class yo extends x_{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nl(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new $i(this.firestore,null,i)}}function Lm(l,t,i){l=qr(l,$i);const s=qr(l.firestore,wi),u=Fm(l.converter,t,i);return Xd(s,[Gd(zd(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,ne.none())])}function Um(l,t,i,...s){l=qr(l,$i);const u=qr(l.firestore,wi),p=zd(u);let _;return _="string"==typeof(t=(0,Ye.Ku)(t))||t instanceof ou?xm(p,"updateDoc",l._key,t,i,s):Nm(p,"updateDoc",l._key,t),Xd(u,[_.toMutation(l._key,ne.exists(!0))])}function Bp(l,...t){var i,s,u;l=(0,Ye.Ku)(l);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof t[_]||C_(t[_])||(p=t[_],_++);const S={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(C_(t[_])){const we=t[_];t[_]=null===(i=we.next)||void 0===i?void 0:i.bind(we),t[_+1]=null===(s=we.error)||void 0===s?void 0:s.bind(we),t[_+2]=null===(u=we.complete)||void 0===u?void 0:u.bind(we)}let N,W,se;if(l instanceof $i)W=qr(l.firestore,wi),se=Fo(l._key.path),N={next:we=>{t[_]&&t[_](qu(W,l,we))},error:t[_+1],complete:t[_+2]};else{const we=qr(l,qo);W=qr(we.firestore,wi),se=we._query;const Ze=new yo(W);N={next:xt=>{t[_]&&t[_](new Ku(W,Ze,we,xt))},error:t[_+1],complete:t[_+2]},Pp(l._query)}return function(Ze,xt,on,mn){const hn=new fm(mn),Hn=new Wh(xt,hn,on);return Ze.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return Pd(yield Bd(Ze),Hn)})),()=>{hn.Za(),Ze.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return Nd(yield Bd(Ze),Hn)}))}}(Ki(W),se,S,N)}function Xd(l,t){return function(s,u){const p=new Pt;return s.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function cp(l,t,i){return i_.apply(this,arguments)}(yield Zh(s),u,p)})),p.promise}(Ki(l),t)}function qu(l,t,i){const s=i.docs.get(t._key),u=new yo(l);return new Ol(l,u,t._key,s,new Wu(i.hasPendingWrites,i.fromCache),t.converter)}const lI={maxAttempts:5};class U_{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=zd(t)}set(t,i,s){this._verifyNotCommitted();const u=kl(t,this._firestore),p=Fm(u.converter,i,s),_=Gd(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,ne.none())),this}update(t,i,s,...u){this._verifyNotCommitted();const p=kl(t,this._firestore);let _;return _="string"==typeof(i=(0,Ye.Ku)(i))||i instanceof ou?xm(this._dataReader,"WriteBatch.update",p._key,i,s,u):Nm(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(_.toMutation(p._key,ne.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=kl(t,this._firestore);return this._mutations=this._mutations.concat(new un(i._key,ne.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kl(l,t){if((l=(0,Ye.Ku)(l)).firestore!==t)throw new Oe(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class B_ extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=zd(i)}get(i){const s=kl(i,this._firestore),u=new uA(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return Ft();const _=p[0];if(_.isFoundDocument())return new xl(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new xl(this._firestore,u,s._key,null,s.converter);throw Ft()})}set(i,s,u){const p=kl(i,this._firestore),_=Fm(p.converter,s,u),S=Gd(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,S),this}update(i,s,u,...p){const _=kl(i,this._firestore);let S;return S="string"==typeof(s=(0,Ye.Ku)(s))||s instanceof ou?xm(this._dataReader,"Transaction.update",_._key,s,u,p):Nm(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,S),this}delete(i){const s=kl(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=kl(t,this._firestore),s=new yo(this._firestore);return super.get(t).then(u=>new Ol(this._firestore,s,i._key,u._document,new Wu(!1,!1),i.converter))}}function Kp(l,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return t}function Nr(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function qm(){if(!function X(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){tt=ve.SDK_VERSION,(0,ve._registerComponent)(new Re.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const _=s.getProvider("app").getImmediate(),S=new wi(new Tn(s.getProvider("auth-internal")),new Gn(s.getProvider("app-check-internal")),function(W,se){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new Oe(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new It(W.options.projectId,se)}(_,u),_);return p=Object.assign({useFetchStreams:i},p),S._setSettings(p),S},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(Ue,"4.7.3",t),(0,ve.registerVersion)(Ue,"4.7.3","esm2017")}();class Yd{constructor(t){this._delegate=t}static fromBase64String(t){return qm(),new Yd(Nl.fromBase64String(t))}static fromUint8Array(t){return Nr(),new Yd(Nl.fromUint8Array(t))}toBase64(){return qm(),this._delegate.toBase64()}toUint8Array(){return Nr(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xu(l){return function K_(l,t){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of t)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class q_{enableIndexedDbPersistence(t,i){return function $0(l,t){Cn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings();return D_(l,Vd.provider,{build:s=>new hm(s,i.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function j0(l){return bm.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function Hu(l){if(l._initialized&&!l._terminated)throw new Oe(Me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Pt;return l._queue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{yield(i=(0,pe.A)(function*(u){if(!xn.D())return Promise.resolve();const p=u+"main";yield xn.delete(p)}),function s(u){return i.apply(this,arguments)})(wc(l._databaseId,l._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class X_{constructor(t,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof It||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&Cn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,s={}){!function Am(l,t,i,s={}){var u;const p=(l=qr(l,ju))._getSettings(),_=`${t}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&Cn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),s.mockUserToken){let S,N;if("string"==typeof s.mockUserToken)S=s.mockUserToken,N=Ne.MOCK_USER;else{S=(0,Ye.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const W=s.mockUserToken.sub||s.mockUserToken.user_id;if(!W)throw new Oe(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ne(W)}l._authCredentials=new Kn(new yt(S,N))}}(this._delegate,t,i,s)}enableNetwork(){return function H0(l){return function k0(l){return l.asyncQueue.enqueue((0,pe.A)(function*(){const t=yield Hc(l),i=yield O0(l);return t.setNetworkEnabled(!0),function(u){const p=qt(u);return p.L_.delete(0),el(p)}(i)}))}(Ki(l=qr(l,wi)))}(this._delegate)}disableNetwork(){return function iA(l){return function F0(l){return l.asyncQueue.enqueue((0,pe.A)(function*(){const t=yield Hc(l),i=yield O0(l);return t.setNetworkEnabled(!1),(s=(0,pe.A)(function*(p){const _=qt(p);_.L_.add(0),yield tl(_),_.q_.set("Offline")}),function u(p){return s.apply(this,arguments)})(i);var s}))}(Ki(l=qr(l,wi)))}(this._delegate)}enablePersistence(t){let i=!1,s=!1;return t&&(i=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,ym("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rf(l){return function(i){const s=new Pt;return i.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function R0(l,t){return pp.apply(this,arguments)}(yield Zh(i),s)})),s.promise}(Ki(l=qr(l,wi)))}(this._delegate)}onSnapshotsInSync(t){return function Bm(l,t){return function y_(l,t){const i=new fm(t);return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return u=yield Bd(l),p=i,qt(u).Y_.add(p),void p.next();var u,p})),()=>{i.Za(),l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return u=yield Bd(l),p=i,void qt(u).Y_.delete(p);var u,p}))}}(Ki(l=qr(l,wi)),C_(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Jd(this,Cm(this._delegate,t))}catch(i){throw ss(i,"collection()","Firestore.collection()")}}doc(t){try{return new ta(this,jd(this._delegate,t))}catch(i){throw ss(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Vs(this,function Tp(l,t){if(l=qr(l,ju),nf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oe(Me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qo(l,null,(s=t,new Ji(Ln.emptyPath(),s)));var s}(this._delegate,t))}catch(i){throw ss(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Qc(l,t,i){l=qr(l,wi);const s=Object.assign(Object.assign({},lI),i);return function(p){if(p.maxAttempts<1)throw new Oe(Me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,_,S){const N=new Pt;return p.asyncQueue.enqueueAndForget((0,pe.A)(function*(){const W=yield function Ud(l){return Ld(l).then(t=>t.datastore)}(p);new pm(p.asyncQueue,W,S,_,N).au()})),N.promise}(Ki(l),u=>t(new B_(l,u)),s)}(this._delegate,i=>t(new qp(this,i)))}batch(){return Ki(this._delegate),new Zd(new U_(this._delegate,t=>Xd(this._delegate,t)))}loadBundle(t){return function oA(l,t){const i=Ki(l=qr(l,wi)),s=new Dp;return function _m(l,t,i,s){const u=function(_,S){let N;return N="string"==typeof _?_s().encode(_):_,se=function(se){if(se instanceof Uint8Array)return N0(se,void 0);if(se instanceof ArrayBuffer)return N0(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Ap(se,S);var se}(i,Fa(t));l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){!function Ep(l,t,i){const s=qt(l);var u;(u=(0,pe.A)(function*(_,S,N){try{const W=yield S.getMetadata();if(yield function(on,mn){const hn=qt(on),Hn=Di(mn.createTime);return hn.persistence.runTransaction("hasNewerBundle","readonly",rr=>hn.Gr.getBundleMetadata(rr,mn.id)).then(rr=>!!rr&&rr.createTime.compareTo(Hn)>=0)}(_.localStore,W))return yield S.close(),N._completeWith({taskState:"Success",documentsLoaded:(on=W).totalDocuments,bytesLoaded:on.totalBytes,totalDocuments:on.totalDocuments,totalBytes:on.totalBytes}),Promise.resolve(new Set);N._updateProgress(e_(W));const se=new Jv(W,_.localStore,S.serializer);let we=yield S.Ua();for(;we;){const xt=yield se.la(we);xt&&N._updateProgress(xt),we=yield S.Ua()}const Ze=yield se.complete();return yield La(_,Ze.Ia,void 0),yield function(on,mn){const hn=qt(on);return hn.persistence.runTransaction("Save bundle","readwrite",Hn=>hn.Gr.saveBundleMetadata(Hn,mn))}(_.localStore,W),N._completeWith(Ze.progress),Promise.resolve(Ze.Pa)}catch(W){return Cn("SyncEngine",`Loading bundle failed with ${W}`),N._failWith(W),Promise.resolve(new Set)}var on}),function p(_,S,N){return u.apply(this,arguments)})(s,t,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Zh(l),u,s)}))}(i,l._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function sA(l,t){return function L0(l,t){return l.asyncQueue.enqueue((0,pe.A)(function*(){return function(s,u){const p=qt(s);return p.persistence.runTransaction("Get named query","readonly",_=>p.Gr.getNamedQuery(_,u))}(yield iu(l),t)}))}(Ki(l=qr(l,wi)),t).then(i=>i?new qo(l,null,i.query):null)}(this._delegate,t).then(i=>i?new Vs(this,i):null)}}class Yc extends x_{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yd(new Nl(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return ta.forKey(i,this.firestore,null)}}class qp{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new Yc(t)}get(t){const i=ed(t);return this._delegate.get(i).then(s=>new Jc(this._firestore,new Ol(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(t,i,s){const u=ed(t);return s?(Kp("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const p=ed(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(t){const i=ed(t);return this._delegate.delete(i),this}}class Zd{constructor(t){this._delegate=t}set(t,i,s){const u=ed(t);return s?(Kp("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const p=ed(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(t){const i=ed(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Qu{constructor(t,i,s){this._firestore=t,this._userDataWriter=i,this._delegate=s}fromFirestore(t,i){const s=new lf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new cf(this._firestore,s),null!=i?i:{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const s=Qu.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let p=u.get(i);return p||(p=new Qu(t,new Yc(t),i),u.set(i,p)),p}}Qu.INSTANCES=new WeakMap;class ta{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new Yc(t)}static forPath(t,i,s){if(t.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ta(i,new $i(i._delegate,s,new nn(t)))}static forKey(t,i,s){return new ta(i,new $i(i._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new Jd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Jd(this.firestore,Cm(this._delegate,t))}catch(i){throw ss(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ye.Ku)(t))instanceof $i&&zc(this._delegate,t)}set(t,i){i=Kp("DocumentReference.set",i);try{return i?Lm(this._delegate,t,i):Lm(this._delegate,t)}catch(s){throw ss(s,"setDoc()","DocumentReference.set()")}}update(t,i,...s){try{return 1===arguments.length?Um(this._delegate,t):Um(this._delegate,t,i,...s)}catch(u){throw ss(u,"updateDoc()","DocumentReference.update()")}}delete(){return function pA(l){return Xd(qr(l.firestore,wi),[new un(l._key,ne.none())])}(this._delegate)}onSnapshot(...t){const i=Xp(t),s=Xm(t,u=>new Jc(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Bp(this._delegate,i,s)}get(t){let i;return i="cache"===(null==t?void 0:t.source)?function k_(l){l=qr(l,$i);const t=qr(l.firestore,wi),i=Ki(t),s=new yo(t);return function mm(l,t){const i=new Pt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(s=(0,pe.A)(function*(p,_,S){try{const N=yield function(se,we){const Ze=qt(se);return Ze.persistence.runTransaction("read document","readonly",xt=>Ze.localDocuments.getDocument(xt,we))}(p,_);N.isFoundDocument()?S.resolve(N):N.isNoDocument()?S.resolve(null):S.reject(new Oe(Me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const W=Qt(N,`Failed to get document '${_} from cache`);S.reject(W)}}),function u(p,_,S){return s.apply(this,arguments)})(yield iu(l),t,i);var s})),i.promise}(i,l._key).then(u=>new Ol(t,s,l._key,u,new Wu(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function dA(l){l=qr(l,$i);const t=qr(l.firestore,wi);return vm(Ki(t),l._key,{source:"server"}).then(i=>qu(t,l,i))}(this._delegate):function ma(l){l=qr(l,$i);const t=qr(l.firestore,wi);return vm(Ki(t),l._key).then(i=>qu(t,l,i))}(this._delegate),i.then(s=>new Jc(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new ta(this.firestore,this._delegate.withConverter(t?Qu.getInstance(this.firestore,t):null))}}function ss(l,t,i){return l.message=l.message.replace(t,i),l}function Xp(l){for(const t of l)if("object"==typeof t&&!Xu(t))return t;return{}}function Xm(l,t){var i,s;let u;return u=Xu(l[0])?l[0]:Xu(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:p=>{u.next&&u.next(t(p))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Jc{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return Xc(this._delegate,t._delegate)}}class cf extends Jc{data(t){const i=this._delegate.data(t);return this._delegate._converter||function Nn(l){l||Ft()}(void 0!==i),i}}class Vs{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new Yc(t)}where(t,i,s){try{return new Vs(this.firestore,Gu(this._delegate,function W0(l,t,i){const s=t,u=Mp("where",l);return qd._create(u,s,i)}(t,i,s)))}catch(u){throw ss(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new Vs(this.firestore,Gu(this._delegate,function K0(l,t="asc"){const i=t,s=Mp("orderBy",l);return qc._create(s,i)}(t,i)))}catch(s){throw ss(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Vs(this.firestore,Gu(this._delegate,function q0(l){return $u("limit",l),xp._create("limit",l,"F")}(t)))}catch(i){throw ss(i,"limit()","Query.limit()")}}limitToLast(t){try{return new Vs(this.firestore,Gu(this._delegate,function N_(l){return $u("limitToLast",l),xp._create("limitToLast",l,"L")}(t)))}catch(i){throw ss(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Vs(this.firestore,Gu(this._delegate,function X0(...l){return Op._create("startAt",l,!0)}(...t)))}catch(i){throw ss(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Vs(this.firestore,Gu(this._delegate,function Q0(...l){return Op._create("startAfter",l,!1)}(...t)))}catch(i){throw ss(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Vs(this.firestore,Gu(this._delegate,function Y0(...l){return kp._create("endBefore",l,!1)}(...t)))}catch(i){throw ss(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Vs(this.firestore,Gu(this._delegate,function Z0(...l){return kp._create("endAt",l,!0)}(...t)))}catch(i){throw ss(i,"endAt()","Query.endAt()")}}isEqual(t){return Tm(this._delegate,t._delegate)}get(t){let i;return i="cache"===(null==t?void 0:t.source)?function hA(l){l=qr(l,qo);const t=qr(l.firestore,wi),i=Ki(t),s=new yo(t);return function V0(l,t){const i=new Pt;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(s=(0,pe.A)(function*(p,_,S){try{const N=yield ka(p,_,!0),W=new t_(_,N.Ts),se=W.ma(N.documents),we=W.applyChanges(se,!1);S.resolve(we.snapshot)}catch(N){const W=Qt(N,`Failed to execute query '${_} against cache`);S.reject(W)}}),function u(p,_,S){return s.apply(this,arguments)})(yield iu(l),t,i);var s})),i.promise}(i,l._query).then(u=>new Ku(t,s,l,u))}(this._delegate):"server"===(null==t?void 0:t.source)?function fA(l){l=qr(l,qo);const t=qr(l.firestore,wi),i=Ki(t),s=new yo(t);return __(i,l._query,{source:"server"}).then(u=>new Ku(t,s,l,u))}(this._delegate):function rI(l){l=qr(l,qo);const t=qr(l.firestore,wi),i=Ki(t),s=new yo(t);return Pp(l._query),__(i,l._query).then(u=>new Ku(t,s,l,u))}(this._delegate),i.then(s=>new Qp(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const i=Xp(t),s=Xm(t,u=>new Qp(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Bp(this._delegate,i,s)}withConverter(t){return new Vs(this.firestore,this._delegate.withConverter(t?Qu.getInstance(this.firestore,t):null))}}class gI{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qp{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new cf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new gI(this._firestore,i))}forEach(t,i){this._delegate.forEach(s=>{t.call(i,new cf(this._firestore,s))})}isEqual(t){return Xc(this._delegate,t._delegate)}}class Jd extends Vs{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ta(this.firestore,t):null}doc(t){try{return new ta(this.firestore,void 0===t?jd(this._delegate):jd(this._delegate,t))}catch(i){throw ss(i,"doc()","CollectionReference.doc()")}}add(t){return function Up(l,t){const i=qr(l.firestore,wi),s=jd(l),u=Fm(l.converter,t);return Xd(i,[Gd(zd(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,ne.exists(!1))]).then(()=>s)}(this._delegate,t).then(i=>new ta(this.firestore,i))}isEqual(t){return zc(this._delegate,t._delegate)}withConverter(t){return new Jd(this.firestore,this._delegate.withConverter(t?Qu.getInstance(this.firestore,t):null))}}function ed(l){return qr(l,$i)}class Qm{constructor(...t){this._delegate=new ou(...t)}static documentId(){return new Qm(sr.keyField().canonicalString())}isEqual(t){return(t=(0,Ye.Ku)(t))instanceof ou&&this._delegate._internalPath.isEqual(t._internalPath)}}class td{constructor(t){this._delegate=t}static serverTimestamp(){const t=function j_(){return new S_("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new td(t)}static delete(){const t=function $_(){return new Wc("deleteField")}();return t._methodName="FieldValue.delete",new td(t)}static arrayUnion(...t){const i=function Hm(...l){return new wp("arrayUnion",l)}(...t);return i._methodName="FieldValue.arrayUnion",new td(i)}static arrayRemove(...t){const i=function uI(...l){return new Mm("arrayRemove",l)}(...t);return i._methodName="FieldValue.arrayRemove",new td(i)}static increment(t){const i=function H_(l){return new Pm("increment",l)}(t);return i._methodName="FieldValue.increment",new td(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Q_={Firestore:X_,GeoPoint:Hd,Timestamp:ar,Blob:Yd,Transaction:qp,WriteBatch:Zd,DocumentReference:ta,DocumentSnapshot:Jc,Query:Vs,QueryDocumentSnapshot:cf,QuerySnapshot:Qp,CollectionReference:Jd,FieldPath:Qm,FieldValue:td,setLogLevel:function Zc(l){!function En(l){ot.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function mI(l){(function Y_(l,t){l.INTERNAL.registerComponent(new Re.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},Q_)))})(l,(t,i)=>new X_(t,i,new q_)),l.registerVersion("@firebase/firestore-compat","0.3.38")}(ht.A);var vI=L(7935);function Z_(l,t){return function na(l,t=De.E){return new Be.c(i=>{let s;return null!=t?t.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,t)}function J_(l,t){return Z_(l,t).pipe((0,Je.T)(i=>({payload:i,type:"query"})))}class Yp{constructor(t,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const s=this.ref.collection(t),{ref:u,query:p}=sy(s,i);return new ry(u,p,this.afs)}snapshotChanges(){return function _I(l,t){return Z_(l,t).pipe((0,ce.Z)(void 0),$e(),(0,Je.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ee.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Je.T)(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return(0,Ke.H)(this.ref.get(t)).pipe(ee.U0)}}function df(l,t){return J_(l,t).pipe((0,ce.Z)(void 0),$e(),(0,Je.T)(i=>{const[s,u]=i,p=u.payload.docChanges(),_=p.map(S=>({type:S.type,payload:S}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((S,N)=>{const W=p.find(we=>we.doc.ref.isEqual(S.ref)),se=null==s?void 0:s.payload.docs.find(we=>we.ref.isEqual(S.ref));W&&JSON.stringify(W.doc.metadata)===JSON.stringify(S.metadata)||!W&&se&&JSON.stringify(se.metadata)===JSON.stringify(S.metadata)||_.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:S}})}),_}))}function ey(l,t,i){return df(l,i).pipe((0,ct.S)((s,u)=>function yI(l,t,i){return t.forEach(s=>{i.indexOf(s.type)>-1&&(l=function ty(l,t){switch(t.type){case"added":if(!l[t.newIndex]||!l[t.newIndex].doc.ref.isEqual(t.doc.ref))return Ym(l,t.newIndex,0,t);break;case"modified":if(null==l[t.oldIndex]||l[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=l.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return Ym(l,t.newIndex,1,t)}break;case"removed":if(l[t.oldIndex]&&l[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Ym(l,t.oldIndex,1)}return l}(l,s))}),l}(s,u.map(p=>p.payload),t),[]),(0,et.F)(),(0,Je.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Ym(l,t,i,...s){const u=l.slice();return u.splice(t,i,...s),u}function ny(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class ry{constructor(t,i,s){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=t,this.query=i,this.afs=s}stateChanges(t){let i=df(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,Je.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),i.pipe((0,ce.Z)(void 0),$e(),(0,je.p)(([s,u])=>u.length>0||!s),(0,Je.T)(([,s])=>s),ee.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,ct.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=ny(t);return ey(this.query,i,this.afs.schedulers.outsideAngular).pipe(ee.U0)}valueChanges(t={}){return J_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.T)(i=>i.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),ee.U0)}get(t){return(0,Ke.H)(this.query.get(t)).pipe(ee.U0)}add(t){return this.ref.add(t)}doc(t){return new Yp(this.ref.doc(t),this.afs)}}class Zm{constructor(t,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?df(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.T)(i=>i.filter(s=>t.indexOf(s.type)>-1)),(0,je.p)(i=>i.length>0),ee.U0):df(this.query,this.afs.schedulers.outsideAngular).pipe(ee.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,ct.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=ny(t);return ey(this.query,i,this.afs.schedulers.outsideAngular).pipe(ee.U0)}valueChanges(t={}){return J_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ee.U0)}get(t){return(0,Ke.H)(this.query.get(t)).pipe(ee.U0)}}const iy=new Z.nKC("angularfire2.enableFirestorePersistence"),oy=new Z.nKC("angularfire2.firestore.persistenceSettings"),II=new Z.nKC("angularfire2.firestore.settings"),EI=new Z.nKC("angularfire2.firestore.use-emulator");function sy(l,t=i=>i){return{query:t(l),ref:l}}let sl=(()=>{var l;class t{constructor(s,u,p,_,S,N,W,se,we,Ze,xt,on,mn,hn,Hn,rr,zn){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=W;const ur=(0,ae.iB)(s,N,u),Zr=we;Ze&&(0,de.gF)(ur,N,xt,mn,hn,Hn,on,rr),[this.firestore,this.persistenceEnabled$]=(0,ae.BM)(`${ur.name}.firestore`,"AngularFirestore",ur.name,()=>{const Er=N.runOutsideAngular(()=>ur.firestore());if(_&&Er.settings(_),Zr&&Er.useEmulator(...Zr),p&&!(0,f.Vy)(S)){const Et=()=>{try{return(0,Ke.H)(Er.enablePersistence(se||void 0).then(()=>!0,()=>!1))}catch(qe){return typeof console<"u"&&console.warn(qe),(0,Ce.of)(!1)}};return[Er,N.runOutsideAngular(Et)]}return[Er,(0,Ce.of)(!1)]},[_,Zr,p])}collection(s,u){let p;p="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:S}=sy(p,u),N=this.schedulers.ngZone.run(()=>_);return new ry(N,S,this)}collectionGroup(s,u){const p=u||(S=>S),_=this.firestore.collectionGroup(s);return new Zm(p(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const p=this.schedulers.ngZone.run(()=>u);return new Yp(p,this)}createId(){return this.firestore.collection("_").doc().id}}return l=t,(0,d.A)(t,"\u0275fac",function(s){return new(s||l)(Z.KVO(ae.rx),Z.KVO(ae.uP,8),Z.KVO(iy,8),Z.KVO(II,8),Z.KVO(Z.Agw),Z.KVO(Z.SKi),Z.KVO(ee.u0),Z.KVO(oy,8),Z.KVO(EI,8),Z.KVO(de.DS,8),Z.KVO(de.CP,8),Z.KVO(de.yy,8),Z.KVO(de.ZP,8),Z.KVO(de.$z,8),Z.KVO(de.AU,8),Z.KVO(de.UB,8),Z.KVO(ee.Jv,8))}),(0,d.A)(t,"\u0275prov",Z.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),t})(),Jm=(()=>{var l;class t{constructor(){vI.A.registerVersion("angularfire",ee.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:t,providers:[{provide:iy,useValue:!0},{provide:oy,useValue:s}]}}}return l=t,(0,d.A)(t,"\u0275fac",function(s){return new(s||l)}),(0,d.A)(t,"\u0275mod",Z.$C({type:l})),(0,d.A)(t,"\u0275inj",Z.G2t({providers:[sl]})),t})()},9253:(vn,_t,L)=>{"use strict";L.d(_t,{BM:()=>Je,Gt:()=>de,bf:()=>$e,e7:()=>De,iB:()=>ce,rx:()=>Ke,uP:()=>Ce});var d=L(9842),f=L(4438),Z=L(1825),ee=L(7935);const ae=["ngOnDestroy"],de=(vt,ht,pe,ve={})=>new Proxy(vt,{get:(Re,rt)=>pe.runOutsideAngular(()=>{var Ye;if(vt[rt])return null!=ve&&null!==(Ye=ve.spy)&&void 0!==Ye&&Ye.get&&ve.spy.get(rt,vt[rt]),vt[rt];if(ae.indexOf(rt)>-1)return()=>{};const bt=ht.toPromise().then(He=>{const Pe=null==He?void 0:He[rt];return"function"==typeof Pe?Pe.bind(He):null!=Pe&&Pe.then?Pe.then(Lt=>pe.run(()=>Lt)):pe.run(()=>Pe)});return new Proxy(()=>{},{get:(He,Pe)=>bt[Pe],apply:(He,Pe,Lt)=>bt.then(zt=>{var cn;const Jt=null==zt?void 0:zt(...Lt);return null!=ve&&null!==(cn=ve.spy)&&void 0!==cn&&cn.apply&&ve.spy.apply(rt,Lt,Jt),Jt})})})}),De=(vt,ht)=>{ht.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(ve=>{Object.defineProperty(vt.prototype,ve,Object.getOwnPropertyDescriptor(pe.prototype||pe,ve))})})};class Be{constructor(ht){return ht}}const Ke=new f.nKC("angularfire2.app.options"),Ce=new f.nKC("angularfire2.app.name");function ce(vt,ht,pe){const Re="object"==typeof pe&&pe||{};Re.name=Re.name||"string"==typeof pe&&pe||"[DEFAULT]";const Ye=ee.A.apps.filter(bt=>bt&&bt.name===Re.name)[0]||ht.runOutsideAngular(()=>ee.A.initializeApp(vt,Re));try{if(JSON.stringify(vt)!==JSON.stringify(Ye.options)){const bt=!!module.hot;Ve("error",`${Ye.name} Firebase App already initialized with different options${bt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Be(Ye)}const Ve=(vt,...ht)=>{(0,f.naY)()&&typeof console<"u"&&console[vt](...ht)},ze={provide:Be,useFactory:ce,deps:[Ke,f.SKi,[new f.Xx1,Ce]]};let $e=(()=>{var vt;class ht{static initializeApp(ve,Re){return{ngModule:ht,providers:[{provide:Ke,useValue:ve},{provide:Ce,useValue:Re}]}}constructor(ve){ee.A.registerVersion("angularfire",Z.xv.full,"core"),ee.A.registerVersion("angularfire",Z.xv.full,"app-compat"),ee.A.registerVersion("angular",f.xvI.full,ve.toString())}}return vt=ht,(0,d.A)(ht,"\u0275fac",function(ve){return new(ve||vt)(f.KVO(f.Agw))}),(0,d.A)(ht,"\u0275mod",f.$C({type:vt})),(0,d.A)(ht,"\u0275inj",f.G2t({providers:[ze]})),ht})();function Je(vt,ht,pe,ve,Re){const[,rt,Ye]=globalThis.\u0275AngularfireInstanceCache.find(bt=>bt[0]===vt)||[];if(rt)return function ct(vt,ht){try{return vt.toString()===ht.toString()}catch{return vt===ht}}(Re,Ye)||(je("error",`${ht} was already initialized on the ${pe} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),je("warn",{is:Re,was:Ye})),rt;{const bt=ve();return globalThis.\u0275AngularfireInstanceCache.push([vt,bt,Re]),bt}}const et=typeof module<"u"&&!!module.hot,je=(vt,...ht)=>{(0,f.naY)()&&typeof console<"u"&&console[vt](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(vn,_t,L)=>{"use strict";L.d(_t,{xv:()=>ct,U0:()=>cn,u0:()=>Ye,Jv:()=>ht});var d=L(9842),f=L(4438),Z=L(7852);(0,Z.registerVersion)("firebase","10.14.1","app");var de=L(6780),Be=L(9687);const Ce=new class Ke extends Be.q{}(class De extends de.R{constructor(Ie,_e){super(Ie,_e),this.scheduler=Ie,this.work=_e}schedule(Ie,_e=0){return _e>0?super.schedule(Ie,_e):(this.delay=_e,this.state=Ie,this.scheduler.flush(this),this)}execute(Ie,_e){return _e>0||this.closed?super.execute(Ie,_e):this._execute(Ie,_e)}requestAsyncId(Ie,_e,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(Ie,_e,Y):(Ie.flush(this),0)}});var Ve=L(3236),ze=L(8141),$e=L(6745),Je=L(941);const ct=new f.RxE("ANGULARFIRE2_VERSION");class ht{constructor(){return(Te=>{const _e=(0,Z.getApps)(),Y=[];return _e.forEach(Ae=>{Ae.container.getProvider(Te).instances.forEach(Ue=>{Y.includes(Ue)||Y.push(Ue)})}),Y})(pe)}}const pe="app-check";function ve(){}class Re{constructor(Ie,_e=Ce){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=Ie,this.delegate=_e}now(){return this.delegate.now()}schedule(Ie,_e,Y){const Ae=this.zone;return this.delegate.schedule(function(Ue){Ae.runGuarded(()=>{Ie.apply(this,[Ue])})},_e,Y)}}class rt{constructor(Ie){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=Ie}call(Ie,_e){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),_e.pipe((0,ze.M)({next:Y,complete:Y,error:Y})).subscribe(Ie).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ye=(()=>{var Te;class Ie{constructor(Y){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Re(Zone.current)),this.insideAngular=Y.run(()=>new Re(Zone.current,Ve.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Te=Ie,(0,d.A)(Ie,"\u0275fac",function(Y){return new(Y||Te)(f.KVO(f.SKi))}),(0,d.A)(Ie,"\u0275prov",f.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})),Ie})();function cn(Te){return function Jt(Te){return function(_e){return(_e=_e.lift(new rt(Te.ngZone))).pipe((0,$e._)(Te.outsideAngular),(0,Je.Q)(Te.insideAngular))}}(function bt(){const Te=globalThis.\u0275AngularFireScheduler;if(!Te)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Te}())(Te)}},4341:(vn,_t,L)=>{"use strict";L.d(_t,{YN:()=>dl,zX:()=>es,VZ:()=>Oo,cz:()=>Ye,kq:()=>ct,vO:()=>Pt,BC:()=>Tn,cb:()=>gn,cV:()=>pi,vS:()=>xr,YS:()=>Ns,qT:()=>Ps});var d=L(4438),f=L(177),Z=L(8455),ee=L(1985),ae=L(3073),de=L(8750),De=L(3794),Be=L(4360),Ke=L(6450),Ce=L(8496),Ve=L(1413),ze=L(6354);let $e=(()=>{var H;class M{constructor($,fe){this._renderer=$,this._elementRef=fe,this.onChange=rn=>{},this.onTouched=()=>{}}setProperty($,fe){this._renderer.setProperty(this._elementRef.nativeElement,$,fe)}registerOnTouched($){this.onTouched=$}registerOnChange($){this.onChange=$}setDisabledState($){this.setProperty("disabled",$)}}return(H=M).\u0275fac=function($){return new($||H)(d.rXU(d.sFG),d.rXU(d.aKT))},H.\u0275dir=d.FsC({type:H}),M})(),Je=(()=>{var H;class M extends $e{}return(H=M).\u0275fac=(()=>{let J;return function(fe){return(J||(J=d.xGo(H)))(fe||H)}})(),H.\u0275dir=d.FsC({type:H,features:[d.Vt3]}),M})();const ct=new d.nKC(""),vt={provide:ct,useExisting:(0,d.Rfq)(()=>ve),multi:!0},pe=new d.nKC("");let ve=(()=>{var H;class M extends $e{constructor($,fe,rn){super($,fe),this._compositionMode=rn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ht(){const H=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue($){this.setProperty("value",null==$?"":$)}_handleInput($){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange($)}_compositionStart(){this._composing=!0}_compositionEnd($){this._composing=!1,this._compositionMode&&this.onChange($)}}return(H=M).\u0275fac=function($){return new($||H)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(pe,8))},H.\u0275dir=d.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,fe){1&$&&d.bIt("input",function(Xn){return fe._handleInput(Xn.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(Xn){return fe._compositionEnd(Xn.target.value)})},features:[d.Jv_([vt]),d.Vt3]}),M})();function Re(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}const Ye=new d.nKC(""),bt=new d.nKC("");function cn(H){return Re(H.value)?{required:!0}:null}function _e(H){return null}function Y(H){return null!=H}function Ae(H){return(0,d.jNT)(H)?(0,Z.H)(H):H}function Xe(H){let M={};return H.forEach(J=>{M=null!=J?{...M,...J}:M}),0===Object.keys(M).length?null:M}function Ue(H,M){return M.map(J=>J(H))}function tt(H){return H.map(M=>function Ne(H){return!H.validate}(M)?M:J=>M.validate(J))}function Mt(H){return null!=H?function ot(H){if(!H)return null;const M=H.filter(Y);return 0==M.length?null:function(J){return Xe(Ue(J,M))}}(tt(H)):null}function lt(H){return null!=H?function En(H){if(!H)return null;const M=H.filter(Y);return 0==M.length?null:function(J){return function ce(...H){const M=(0,De.ms)(H),{args:J,keys:$}=(0,ae.D)(H),fe=new ee.c(rn=>{const{length:Xn}=J;if(!Xn)return void rn.complete();const ai=new Array(Xn);let Ii=Xn,Hi=Xn;for(let Ji=0;Ji<Xn;Ji++){let ts=!1;(0,de.Tg)(J[Ji]).subscribe((0,Be._)(rn,Fo=>{ts||(ts=!0,Hi--),ai[Ji]=Fo},()=>Ii--,void 0,()=>{(!Ii||!ts)&&(Hi||rn.next($?(0,Ce.e)($,ai):ai),rn.complete())}))}});return M?fe.pipe((0,Ke.I)(M)):fe}(Ue(J,M).map(Ae)).pipe((0,ze.T)(Xe))}}(tt(H)):null}function an(H,M){return null===H?[M]:Array.isArray(H)?[...H,M]:[H,M]}function Ft(H){return H?Array.isArray(H)?H:[H]:[]}function Kt(H,M){return Array.isArray(H)?H.includes(M):H===M}function Nn(H,M){const J=Ft(M);return Ft(H).forEach(fe=>{Kt(J,fe)||J.push(fe)}),J}function qt(H,M){return Ft(M).filter(J=>!Kt(H,J))}class Me{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=lt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,J){return!!this.control&&this.control.hasError(M,J)}getError(M,J){return this.control?this.control.getError(M,J):null}}class Oe extends Me{get formDirective(){return null}get path(){return null}}class Pt extends Me{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yt{constructor(M){this._cd=M}get isTouched(){var M,J,$;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(J=M._touched)||void 0===J||J.call(M),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.touched)}get isUntouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.untouched)}get isPristine(){var M,J,$;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(J=M._pristine)||void 0===J||J.call(M),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.pristine)}get isDirty(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.dirty)}get isValid(){var M,J,$;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(J=M._status)||void 0===J||J.call(M),!(null===($=this._cd)||void 0===$||null===($=$.control)||void 0===$||!$.valid)}get isInvalid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.invalid)}get isPending(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pending)}get isSubmitted(){var M,J,$;return null===(M=this._cd)||void 0===M||null===(J=M._submitted)||void 0===J||J.call(M),!(null===($=this._cd)||void 0===$||!$.submitted)}}let Tn=(()=>{var H;class M extends yt{constructor($){super($)}}return(H=M).\u0275fac=function($){return new($||H)(d.rXU(Pt,2))},H.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,fe){2&$&&d.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},features:[d.Vt3]}),M})(),gn=(()=>{var H;class M extends yt{constructor($){super($)}}return(H=M).\u0275fac=function($){return new($||H)(d.rXU(Oe,10))},H.\u0275dir=d.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,fe){2&$&&d.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},features:[d.Vt3]}),M})();const Ot="VALID",st="INVALID",ut="PENDING",en="DISABLED";class ye{}class Se extends ye{constructor(M,J){super(),this.value=M,this.source=J}}class Qe extends ye{constructor(M,J){super(),this.pristine=M,this.source=J}}class St extends ye{constructor(M,J){super(),this.touched=M,this.source=J}}class mt extends ye{constructor(M,J){super(),this.status=M,this.source=J}}function gr(H){return(xn(H)?H.validators:H)||null}function at(H,M){return(xn(M)?M.asyncValidators:H)||null}function xn(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}class Pn{constructor(M,J){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new Ve.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(J)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(M){(0,d.O8t)(()=>this.statusReactive.set(M))}get valid(){return this.status===Ot}get invalid(){return this.status===st}get pending(){return this.status==ut}get disabled(){return this.status===en}get enabled(){return this.status!==en}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(M){(0,d.O8t)(()=>this.pristineReactive.set(M))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(M){(0,d.O8t)(()=>this.touchedReactive.set(M))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Nn(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Nn(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(qt(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(qt(M,this._rawAsyncValidators))}hasValidator(M){return Kt(this._rawValidators,M)}hasAsyncValidator(M){return Kt(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){var J;const $=!1===this.touched;this.touched=!0;const fe=null!==(J=M.sourceControl)&&void 0!==J?J:this;this._parent&&!M.onlySelf&&this._parent.markAsTouched({...M,sourceControl:fe}),$&&!1!==M.emitEvent&&this._events.next(new St(!0,fe))}markAllAsTouched(M={}){this.markAsTouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(J=>J.markAllAsTouched(M))}markAsUntouched(M={}){var J;const $=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const fe=null!==(J=M.sourceControl)&&void 0!==J?J:this;this._forEachChild(rn=>{rn.markAsUntouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:fe})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,fe),$&&!1!==M.emitEvent&&this._events.next(new St(!1,fe))}markAsDirty(M={}){var J;const $=!0===this.pristine;this.pristine=!1;const fe=null!==(J=M.sourceControl)&&void 0!==J?J:this;this._parent&&!M.onlySelf&&this._parent.markAsDirty({...M,sourceControl:fe}),$&&!1!==M.emitEvent&&this._events.next(new Qe(!1,fe))}markAsPristine(M={}){var J;const $=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const fe=null!==(J=M.sourceControl)&&void 0!==J?J:this;this._forEachChild(rn=>{rn.markAsPristine({onlySelf:!0,emitEvent:M.emitEvent})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M,fe),$&&!1!==M.emitEvent&&this._events.next(new Qe(!0,fe))}markAsPending(M={}){var J;this.status=ut;const $=null!==(J=M.sourceControl)&&void 0!==J?J:this;!1!==M.emitEvent&&(this._events.next(new mt(this.status,$)),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.markAsPending({...M,sourceControl:$})}disable(M={}){var J;const $=this._parentMarkedDirty(M.onlySelf);this.status=en,this.errors=null,this._forEachChild(rn=>{rn.disable({...M,onlySelf:!0})}),this._updateValue();const fe=null!==(J=M.sourceControl)&&void 0!==J?J:this;!1!==M.emitEvent&&(this._events.next(new Se(this.value,fe)),this._events.next(new mt(this.status,fe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:$},this),this._onDisabledChange.forEach(rn=>rn(!0))}enable(M={}){const J=this._parentMarkedDirty(M.onlySelf);this.status=Ot,this._forEachChild($=>{$.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:J},this),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(M,J){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine({},J),this._parent._updateTouched({},J))}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){var J;if(this._setInitialStatus(),this._updateValue(),this.enabled){const fe=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ot||this.status===ut)&&this._runAsyncValidator(fe,M.emitEvent)}const $=null!==(J=M.sourceControl)&&void 0!==J?J:this;!1!==M.emitEvent&&(this._events.next(new Se(this.value,$)),this._events.next(new mt(this.status,$)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity({...M,sourceControl:$})}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(J=>J._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?en:Ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M,J){if(this.asyncValidator){this.status=ut,this._hasOwnPendingAsyncValidator={emitEvent:!1!==J};const $=Ae(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(fe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(fe,{emitEvent:J,shouldHaveEmitted:M})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var M,J;this._asyncValidationSubscription.unsubscribe();const $=null!==(M=null===(J=this._hasOwnPendingAsyncValidator)||void 0===J?void 0:J.emitEvent)&&void 0!==M&&M;return this._hasOwnPendingAsyncValidator=null,$}return!1}setErrors(M,J={}){this.errors=M,this._updateControlsErrors(!1!==J.emitEvent,this,J.shouldHaveEmitted)}get(M){let J=M;return null==J||(Array.isArray(J)||(J=J.split(".")),0===J.length)?null:J.reduce(($,fe)=>$&&$._find(fe),this)}getError(M,J){const $=J?this.get(J):this;return $&&$.errors?$.errors[M]:null}hasError(M,J){return!!this.getError(M,J)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M,J,$){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),(M||$)&&this._events.next(new mt(this.status,J)),this._parent&&this._parent._updateControlsErrors(M,J,$)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?en:this.errors?st:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ut)?ut:this._anyControlsHaveStatus(st)?st:Ot}_anyControlsHaveStatus(M){return this._anyControls(J=>J.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M,J){const $=!this._anyControlsDirty(),fe=this.pristine!==$;this.pristine=$,this._parent&&!M.onlySelf&&this._parent._updatePristine(M,J),fe&&this._events.next(new Qe(this.pristine,J))}_updateTouched(M={},J){this.touched=this._anyControlsTouched(),this._events.next(new St(this.touched,J)),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,J)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){xn(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function Hr(H){return Array.isArray(H)?Mt(H):H||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function mr(H){return Array.isArray(H)?lt(H):H||null}(this._rawAsyncValidators)}}class ri extends Pn{constructor(M,J,$){super(gr(J),at($,J)),this.controls=M,this._initObservables(),this._setUpdateStrategy(J),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,J){return this.controls[M]?this.controls[M]:(this.controls[M]=J,J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange),J)}addControl(M,J,$={}){this.registerControl(M,J),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(M,J={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}setControl(M,J,$={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],J&&this.registerControl(M,J),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,J={}){(function Br(H,M,J){H._forEachChild(($,fe)=>{if(void 0===J[fe])throw new d.wOt(1002,"")})})(this,0,M),Object.keys(M).forEach($=>{(function zr(H,M,J){const $=H.controls;if(!(M?Object.keys($):$).length)throw new d.wOt(1e3,"");if(!$[J])throw new d.wOt(1001,"")})(this,!0,$),this.controls[$].setValue(M[$],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J)}patchValue(M,J={}){null!=M&&(Object.keys(M).forEach($=>{const fe=this.controls[$];fe&&fe.patchValue(M[$],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J))}reset(M={},J={}){this._forEachChild(($,fe)=>{$.reset(M?M[fe]:null,{onlySelf:!0,emitEvent:J.emitEvent})}),this._updatePristine(J,this),this._updateTouched(J,this),this.updateValueAndValidity(J)}getRawValue(){return this._reduceChildren({},(M,J,$)=>(M[$]=J.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(J,$)=>!!$._syncPendingControls()||J);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(J=>{const $=this.controls[J];$&&M($,J)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[J,$]of Object.entries(this.controls))if(this.contains(J)&&M($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(J,$,fe)=>(($.enabled||this.disabled)&&(J[fe]=$.value),J))}_reduceChildren(M,J){let $=M;return this._forEachChild((fe,rn)=>{$=J($,fe,rn)}),$}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}const te=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>z}),z="always";function K(H,M,J=z){var $,fe;$t(H,M),M.valueAccessor.writeValue(H.value),(H.disabled||"always"===J)&&(null===($=(fe=M.valueAccessor).setDisabledState)||void 0===$||$.call(fe,H.disabled)),function Un(H,M){M.valueAccessor.registerOnChange(J=>{H._pendingValue=J,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&Fn(H,M)})}(H,M),function Jr(H,M){const J=($,fe)=>{M.valueAccessor.writeValue($),fe&&M.viewToModelUpdate($)};H.registerOnChange(J),M._registerOnDestroy(()=>{H._unregisterOnChange(J)})}(H,M),function Sn(H,M){M.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&Fn(H,M),"submit"!==H.updateOn&&H.markAsTouched()})}(H,M),function gt(H,M){if(M.valueAccessor.setDisabledState){const J=$=>{M.valueAccessor.setDisabledState($)};H.registerOnDisabledChange(J),M._registerOnDestroy(()=>{H._unregisterOnDisabledChange(J)})}}(H,M)}function me(H,M){H.forEach(J=>{J.registerOnValidatorChange&&J.registerOnValidatorChange(M)})}function $t(H,M){const J=function Cn(H){return H._rawValidators}(H);null!==M.validator?H.setValidators(an(J,M.validator)):"function"==typeof J&&H.setValidators([J]);const $=function kn(H){return H._rawAsyncValidators}(H);null!==M.asyncValidator?H.setAsyncValidators(an($,M.asyncValidator)):"function"==typeof $&&H.setAsyncValidators([$]);const fe=()=>H.updateValueAndValidity();me(M._rawValidators,fe),me(M._rawAsyncValidators,fe)}function Fn(H,M){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}const Rs={provide:Oe,useExisting:(0,d.Rfq)(()=>pi)},Pi=Promise.resolve();let pi=(()=>{var H;class M extends Oe{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor($,fe,rn){super(),this.callSetDisabledState=rn,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new ri({},Mt($),lt(fe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl($){Pi.then(()=>{const fe=this._findContainer($.path);$.control=fe.registerControl($.name,$.control),K($.control,$,this.callSetDisabledState),$.control.updateValueAndValidity({emitEvent:!1}),this._directives.add($)})}getControl($){return this.form.get($.path)}removeControl($){Pi.then(()=>{const fe=this._findContainer($.path);fe&&fe.removeControl($.name),this._directives.delete($)})}addFormGroup($){Pi.then(()=>{const fe=this._findContainer($.path),rn=new ri({});(function Jn(H,M){$t(H,M)})(rn,$),fe.registerControl($.name,rn),rn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup($){Pi.then(()=>{const fe=this._findContainer($.path);fe&&fe.removeControl($.name)})}getFormGroup($){return this.form.get($.path)}updateModel($,fe){Pi.then(()=>{this.form.get($.path).setValue(fe)})}setValue($){this.control.setValue($)}onSubmit($){var fe;return this.submittedReactive.set(!0),function Xo(H,M){H._syncPendingControls(),M.forEach(J=>{const $=J.control;"submit"===$.updateOn&&$._pendingChange&&(J.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit($),"dialog"===(null==$||null===(fe=$.target)||void 0===fe?void 0:fe.method)}onReset(){this.resetForm()}resetForm($=void 0){this.form.reset($),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer($){return $.pop(),$.length?this.form.get($):this.form}}return(H=M).\u0275fac=function($){return new($||H)(d.rXU(Ye,10),d.rXU(bt,10),d.rXU(te,8))},H.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,fe){1&$&&d.bIt("submit",function(Xn){return fe.onSubmit(Xn)})("reset",function(){return fe.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Rs]),d.Vt3]}),M})();function hs(H,M){const J=H.indexOf(M);J>-1&&H.splice(J,1)}function er(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const wr=class extends Pn{constructor(M=null,J,$){super(gr(J),at($,J)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(J),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xn(J)&&(J.nonNullable||J.initialValueIsDefault)&&(this.defaultValue=er(M)?M.value:M)}setValue(M,J={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==J.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==J.emitViewToModelChange)),this.updateValueAndValidity(J)}patchValue(M,J={}){this.setValue(M,J)}reset(M=this.defaultValue,J={}){this._applyFormState(M),this.markAsPristine(J),this.markAsUntouched(J),this.setValue(this.value,J),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){hs(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){hs(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){er(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},di={provide:Pt,useExisting:(0,d.Rfq)(()=>xr)},gi=Promise.resolve();let xr=(()=>{var H;class M extends Pt{constructor($,fe,rn,Xn,ai,Ii){super(),this._changeDetectorRef=ai,this.callSetDisabledState=Ii,this.control=new wr,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=$,this._setValidators(fe),this._setAsyncValidators(rn),this.valueAccessor=function ro(H,M){if(!M)return null;let J,$,fe;return Array.isArray(M),M.forEach(rn=>{rn.constructor===ve?J=rn:function xo(H){return Object.getPrototypeOf(H.constructor)===Je}(rn)?$=rn:fe=rn}),fe||$||J||null}(0,Xn)}ngOnChanges($){if(this._checkForErrors(),!this._registered||"name"in $){if(this._registered&&(this._checkName(),this.formDirective)){const fe=$.name.previousValue;this.formDirective.removeControl({name:fe,path:this._getPath(fe)})}this._setUpControl()}"isDisabled"in $&&this._updateDisabled($),function Qi(H,M){if(!H.hasOwnProperty("model"))return!1;const J=H.model;return!!J.isFirstChange()||!Object.is(M,J.currentValue)}($,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate($){this.viewModel=$,this.update.emit($)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){K(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue($){gi.then(()=>{var fe;this.control.setValue($,{emitViewToModelChange:!1}),null===(fe=this._changeDetectorRef)||void 0===fe||fe.markForCheck()})}_updateDisabled($){const fe=$.isDisabled.currentValue,rn=0!==fe&&(0,d.L39)(fe);gi.then(()=>{var Xn;rn&&!this.control.disabled?this.control.disable():!rn&&this.control.disabled&&this.control.enable(),null===(Xn=this._changeDetectorRef)||void 0===Xn||Xn.markForCheck()})}_getPath($){return this._parent?function he(H,M){return[...M.path,H]}($,this._parent):[$]}}return(H=M).\u0275fac=function($){return new($||H)(d.rXU(Oe,9),d.rXU(Ye,10),d.rXU(bt,10),d.rXU(ct,10),d.rXU(d.gRc,8),d.rXU(te,8))},H.\u0275dir=d.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([di]),d.Vt3,d.OA$]}),M})(),Ps=(()=>{var H;class M{}return(H=M).\u0275fac=function($){return new($||H)},H.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})();function ho(H){return"number"==typeof H?H:parseFloat(H)}let Jo=(()=>{var H;class M{constructor(){this._validator=_e}ngOnChanges($){if(this.inputName in $){const fe=this.normalizeInput($[this.inputName].currentValue);this._enabled=this.enabled(fe),this._validator=this._enabled?this.createValidator(fe):_e,this._onChange&&this._onChange()}}validate($){return this._validator($)}registerOnValidatorChange($){this._onChange=$}enabled($){return null!=$}}return(H=M).\u0275fac=function($){return new($||H)},H.\u0275dir=d.FsC({type:H,features:[d.OA$]}),M})();const oa={provide:Ye,useExisting:(0,d.Rfq)(()=>es),multi:!0};let es=(()=>{var H;class M extends Jo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=$=>ho($),this.createValidator=$=>function zt(H){return M=>{if(Re(M.value)||Re(H))return null;const J=parseFloat(M.value);return!isNaN(J)&&J>H?{max:{max:H,actual:M.value}}:null}}($)}}return(H=M).\u0275fac=(()=>{let J;return function(fe){return(J||(J=d.xGo(H)))(fe||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function($,fe){2&$&&d.BMQ("max",fe._enabled?fe.max:null)},inputs:{max:"max"},features:[d.Jv_([oa]),d.Vt3]}),M})();const Ni={provide:Ye,useExisting:(0,d.Rfq)(()=>Oo),multi:!0};let Oo=(()=>{var H;class M extends Jo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=$=>ho($),this.createValidator=$=>function Lt(H){return M=>{if(Re(M.value)||Re(H))return null;const J=parseFloat(M.value);return!isNaN(J)&&J<H?{min:{min:H,actual:M.value}}:null}}($)}}return(H=M).\u0275fac=(()=>{let J;return function(fe){return(J||(J=d.xGo(H)))(fe||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function($,fe){2&$&&d.BMQ("min",fe._enabled?fe.min:null)},inputs:{min:"min"},features:[d.Jv_([Ni]),d.Vt3]}),M})();const ps={provide:Ye,useExisting:(0,d.Rfq)(()=>Ns),multi:!0};let Ns=(()=>{var H;class M extends Jo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=$=>cn}enabled($){return $}}return(H=M).\u0275fac=(()=>{let J;return function(fe){return(J||(J=d.xGo(H)))(fe||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,fe){2&$&&d.BMQ("required",fe._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([ps]),d.Vt3]}),M})(),Ca=(()=>{var H;class M{}return(H=M).\u0275fac=function($){return new($||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({}),M})(),dl=(()=>{var H;class M{static withConfig($){var fe;return{ngModule:M,providers:[{provide:te,useValue:null!==(fe=$.callSetDisabledState)&&void 0!==fe?fe:z}]}}}return(H=M).\u0275fac=function($){return new($||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({imports:[Ca]}),M})()},345:(vn,_t,L)=>{"use strict";L.d(_t,{Bb:()=>kn,hE:()=>Nn,sG:()=>En});var d=L(177),f=L(4438);class Z extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends Z{static makeCurrent(){(0,d.ZD)(new ee)}onAndCancel(ft,Ot,st){return ft.addEventListener(Ot,st),()=>{ft.removeEventListener(Ot,st)}}dispatchEvent(ft,Ot){ft.dispatchEvent(Ot)}remove(ft){ft.remove()}createElement(ft,Ot){return(Ot=Ot||this.getDefaultDocument()).createElement(ft)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ft){return ft.nodeType===Node.ELEMENT_NODE}isShadowRoot(ft){return ft instanceof DocumentFragment}getGlobalEventTarget(ft,Ot){return"window"===Ot?window:"document"===Ot?ft:"body"===Ot?ft.body:null}getBaseHref(ft){const Ot=function de(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==Ot?null:function De(Nt){return new URL(Nt,document.baseURI).pathname}(Ot)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(ft){return(0,d._b)(document.cookie,ft)}}let ae=null,Ke=(()=>{var Nt;class ft{build(){return new XMLHttpRequest}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)},Nt.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac}),ft})();const Ce=new f.nKC("");let ce=(()=>{var Nt;class ft{constructor(st,ut){this._zone=ut,this._eventNameToPlugin=new Map,st.forEach(en=>{en.manager=this}),this._plugins=st.slice().reverse()}addEventListener(st,ut,en){return this._findPluginFor(ut).addEventListener(st,ut,en)}getZone(){return this._zone}_findPluginFor(st){let ut=this._eventNameToPlugin.get(st);if(ut)return ut;if(ut=this._plugins.find(ye=>ye.supports(st)),!ut)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(st,ut),ut}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)(f.KVO(Ce),f.KVO(f.SKi))},Nt.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac}),ft})();class Ve{constructor(ft){this._doc=ft}}const ze="ng-app-id";let $e=(()=>{var Nt;class ft{constructor(st,ut,en,ye={}){this.doc=st,this.appId=ut,this.nonce=en,this.platformId=ye,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(ye),this.resetHostNodes()}addStyles(st){for(const ut of st)1===this.changeUsageCount(ut,1)&&this.onStyleAdded(ut)}removeStyles(st){for(const ut of st)this.changeUsageCount(ut,-1)<=0&&this.onStyleRemoved(ut)}ngOnDestroy(){const st=this.styleNodesInDOM;st&&(st.forEach(ut=>ut.remove()),st.clear());for(const ut of this.getAllStyles())this.onStyleRemoved(ut);this.resetHostNodes()}addHost(st){this.hostNodes.add(st);for(const ut of this.getAllStyles())this.addStyleToHost(st,ut)}removeHost(st){this.hostNodes.delete(st)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(st){for(const ut of this.hostNodes)this.addStyleToHost(ut,st)}onStyleRemoved(st){var ut;const en=this.styleRef;null===(ut=en.get(st))||void 0===ut||null===(ut=ut.elements)||void 0===ut||ut.forEach(ye=>ye.remove()),en.delete(st)}collectServerRenderedStyles(){var st;const ut=null===(st=this.doc.head)||void 0===st?void 0:st.querySelectorAll(`style[${ze}="${this.appId}"]`);if(null!=ut&&ut.length){const en=new Map;return ut.forEach(ye=>{null!=ye.textContent&&en.set(ye.textContent,ye)}),en}return null}changeUsageCount(st,ut){const en=this.styleRef;if(en.has(st)){const ye=en.get(st);return ye.usage+=ut,ye.usage}return en.set(st,{usage:ut,elements:[]}),ut}getStyleElement(st,ut){const en=this.styleNodesInDOM,ye=null==en?void 0:en.get(ut);if((null==ye?void 0:ye.parentNode)===st)return en.delete(ut),ye.removeAttribute(ze),ye;{const Se=this.doc.createElement("style");return this.nonce&&Se.setAttribute("nonce",this.nonce),Se.textContent=ut,this.platformIsServer&&Se.setAttribute(ze,this.appId),st.appendChild(Se),Se}}addStyleToHost(st,ut){var en;const ye=this.getStyleElement(st,ut),Se=this.styleRef,Qe=null===(en=Se.get(ut))||void 0===en?void 0:en.elements;Qe?Qe.push(ye):Se.set(ut,{elements:[ye],usage:1})}resetHostNodes(){const st=this.hostNodes;st.clear(),st.add(this.doc.head)}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)(f.KVO(d.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))},Nt.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac}),ft})();const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ct=/%COMP%/g,pe=new f.nKC("",{providedIn:"root",factory:()=>!0});function rt(Nt,ft){return ft.map(Ot=>Ot.replace(ct,Nt))}let Ye=(()=>{var Nt;class ft{constructor(st,ut,en,ye,Se,Qe,St,mt=null){this.eventManager=st,this.sharedStylesHost=ut,this.appId=en,this.removeStylesOnCompDestroy=ye,this.doc=Se,this.platformId=Qe,this.ngZone=St,this.nonce=mt,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(Qe),this.defaultRenderer=new bt(st,Se,St,this.platformIsServer)}createRenderer(st,ut){if(!st||!ut)return this.defaultRenderer;this.platformIsServer&&ut.encapsulation===f.gXe.ShadowDom&&(ut={...ut,encapsulation:f.gXe.Emulated});const en=this.getOrCreateRenderer(st,ut);return en instanceof Jt?en.applyToHost(st):en instanceof cn&&en.applyStyles(),en}getOrCreateRenderer(st,ut){const en=this.rendererByCompId;let ye=en.get(ut.id);if(!ye){const Se=this.doc,Qe=this.ngZone,St=this.eventManager,mt=this.sharedStylesHost,yn=this.removeStylesOnCompDestroy,Dn=this.platformIsServer;switch(ut.encapsulation){case f.gXe.Emulated:ye=new Jt(St,mt,ut,this.appId,yn,Se,Qe,Dn);break;case f.gXe.ShadowDom:return new zt(St,mt,st,ut,Se,Qe,this.nonce,Dn);default:ye=new cn(St,mt,ut,yn,Se,Qe,Dn)}en.set(ut.id,ye)}return ye}ngOnDestroy(){this.rendererByCompId.clear()}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)(f.KVO(ce),f.KVO($e),f.KVO(f.sZ2),f.KVO(pe),f.KVO(d.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))},Nt.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac}),ft})();class bt{constructor(ft,Ot,st,ut){this.eventManager=ft,this.doc=Ot,this.ngZone=st,this.platformIsServer=ut,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ft,Ot){return Ot?this.doc.createElementNS(Je[Ot]||Ot,ft):this.doc.createElement(ft)}createComment(ft){return this.doc.createComment(ft)}createText(ft){return this.doc.createTextNode(ft)}appendChild(ft,Ot){(Lt(ft)?ft.content:ft).appendChild(Ot)}insertBefore(ft,Ot,st){ft&&(Lt(ft)?ft.content:ft).insertBefore(Ot,st)}removeChild(ft,Ot){Ot.remove()}selectRootElement(ft,Ot){let st="string"==typeof ft?this.doc.querySelector(ft):ft;if(!st)throw new f.wOt(-5104,!1);return Ot||(st.textContent=""),st}parentNode(ft){return ft.parentNode}nextSibling(ft){return ft.nextSibling}setAttribute(ft,Ot,st,ut){if(ut){Ot=ut+":"+Ot;const en=Je[ut];en?ft.setAttributeNS(en,Ot,st):ft.setAttribute(Ot,st)}else ft.setAttribute(Ot,st)}removeAttribute(ft,Ot,st){if(st){const ut=Je[st];ut?ft.removeAttributeNS(ut,Ot):ft.removeAttribute(`${st}:${Ot}`)}else ft.removeAttribute(Ot)}addClass(ft,Ot){ft.classList.add(Ot)}removeClass(ft,Ot){ft.classList.remove(Ot)}setStyle(ft,Ot,st,ut){ut&(f.czy.DashCase|f.czy.Important)?ft.style.setProperty(Ot,st,ut&f.czy.Important?"important":""):ft.style[Ot]=st}removeStyle(ft,Ot,st){st&f.czy.DashCase?ft.style.removeProperty(Ot):ft.style[Ot]=""}setProperty(ft,Ot,st){null!=ft&&(ft[Ot]=st)}setValue(ft,Ot){ft.nodeValue=Ot}listen(ft,Ot,st){if("string"==typeof ft&&!(ft=(0,d.QT)().getGlobalEventTarget(this.doc,ft)))throw new Error(`Unsupported event target ${ft} for event ${Ot}`);return this.eventManager.addEventListener(ft,Ot,this.decoratePreventDefault(st))}decoratePreventDefault(ft){return Ot=>{if("__ngUnwrap__"===Ot)return ft;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ft(Ot)):ft(Ot))&&Ot.preventDefault()}}}function Lt(Nt){return"TEMPLATE"===Nt.tagName&&void 0!==Nt.content}class zt extends bt{constructor(ft,Ot,st,ut,en,ye,Se,Qe){super(ft,en,ye,Qe),this.sharedStylesHost=Ot,this.hostEl=st,this.shadowRoot=st.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=rt(ut.id,ut.styles);for(const mt of St){const yn=document.createElement("style");Se&&yn.setAttribute("nonce",Se),yn.textContent=mt,this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(ft){return ft===this.hostEl?this.shadowRoot:ft}appendChild(ft,Ot){return super.appendChild(this.nodeOrShadowRoot(ft),Ot)}insertBefore(ft,Ot,st){return super.insertBefore(this.nodeOrShadowRoot(ft),Ot,st)}removeChild(ft,Ot){return super.removeChild(null,Ot)}parentNode(ft){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ft)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cn extends bt{constructor(ft,Ot,st,ut,en,ye,Se,Qe){super(ft,en,ye,Se),this.sharedStylesHost=Ot,this.removeStylesOnCompDestroy=ut,this.styles=Qe?rt(Qe,st.styles):st.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jt extends cn{constructor(ft,Ot,st,ut,en,ye,Se,Qe){const St=ut+"-"+st.id;super(ft,Ot,st,en,ye,Se,Qe,St),this.contentAttr=function ve(Nt){return"_ngcontent-%COMP%".replace(ct,Nt)}(St),this.hostAttr=function Re(Nt){return"_nghost-%COMP%".replace(ct,Nt)}(St)}applyToHost(ft){this.applyStyles(),this.setAttribute(ft,this.hostAttr,"")}createElement(ft,Ot){const st=super.createElement(ft,Ot);return super.setAttribute(st,this.contentAttr,""),st}}let wn=(()=>{var Nt;class ft extends Ve{constructor(st){super(st)}supports(st){return!0}addEventListener(st,ut,en){return st.addEventListener(ut,en,!1),()=>this.removeEventListener(st,ut,en)}removeEventListener(st,ut,en){return st.removeEventListener(ut,en)}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)(f.KVO(d.qQ))},Nt.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac}),ft})();const kt=["alt","control","meta","shift"],Te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ie={alt:Nt=>Nt.altKey,control:Nt=>Nt.ctrlKey,meta:Nt=>Nt.metaKey,shift:Nt=>Nt.shiftKey};let _e=(()=>{var Nt;class ft extends Ve{constructor(st){super(st)}supports(st){return null!=ft.parseEventName(st)}addEventListener(st,ut,en){const ye=ft.parseEventName(ut),Se=ft.eventCallback(ye.fullKey,en,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(st,ye.domEventName,Se))}static parseEventName(st){const ut=st.toLowerCase().split("."),en=ut.shift();if(0===ut.length||"keydown"!==en&&"keyup"!==en)return null;const ye=ft._normalizeKey(ut.pop());let Se="",Qe=ut.indexOf("code");if(Qe>-1&&(ut.splice(Qe,1),Se="code."),kt.forEach(mt=>{const yn=ut.indexOf(mt);yn>-1&&(ut.splice(yn,1),Se+=mt+".")}),Se+=ye,0!=ut.length||0===ye.length)return null;const St={};return St.domEventName=en,St.fullKey=Se,St}static matchEventFullKeyCode(st,ut){let en=Te[st.key]||st.key,ye="";return ut.indexOf("code.")>-1&&(en=st.code,ye="code."),!(null==en||!en)&&(en=en.toLowerCase()," "===en?en="space":"."===en&&(en="dot"),kt.forEach(Se=>{Se!==en&&(0,Ie[Se])(st)&&(ye+=Se+".")}),ye+=en,ye===ut)}static eventCallback(st,ut,en){return ye=>{ft.matchEventFullKeyCode(ye,st)&&en.runGuarded(()=>ut(ye))}}static _normalizeKey(st){return"esc"===st?"escape":st}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)(f.KVO(d.qQ))},Nt.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac}),ft})();const En=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:d.AJ},{provide:f.PLl,useValue:function Ne(){ee.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function ot(){return(0,f.TL$)(document),document},deps:[]}]),lt=new f.nKC(""),an=[{provide:f.e01,useClass:class Be{addToWindow(ft){f.JZv.getAngularTestability=(st,ut=!0)=>{const en=ft.findTestabilityInTree(st,ut);if(null==en)throw new f.wOt(5103,!1);return en},f.JZv.getAllAngularTestabilities=()=>ft.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>ft.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(st=>{const ut=f.JZv.getAllAngularTestabilities();let en=ut.length;const ye=function(){en--,0==en&&st()};ut.forEach(Se=>{Se.whenStable(ye)})})}findTestabilityInTree(ft,Ot,st){if(null==Ot)return null;const ut=ft.getTestability(Ot);return null!=ut?ut:st?(0,d.QT)().isShadowRoot(Ot)?this.findTestabilityInTree(ft,Ot.host,!0):this.findTestabilityInTree(ft,Ot.parentElement,!0):null}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],Cn=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function tt(){return new f.zcH},deps:[]},{provide:Ce,useClass:wn,multi:!0,deps:[d.qQ,f.SKi,f.Agw]},{provide:Ce,useClass:_e,multi:!0,deps:[d.qQ]},Ye,$e,ce,{provide:f._9s,useExisting:Ye},{provide:d.N0,useClass:Ke,deps:[]},[]];let kn=(()=>{var Nt;class ft{constructor(st){}static withServerTransition(st){return{ngModule:ft,providers:[{provide:f.sZ2,useValue:st.appId}]}}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)(f.KVO(lt,12))},Nt.\u0275mod=f.$C({type:Nt}),Nt.\u0275inj=f.G2t({providers:[...Cn,...an],imports:[d.MD,f.Hbi]}),ft})(),Nn=(()=>{var Nt;class ft{constructor(st){this._doc=st}getTitle(){return this._doc.title}setTitle(st){this._doc.title=st||""}}return(Nt=ft).\u0275fac=function(st){return new(st||Nt)(f.KVO(d.qQ))},Nt.\u0275prov=f.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"}),ft})()},4964:(vn,_t,L)=>{"use strict";L.d(_t,{nX:()=>jt,Zp:()=>x,Z:()=>_i,Xk:()=>Mt,Kp:()=>eo,b:()=>Fe,Ix:()=>yi,Wk:()=>Bn,iI:()=>Ma,Sd:()=>Yn});var d=L(4438),f=L(1985),Z=L(8071),ae=L(8455),de=L(7673),De=L(4412),Be=L(4572),Ke=L(9350),Ce=L(8793),ce=L(8750);function Ve(A){return new f.c(w=>{(0,ce.Tg)(A()).subscribe(w)})}var ze=L(1203);function $e(A,w){const P=(0,Z.T)(A)?A:()=>A,b=k=>k.error(P());return new f.c(w?k=>w.schedule(b,0,k):b)}var Je=L(983),ct=L(8359),et=L(9974),je=L(4360);function vt(){return(0,et.N)((A,w)=>{let P=null;A._refCount++;const b=(0,je._)(w,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(P=null);const k=A._connection,oe=P;P=null,k&&(!oe||k===oe)&&k.unsubscribe(),w.unsubscribe()});A.subscribe(b),b.closed||(P=A.connect())})}class ht extends f.c{constructor(w,P){super(),this.source=w,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,et.S)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ct.yU;const P=this.getSubject();w.add(this.source.subscribe((0,je._)(P,void 0,()=>{this._teardown(),P.complete()},b=>{this._teardown(),P.error(b)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ct.yU.EMPTY)}return w}refCount(){return vt()(this)}}var pe=L(1413),ve=L(177),Re=L(6354),rt=L(5558),Ye=L(6697),bt=L(9172),He=L(5964),Pe=L(1397),Lt=L(1594);function zt(A,w){return(0,Z.T)(w)?(0,Pe.Z)(A,w,1):(0,Pe.Z)(A,1)}var cn=L(8141);function Jt(A){return(0,et.N)((w,P)=>{let oe,b=null,k=!1;b=w.subscribe((0,je._)(P,void 0,void 0,ue=>{oe=(0,ce.Tg)(A(ue,Jt(A)(w))),b?(b.unsubscribe(),b=null,oe.subscribe(P)):k=!0})),k&&(b.unsubscribe(),b=null,oe.subscribe(P))})}var wn=L(2816),kt=L(9901);function Te(A){return A<=0?()=>Je.w:(0,et.N)((w,P)=>{let b=[];w.subscribe((0,je._)(P,k=>{b.push(k),A<b.length&&b.shift()},()=>{for(const k of b)P.next(k);P.complete()},void 0,()=>{b=null}))})}var Ie=L(3774),_e=L(3669);function Xe(A){return(0,et.N)((w,P)=>{try{w.subscribe(P)}finally{P.add(A)}})}var Ue=L(5343),tt=L(6365),ot=L(345);const Mt="primary",En=Symbol("RouteTitle");class lt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const P=this.params[w];return Array.isArray(P)?P[0]:P}return null}getAll(w){if(this.has(w)){const P=this.params[w];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function an(A){return new lt(A)}function Cn(A,w,P){const b=P.path.split("/");if(b.length>A.length||"full"===P.pathMatch&&(w.hasChildren()||b.length<A.length))return null;const k={};for(let oe=0;oe<b.length;oe++){const ue=b[oe],At=A[oe];if(":"===ue[0])k[ue.substring(1)]=At;else if(ue!==At.path)return null}return{consumed:A.slice(0,b.length),posParams:k}}function Ft(A,w){const P=A?Kt(A):void 0,b=w?Kt(w):void 0;if(!P||!b||P.length!=b.length)return!1;let k;for(let oe=0;oe<P.length;oe++)if(k=P[oe],!Nn(A[k],w[k]))return!1;return!0}function Kt(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Nn(A,w){if(Array.isArray(A)&&Array.isArray(w)){if(A.length!==w.length)return!1;const P=[...A].sort(),b=[...w].sort();return P.every((k,oe)=>b[oe]===k)}return A===w}function qt(A){return A.length>0?A[A.length-1]:null}function Me(A){return function ee(A){return!!A&&(A instanceof f.c||(0,Z.T)(A.lift)&&(0,Z.T)(A.subscribe))}(A)?A:(0,d.jNT)(A)?(0,ae.H)(Promise.resolve(A)):(0,de.of)(A)}const Oe={exact:function Kn(A,w,P){if(!_n(A.segments,w.segments)||!Qn(A.segments,w.segments,P)||A.numberOfChildren!==w.numberOfChildren)return!1;for(const b in w.children)if(!A.children[b]||!Kn(A.children[b],w.children[b],P))return!1;return!0},subset:gn},Pt={exact:function jn(A,w){return Ft(A,w)},subset:function Tn(A,w){return Object.keys(w).length<=Object.keys(A).length&&Object.keys(w).every(P=>Nn(A[P],w[P]))},ignored:()=>!0};function yt(A,w,P){return Oe[P.paths](A.root,w.root,P.matrixParams)&&Pt[P.queryParams](A.queryParams,w.queryParams)&&!("exact"===P.fragment&&A.fragment!==w.fragment)}function gn(A,w,P){return Zn(A,w,w.segments,P)}function Zn(A,w,P,b){if(A.segments.length>P.length){const k=A.segments.slice(0,P.length);return!(!_n(k,P)||w.hasChildren()||!Qn(k,P,b))}if(A.segments.length===P.length){if(!_n(A.segments,P)||!Qn(A.segments,P,b))return!1;for(const k in w.children)if(!A.children[k]||!gn(A.children[k],w.children[k],b))return!1;return!0}{const k=P.slice(0,A.segments.length),oe=P.slice(A.segments.length);return!!(_n(A.segments,k)&&Qn(A.segments,k,b)&&A.children[Mt])&&Zn(A.children[Mt],w,oe,b)}}function Qn(A,w,P){return w.every((b,k)=>Pt[P](A[k].parameters,b.parameters))}class Gn{constructor(w=new nr([],{}),P={},b=null){this.root=w,this.queryParams=P,this.fragment=b}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class nr{constructor(w,P){this.segments=w,this.children=P,this.parent=null,Object.values(P).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ci(this)}}class br{constructor(w,P){this.path=w,this.parameters=P}get parameterMap(){var w;return null!==(w=this._parameterMap)&&void 0!==w||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return st(this)}}function _n(A,w){return A.length===w.length&&A.every((P,b)=>P.path===w[b].path)}let Yn=(()=>{var A;class w{}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:()=>new ar,providedIn:"root"}),w})();class ar{parse(w){const P=new Hr(w);return new Gn(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(w){const P=`/${Ln(w.root,!0)}`,b=function en(A){const w=Object.entries(A).map(([P,b])=>Array.isArray(b)?b.map(k=>`${sr(P)}=${sr(k)}`).join("&"):`${sr(P)}=${sr(b)}`).filter(P=>P);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${P}${b}${"string"==typeof w.fragment?`#${function nn(A){return encodeURI(A)}(w.fragment)}`:""}`}}const fn=new ar;function ci(A){return A.segments.map(w=>st(w)).join("/")}function Ln(A,w){if(!A.hasChildren())return ci(A);if(w){const P=A.children[Mt]?Ln(A.children[Mt],!1):"",b=[];return Object.entries(A.children).forEach(([k,oe])=>{k!==Mt&&b.push(`${k}:${Ln(oe,!1)}`)}),b.length>0?`${P}(${b.join("//")})`:P}{const P=function Ur(A,w){let P=[];return Object.entries(A.children).forEach(([b,k])=>{b===Mt&&(P=P.concat(w(k,b)))}),Object.entries(A.children).forEach(([b,k])=>{b!==Mt&&(P=P.concat(w(k,b)))}),P}(A,(b,k)=>k===Mt?[Ln(A.children[Mt],!1)]:[`${k}:${Ln(b,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Mt]?`${ci(A)}/${P[0]}`:`${ci(A)}/(${P.join("//")})`}}function ir(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sr(A){return ir(A).replace(/%3B/gi,";")}function Nt(A){return ir(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ft(A){return decodeURIComponent(A)}function Ot(A){return ft(A.replace(/\+/g,"%20"))}function st(A){return`${Nt(A.path)}${function ut(A){return Object.entries(A).map(([w,P])=>`;${Nt(w)}=${Nt(P)}`).join("")}(A.parameters)}`}const ye=/^[^\/()?;#]+/;function Se(A){const w=A.match(ye);return w?w[0]:""}const Qe=/^[^\/()?;=#]+/,mt=/^[^=?&#]+/,Dn=/^[^&#]+/;class Hr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nr([],{}):new nr([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(w.length>0||Object.keys(P).length>0)&&(b[Mt]=new nr(w,P)),b}parseSegment(){const w=Se(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(w),new br(ft(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const P=function St(A){const w=A.match(Qe);return w?w[0]:""}(this.remaining);if(!P)return;this.capture(P);let b="";if(this.consumeOptional("=")){const k=Se(this.remaining);k&&(b=k,this.capture(b))}w[ft(P)]=ft(b)}parseQueryParam(w){const P=function yn(A){const w=A.match(mt);return w?w[0]:""}(this.remaining);if(!P)return;this.capture(P);let b="";if(this.consumeOptional("=")){const ue=function gr(A){const w=A.match(Dn);return w?w[0]:""}(this.remaining);ue&&(b=ue,this.capture(b))}const k=Ot(P),oe=Ot(b);if(w.hasOwnProperty(k)){let ue=w[k];Array.isArray(ue)||(ue=[ue],w[k]=ue),ue.push(oe)}else w[k]=oe}parseParens(w){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Se(this.remaining),k=this.remaining[b.length];if("/"!==k&&")"!==k&&";"!==k)throw new d.wOt(4010,!1);let oe;b.indexOf(":")>-1?(oe=b.slice(0,b.indexOf(":")),this.capture(oe),this.capture(":")):w&&(oe=Mt);const ue=this.parseChildren();P[oe]=1===Object.keys(ue).length?ue[Mt]:new nr([],ue),this.consumeOptional("//")}return P}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new d.wOt(4011,!1)}}function at(A){return A.segments.length>0?new nr([],{[Mt]:A}):A}function mr(A){const w={};for(const[b,k]of Object.entries(A.children)){const oe=mr(k);if(b===Mt&&0===oe.segments.length&&oe.hasChildren())for(const[ue,At]of Object.entries(oe.children))w[ue]=At;else(oe.segments.length>0||oe.hasChildren())&&(w[b]=oe)}return function xn(A){if(1===A.numberOfChildren&&A.children[Mt]){const w=A.children[Mt];return new nr(A.segments.concat(w.segments),w.children)}return A}(new nr(A.segments,w))}function zr(A){return A instanceof Gn}function Pn(A){var w;let P;const oe=at(function b(ue){const At={};for(const Dt of ue.children){const bn=b(Dt);At[Dt.outlet]=bn}const Yt=new nr(ue.url,At);return ue===A&&(P=Yt),Yt}(A.root));return null!==(w=P)&&void 0!==w?w:oe}function ri(A,w,P,b){let k=A;for(;k.parent;)k=k.parent;if(0===w.length)return no(k,k,k,P,b);const oe=function te(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new dr(!0,0,A);let w=0,P=!1;const b=A.reduce((k,oe,ue)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const At={};return Object.entries(oe.outlets).forEach(([Yt,Dt])=>{At[Yt]="string"==typeof Dt?Dt.split("/"):Dt}),[...k,{outlets:At}]}if(oe.segmentPath)return[...k,oe.segmentPath]}return"string"!=typeof oe?[...k,oe]:0===ue?(oe.split("/").forEach((At,Yt)=>{0==Yt&&"."===At||(0==Yt&&""===At?P=!0:".."===At?w++:""!=At&&k.push(At))}),k):[...k,oe]},[]);return new dr(P,w,b)}(w);if(oe.toRoot())return no(k,k,new nr([],{}),P,b);const ue=function he(A,w,P){if(A.isAbsolute)return new z(w,!0,0);if(!P)return new z(w,!1,NaN);if(null===P.parent)return new z(P,!0,0);const b=Si(A.commands[0])?0:1;return function K(A,w,P){let b=A,k=w,oe=P;for(;oe>k;){if(oe-=k,b=b.parent,!b)throw new d.wOt(4005,!1);k=b.segments.length}return new z(b,!1,k-oe)}(P,P.segments.length-1+b,A.numberOfDoubleDots)}(oe,k,A),At=ue.processChildren?gt(ue.segmentGroup,ue.index,oe.commands):me(ue.segmentGroup,ue.index,oe.commands);return no(k,ue.segmentGroup,At,P,b)}function Si(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function ui(A){return"object"==typeof A&&null!=A&&A.outlets}function no(A,w,P,b,k){let ue,oe={};b&&Object.entries(b).forEach(([Yt,Dt])=>{oe[Yt]=Array.isArray(Dt)?Dt.map(bn=>`${bn}`):`${Dt}`}),ue=A===w?P:Ri(A,w,P);const At=at(mr(ue));return new Gn(At,oe,k)}function Ri(A,w,P){const b={};return Object.entries(A.children).forEach(([k,oe])=>{b[k]=oe===w?P:Ri(oe,w,P)}),new nr(A.segments,b)}class dr{constructor(w,P,b){if(this.isAbsolute=w,this.numberOfDoubleDots=P,this.commands=b,w&&b.length>0&&Si(b[0]))throw new d.wOt(4003,!1);const k=b.find(ui);if(k&&k!==qt(b))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class z{constructor(w,P,b){this.segmentGroup=w,this.processChildren=P,this.index=b}}function me(A,w,P){var b;if(null!==(b=A)&&void 0!==b||(A=new nr([],{})),0===A.segments.length&&A.hasChildren())return gt(A,w,P);const k=function $t(A,w,P){let b=0,k=w;const oe={match:!1,pathIndex:0,commandIndex:0};for(;k<A.segments.length;){if(b>=P.length)return oe;const ue=A.segments[k],At=P[b];if(ui(At))break;const Yt=`${At}`,Dt=b<P.length-1?P[b+1]:null;if(k>0&&void 0===Yt)break;if(Yt&&Dt&&"object"==typeof Dt&&void 0===Dt.outlets){if(!Fn(Yt,Dt,ue))return oe;b+=2}else{if(!Fn(Yt,{},ue))return oe;b++}k++}return{match:!0,pathIndex:k,commandIndex:b}}(A,w,P),oe=P.slice(k.commandIndex);if(k.match&&k.pathIndex<A.segments.length){const ue=new nr(A.segments.slice(0,k.pathIndex),{});return ue.children[Mt]=new nr(A.segments.slice(k.pathIndex),A.children),gt(ue,0,oe)}return k.match&&0===oe.length?new nr(A.segments,{}):k.match&&!A.hasChildren()?tn(A,w,P):k.match?gt(A,0,oe):tn(A,w,P)}function gt(A,w,P){if(0===P.length)return new nr(A.segments,{});{const b=function Q(A){return ui(A[0])?A[0].outlets:{[Mt]:A}}(P),k={};if(Object.keys(b).some(oe=>oe!==Mt)&&A.children[Mt]&&1===A.numberOfChildren&&0===A.children[Mt].segments.length){const oe=gt(A.children[Mt],w,P);return new nr(A.segments,oe.children)}return Object.entries(b).forEach(([oe,ue])=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&(k[oe]=me(A.children[oe],w,ue))}),Object.entries(A.children).forEach(([oe,ue])=>{void 0===b[oe]&&(k[oe]=ue)}),new nr(A.segments,k)}}function tn(A,w,P){const b=A.segments.slice(0,w);let k=0;for(;k<P.length;){const oe=P[k];if(ui(oe)){const Yt=Un(oe.outlets);return new nr(b,Yt)}if(0===k&&Si(P[0])){b.push(new br(A.segments[w].path,Sn(P[0]))),k++;continue}const ue=ui(oe)?oe.outlets[Mt]:`${oe}`,At=k<P.length-1?P[k+1]:null;ue&&At&&Si(At)?(b.push(new br(ue,Sn(At))),k+=2):(b.push(new br(ue,{})),k++)}return new nr(b,{})}function Un(A){const w={};return Object.entries(A).forEach(([P,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(w[P]=tn(new nr([],{}),0,b))}),w}function Sn(A){const w={};return Object.entries(A).forEach(([P,b])=>w[P]=`${b}`),w}function Fn(A,w,P){return A==P.path&&Ft(w,P.parameters)}const Jr="imperative";var Jn=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(Jn||{});class ii{constructor(w,P){this.id=w,this.url=P}}class _i extends ii{constructor(w,P,b="imperative",k=null){super(w,P),this.type=Jn.NavigationStart,this.navigationTrigger=b,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xi extends ii{constructor(w,P,b){super(w,P),this.urlAfterRedirects=b,this.type=Jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ei=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(ei||{}),co=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(co||{});class Mi extends ii{constructor(w,P,b,k){super(w,P),this.reason=b,this.code=k,this.type=Jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qi extends ii{constructor(w,P,b,k){super(w,P),this.reason=b,this.code=k,this.type=Jn.NavigationSkipped}}class xo extends ii{constructor(w,P,b,k){super(w,P),this.error=b,this.target=k,this.type=Jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xo extends ii{constructor(w,P,b,k){super(w,P),this.urlAfterRedirects=b,this.state=k,this.type=Jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ro extends ii{constructor(w,P,b,k){super(w,P),this.urlAfterRedirects=b,this.state=k,this.type=Jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eo extends ii{constructor(w,P,b,k,oe){super(w,P),this.urlAfterRedirects=b,this.state=k,this.shouldActivate=oe,this.type=Jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ao extends ii{constructor(w,P,b,k){super(w,P),this.urlAfterRedirects=b,this.state=k,this.type=Jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends ii{constructor(w,P,b,k){super(w,P),this.urlAfterRedirects=b,this.state=k,this.type=Jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi{constructor(w){this.route=w,this.type=Jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pi{constructor(w){this.route=w,this.type=Jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hs{constructor(w){this.snapshot=w,this.type=Jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(w){this.snapshot=w,this.type=Jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wr{constructor(w){this.snapshot=w,this.type=Jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ia{constructor(w){this.snapshot=w,this.type=Jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(w,P,b){this.routerEvent=w,this.position=P,this.anchor=b,this.type=Jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qo{}class oi{constructor(w,P){this.url=w,this.navigationBehaviorOptions=P}}function Vr(A){return A.outlet||Mt}function X(A){var w;if(!A)return null;if(null!==(w=A.routeConfig)&&void 0!==w&&w._injector)return A.routeConfig._injector;for(let P=A.parent;P;P=P.parent){const b=P.routeConfig;if(null!=b&&b._loadedInjector)return b._loadedInjector;if(null!=b&&b._injector)return b._injector}return null}class le{get injector(){var w,P;return null!==(w=X(null===(P=this.route)||void 0===P?void 0:P.snapshot))&&void 0!==w?w:this.rootInjector}set injector(w){}constructor(w){this.rootInjector=w,this.outlet=null,this.route=null,this.children=new x(this.rootInjector),this.attachRef=null}}let x=(()=>{var A;class w{constructor(b){this.rootInjector=b,this.contexts=new Map}onChildOutletCreated(b,k){const oe=this.getOrCreateContext(b);oe.outlet=k,this.contexts.set(b,oe)}onChildOutletDestroyed(b){const k=this.getContext(b);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let k=this.getContext(b);return k||(k=new le(this.rootInjector),this.contexts.set(b,k)),k}getContext(b){return this.contexts.get(b)||null}}return(A=w).\u0275fac=function(b){return new(b||A)(d.KVO(d.uvJ))},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})();class C{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const P=this.pathFromRoot(w);return P.length>1?P[P.length-2]:null}children(w){const P=O(w,this._root);return P?P.children.map(b=>b.value):[]}firstChild(w){const P=O(w,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(w){const P=Ee(w,this._root);return P.length<2?[]:P[P.length-2].children.map(k=>k.value).filter(k=>k!==w)}pathFromRoot(w){return Ee(w,this._root).map(P=>P.value)}}function O(A,w){if(A===w.value)return w;for(const P of w.children){const b=O(A,P);if(b)return b}return null}function Ee(A,w){if(A===w.value)return[w];for(const P of w.children){const b=Ee(A,P);if(b.length)return b.unshift(w),b}return[]}class ke{constructor(w,P){this.value=w,this.children=P}toString(){return`TreeNode(${this.value})`}}function it(A){const w={};return A&&A.children.forEach(P=>w[P.value.outlet]=P),w}class nt extends C{constructor(w,P){super(w),this.snapshot=P,Vn(this,w)}toString(){return this.snapshot.toString()}}function Ht(A){const w=function It(A){const oe=new dn([],{},{},"",{},Mt,A,null,{});return new In("",new ke(oe,[]))}(A),P=new De.t([new br("",{})]),b=new De.t({}),k=new De.t({}),oe=new De.t({}),ue=new De.t(""),At=new jt(P,b,oe,ue,k,Mt,A,w.root);return At.snapshot=w.root,new nt(new ke(At,[]),w)}class jt{constructor(w,P,b,k,oe,ue,At,Yt){var Dt,bn;this.urlSubject=w,this.paramsSubject=P,this.queryParamsSubject=b,this.fragmentSubject=k,this.dataSubject=oe,this.outlet=ue,this.component=At,this._futureSnapshot=Yt,this.title=null!==(Dt=null===(bn=this.dataSubject)||void 0===bn?void 0:bn.pipe((0,Re.T)(fr=>fr[En])))&&void 0!==Dt?Dt:(0,de.of)(void 0),this.url=w,this.params=P,this.queryParams=b,this.fragment=k,this.data=oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=this.params.pipe((0,Re.T)(P=>an(P)))),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=this.queryParams.pipe((0,Re.T)(P=>an(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zt(A,w,P="emptyOnly"){var b;let k;const{routeConfig:oe}=A;var ue;return k=null===w||"always"!==P&&""!==(null==oe?void 0:oe.path)&&(w.component||null!==(b=w.routeConfig)&&void 0!==b&&b.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...null!==(ue=A._resolvedData)&&void 0!==ue?ue:{}}}:{params:{...w.params,...A.params},data:{...w.data,...A.data},resolve:{...A.data,...w.data,...null==oe?void 0:oe.data,...A._resolvedData}},oe&&ti(oe)&&(k.resolve[En]=oe.title),k}class dn{get title(){var w;return null===(w=this.data)||void 0===w?void 0:w[En]}constructor(w,P,b,k,oe,ue,At,Yt,Dt){this.url=w,this.params=P,this.queryParams=b,this.fragment=k,this.data=oe,this.outlet=ue,this.component=At,this.routeConfig=Yt,this._resolve=Dt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class In extends C{constructor(w,P){super(P),this.url=w,Vn(this,P)}toString(){return Mn(this._root)}}function Vn(A,w){w.value._routerState=A,w.children.forEach(P=>Vn(A,P))}function Mn(A){const w=A.children.length>0?` { ${A.children.map(Mn).join(", ")} } `:"";return`${A.value}${w}`}function kr(A){if(A.snapshot){const w=A.snapshot,P=A._futureSnapshot;A.snapshot=P,Ft(w.queryParams,P.queryParams)||A.queryParamsSubject.next(P.queryParams),w.fragment!==P.fragment&&A.fragmentSubject.next(P.fragment),Ft(w.params,P.params)||A.paramsSubject.next(P.params),function kn(A,w){if(A.length!==w.length)return!1;for(let P=0;P<A.length;++P)if(!Ft(A[P],w[P]))return!1;return!0}(w.url,P.url)||A.urlSubject.next(P.url),Ft(w.data,P.data)||A.dataSubject.next(P.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function Wr(A,w){const P=Ft(A.params,w.params)&&function Xr(A,w){return _n(A,w)&&A.every((P,b)=>Ft(P.parameters,w[b].parameters))}(A.url,w.url);return P&&!(!A.parent!=!w.parent)&&(!A.parent||Wr(A.parent,w.parent))}function ti(A){return"string"==typeof A.title||null===A.title}let $r=(()=>{var A;class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(x),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(Ci,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:k,previousValue:oe}=b.name;if(k)return;this.isTrackedInParentContexts(oe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(oe)),this.initializeOutletWithName()}}ngOnDestroy(){var b;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(b=this.inputBinder)||void 0===b||b.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){var k;return(null===(k=this.parentContexts.getContext(b))||void 0===k?void 0:k.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);null!=b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,k){var oe;this.activated=b,this._activatedRoute=k,this.location.insert(b.hostView),null===(oe=this.inputBinder)||void 0===oe||oe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,k){var oe;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=b;const ue=this.location,Yt=b.snapshot.component,Dt=this.parentContexts.getOrCreateContext(this.name).children,bn=new ni(b,Dt,ue.injector);this.activated=ue.createComponent(Yt,{index:ue.length,injector:bn,environmentInjector:k}),this.changeDetector.markForCheck(),null===(oe=this.inputBinder)||void 0===oe||oe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275dir=d.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),w})();class ni{__ngOutletInjector(w){return new ni(this.route,this.childContexts,w)}constructor(w,P,b){this.route=w,this.childContexts=P,this.parent=b}get(w,P){return w===jt?this.route:w===x?this.childContexts:this.parent.get(w,P)}}const Ci=new d.nKC("");let Yi=(()=>{var A;class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){var k;null===(k=this.outletDataSubscriptions.get(b))||void 0===k||k.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:k}=b,oe=(0,Be.z)([k.queryParams,k.params,k.data]).pipe((0,rt.n)(([ue,At,Yt],Dt)=>(Yt={...ue,...At,...Yt},0===Dt?(0,de.of)(Yt):Promise.resolve(Yt)))).subscribe(ue=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(b);const At=(0,d.HJs)(k.component);if(At)for(const{templateName:Yt}of At.inputs)b.activatedComponentRef.setInput(Yt,ue[Yt]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,oe)}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac}),w})();function go(A,w,P){if(P&&A.shouldReuseRoute(w.value,P.value.snapshot)){const b=P.value;b._futureSnapshot=w.value;const k=function oo(A,w,P){return w.children.map(b=>{for(const k of P.children)if(A.shouldReuseRoute(b.value,k.value.snapshot))return go(A,b,k);return go(A,b)})}(A,w,P);return new ke(b,k)}{if(A.shouldAttach(w.value)){const oe=A.retrieve(w.value);if(null!==oe){const ue=oe.route;return ue.value._futureSnapshot=w.value,ue.children=w.children.map(At=>go(A,At)),ue}}const b=function fs(A){return new jt(new De.t(A.url),new De.t(A.params),new De.t(A.queryParams),new De.t(A.fragment),new De.t(A.data),A.outlet,A.component,A)}(w.value),k=w.children.map(oe=>go(A,oe));return new ke(b,k)}}class Zo{constructor(w,P){this.redirectTo=w,this.navigationBehaviorOptions=P}}const ho="ngNavigationCancelingError";function Jo(A,w){const{redirectTo:P,navigationBehaviorOptions:b}=zr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,k=oa(!1,ei.Redirect);return k.url=P,k.navigationBehaviorOptions=b,k}function oa(A,w){const P=new Error(`NavigationCancelingError: ${A||""}`);return P[ho]=!0,P.cancellationCode=w,P}function Ni(A){return!!A&&A[ho]}class Zi{constructor(w,P,b,k,oe){this.routeReuseStrategy=w,this.futureState=P,this.currState=b,this.forwardEvent=k,this.inputBindingEnabled=oe}activate(w){const P=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,b,w),kr(this.futureState.root),this.activateChildRoutes(P,b,w)}deactivateChildRoutes(w,P,b){const k=it(P);w.children.forEach(oe=>{const ue=oe.value.outlet;this.deactivateRoutes(oe,k[ue],b),delete k[ue]}),Object.values(k).forEach(oe=>{this.deactivateRouteAndItsChildren(oe,b)})}deactivateRoutes(w,P,b){const k=w.value,oe=P?P.value:null;if(k===oe)if(k.component){const ue=b.getContext(k.outlet);ue&&this.deactivateChildRoutes(w,P,ue.children)}else this.deactivateChildRoutes(w,P,b);else oe&&this.deactivateRouteAndItsChildren(P,b)}deactivateRouteAndItsChildren(w,P){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,P):this.deactivateRouteAndOutlet(w,P)}detachAndStoreRouteSubtree(w,P){const b=P.getContext(w.value.outlet),k=b&&w.value.component?b.children:P,oe=it(w);for(const ue of Object.values(oe))this.deactivateRouteAndItsChildren(ue,k);if(b&&b.outlet){const ue=b.outlet.detach(),At=b.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:ue,route:w,contexts:At})}}deactivateRouteAndOutlet(w,P){const b=P.getContext(w.value.outlet),k=b&&w.value.component?b.children:P,oe=it(w);for(const ue of Object.values(oe))this.deactivateRouteAndItsChildren(ue,k);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(w,P,b){const k=it(P);w.children.forEach(oe=>{this.activateRoutes(oe,k[oe.value.outlet],b),this.forwardEvent(new Ia(oe.value.snapshot))}),w.children.length&&this.forwardEvent(new er(w.value.snapshot))}activateRoutes(w,P,b){const k=w.value,oe=P?P.value:null;if(kr(k),k===oe)if(k.component){const ue=b.getOrCreateContext(k.outlet);this.activateChildRoutes(w,P,ue.children)}else this.activateChildRoutes(w,P,b);else if(k.component){const ue=b.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const At=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),ue.children.onOutletReAttached(At.contexts),ue.attachRef=At.componentRef,ue.route=At.route.value,ue.outlet&&ue.outlet.attach(At.componentRef,At.route.value),kr(At.route.value),this.activateChildRoutes(w,null,ue.children)}else ue.attachRef=null,ue.route=k,ue.outlet&&ue.outlet.activateWith(k,ue.injector),this.activateChildRoutes(w,null,ue.children)}else this.activateChildRoutes(w,null,b)}}class Ns{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Rr{constructor(w,P){this.component=w,this.route=P}}function hr(A,w,P){const b=A._root;return vo(b,w?w._root:null,P,[b.value])}function ko(A,w){const P=Symbol(),b=w.get(A,P);return b===P?"function"!=typeof A||(0,d.LfX)(A)?w.get(A):A:b}function vo(A,w,P,b,k={canDeactivateChecks:[],canActivateChecks:[]}){const oe=it(w);return A.children.forEach(ue=>{(function sa(A,w,P,b,k={canDeactivateChecks:[],canActivateChecks:[]}){const oe=A.value,ue=w?w.value:null,At=P?P.getContext(A.value.outlet):null;if(ue&&oe.routeConfig===ue.routeConfig){const Yt=function gs(A,w,P){if("function"==typeof P)return P(A,w);switch(P){case"pathParamsChange":return!_n(A.url,w.url);case"pathParamsOrQueryParamsChange":return!_n(A.url,w.url)||!Ft(A.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wr(A,w)||!Ft(A.queryParams,w.queryParams);default:return!Wr(A,w)}}(ue,oe,oe.routeConfig.runGuardsAndResolvers);Yt?k.canActivateChecks.push(new Ns(b)):(oe.data=ue.data,oe._resolvedData=ue._resolvedData),vo(A,w,oe.component?At?At.children:null:P,b,k),Yt&&At&&At.outlet&&At.outlet.isActivated&&k.canDeactivateChecks.push(new Rr(At.outlet.component,ue))}else ue&&qn(w,At,k),k.canActivateChecks.push(new Ns(b)),vo(A,null,oe.component?At?At.children:null:P,b,k)})(ue,oe[ue.value.outlet],P,b.concat([ue.value]),k),delete oe[ue.value.outlet]}),Object.entries(oe).forEach(([ue,At])=>qn(At,P.getContext(ue),k)),k}function qn(A,w,P){const b=it(A),k=A.value;Object.entries(b).forEach(([oe,ue])=>{qn(ue,k.component?w?w.children.getContext(oe):null:w,P)}),P.canDeactivateChecks.push(new Rr(k.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,k))}function Ar(A){return"function"==typeof A}function aa(A){return A instanceof Ke.G||"EmptyError"===(null==A?void 0:A.name)}const Kr=Symbol("INITIAL_VALUE");function ms(){return(0,rt.n)(A=>(0,Be.z)(A.map(w=>w.pipe((0,Ye.s)(1),(0,bt.Z)(Kr)))).pipe((0,Re.T)(w=>{for(const P of w)if(!0!==P){if(P===Kr)return Kr;if(!1===P||cl(P))return P}return!0}),(0,He.p)(w=>w!==Kr),(0,Ye.s)(1)))}function cl(A){return zr(A)||A instanceof Zo}function rn(A){return(0,ze.F)((0,cn.M)(w=>{if("boolean"!=typeof w)throw Jo(0,w)}),(0,Re.T)(w=>!0===w))}class ai{constructor(w){this.segmentGroup=w||null}}class Ii extends Error{constructor(w){super(),this.urlTree=w}}function Hi(A){return $e(new ai(A))}class Ta{constructor(w,P){this.urlSerializer=w,this.urlTree=P}lineralizeSegments(w,P){let b=[],k=P.root;for(;;){if(b=b.concat(k.segments),0===k.numberOfChildren)return(0,de.of)(b);if(k.numberOfChildren>1||!k.children[Mt])return $e(new d.wOt(4e3,!1));k=k.children[Mt]}}applyRedirectCommands(w,P,b,k,oe){if("string"!=typeof P){const At=P,{queryParams:Yt,fragment:Dt,routeConfig:bn,url:fr,outlet:si,params:Cr,data:hi,title:so}=k,Ro=(0,d.N4e)(oe,()=>At({params:Cr,data:hi,queryParams:Yt,fragment:Dt,routeConfig:bn,url:fr,outlet:si,title:so}));if(Ro instanceof Gn)throw new Ii(Ro);P=Ro}const ue=this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),w,b);if("/"===P[0])throw new Ii(ue);return ue}applyRedirectCreateUrlTree(w,P,b,k){const oe=this.createSegmentGroup(w,P.root,b,k);return new Gn(oe,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(w,P){const b={};return Object.entries(w).forEach(([k,oe])=>{if("string"==typeof oe&&":"===oe[0]){const At=oe.substring(1);b[k]=P[At]}else b[k]=oe}),b}createSegmentGroup(w,P,b,k){const oe=this.createSegments(w,P.segments,b,k);let ue={};return Object.entries(P.children).forEach(([At,Yt])=>{ue[At]=this.createSegmentGroup(w,Yt,b,k)}),new nr(oe,ue)}createSegments(w,P,b,k){return P.map(oe=>":"===oe.path[0]?this.findPosParam(w,oe,k):this.findOrReturn(oe,b))}findPosParam(w,P,b){const k=b[P.path.substring(1)];if(!k)throw new d.wOt(4001,!1);return k}findOrReturn(w,P){let b=0;for(const k of P){if(k.path===w.path)return P.splice(b),k;b++}return w}}const Bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vr(A,w,P,b,k){const oe=jr(A,w,P);return oe.matched?(b=function ao(A,w){var P;return A.providers&&!A._injector&&(A._injector=(0,d.Ol2)(A.providers,w,`Route: ${A.path}`)),null!==(P=A._injector)&&void 0!==P?P:w}(w,b),function Xn(A,w,P,b){const k=w.canMatch;if(!k||0===k.length)return(0,de.of)(!0);const oe=k.map(ue=>{const At=ko(ue,A);return Me(function ja(A){return A&&Ar(A.canMatch)}(At)?At.canMatch(w,P):(0,d.N4e)(A,()=>At(w,P)))});return(0,de.of)(oe).pipe(ms(),rn())}(b,w,P).pipe((0,Re.T)(ue=>!0===ue?oe:{...Bs}))):(0,de.of)(oe)}function jr(A,w,P){var b,k;if("**"===w.path)return function ki(A){return{matched:!0,parameters:A.length>0?qt(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(P);if(""===w.path)return"full"===w.pathMatch&&(A.hasChildren()||P.length>0)?{...Bs}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const ue=(w.matcher||Cn)(P,A,w);if(!ue)return{...Bs};const At={};Object.entries(null!==(b=ue.posParams)&&void 0!==b?b:{}).forEach(([Dt,bn])=>{At[Dt]=bn.path});const Yt=ue.consumed.length>0?{...At,...ue.consumed[ue.consumed.length-1].parameters}:At;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:P.slice(ue.consumed.length),parameters:Yt,positionalParamSegments:null!==(k=ue.posParams)&&void 0!==k?k:{}}}function To(A,w,P,b){return P.length>0&&function ua(A,w,P){return P.some(b=>Os(A,w,b)&&Vr(b)!==Mt)}(A,P,b)?{segmentGroup:new nr(w,la(b,new nr(P,A.children))),slicedSegments:[]}:0===P.length&&function Vo(A,w,P){return P.some(b=>Os(A,w,b))}(A,P,b)?{segmentGroup:new nr(A.segments,zi(A,P,b,A.children)),slicedSegments:P}:{segmentGroup:new nr(A.segments,A.children),slicedSegments:P}}function zi(A,w,P,b){const k={};for(const oe of P)if(Os(A,w,oe)&&!b[Vr(oe)]){const ue=new nr([],{});k[Vr(oe)]=ue}return{...b,...k}}function la(A,w){const P={};P[Mt]=w;for(const b of A)if(""===b.path&&Vr(b)!==Mt){const k=new nr([],{});P[Vr(b)]=k}return P}function Os(A,w,P){return(!(A.hasChildren()||w.length>0)||"full"!==P.pathMatch)&&""===P.path}class fl{}class ns{constructor(w,P,b,k,oe,ue,At){this.injector=w,this.configLoader=P,this.rootComponentType=b,this.config=k,this.urlTree=oe,this.paramsInheritanceStrategy=ue,this.urlSerializer=At,this.applyRedirects=new Ta(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new d.wOt(4002,`'${w.segmentGroup}'`)}recognize(){const w=To(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,Re.T)(({children:P,rootSnapshot:b})=>{const k=new ke(b,P),oe=new In("",k),ue=function Br(A,w,P=null,b=null){return ri(Pn(A),w,P,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return ue.queryParams=this.urlTree.queryParams,oe.url=this.urlSerializer.serialize(ue),{state:oe,tree:ue}}))}match(w){const P=new dn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Mt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,w,Mt,P).pipe((0,Re.T)(b=>({children:b,rootSnapshot:P})),Jt(b=>{if(b instanceof Ii)return this.urlTree=b.urlTree,this.match(b.urlTree.root);throw b instanceof ai?this.noMatchError(b):b}))}processSegmentGroup(w,P,b,k,oe){return 0===b.segments.length&&b.hasChildren()?this.processChildren(w,P,b,oe):this.processSegment(w,P,b,b.segments,k,!0,oe).pipe((0,Re.T)(ue=>ue instanceof ke?[ue]:[]))}processChildren(w,P,b,k){const oe=[];for(const ue of Object.keys(b.children))"primary"===ue?oe.unshift(ue):oe.push(ue);return(0,ae.H)(oe).pipe(zt(ue=>{const At=b.children[ue],Yt=function R(A,w){const P=A.filter(b=>Vr(b)===w);return P.push(...A.filter(b=>Vr(b)!==w)),P}(P,ue);return this.processSegmentGroup(w,Yt,At,ue,k)}),(0,wn.S)((ue,At)=>(ue.push(...At),ue)),(0,kt.U)(null),function Y(A,w){const P=arguments.length>=2;return b=>b.pipe(A?(0,He.p)((k,oe)=>A(k,oe,b)):_e.D,Te(1),P?(0,kt.U)(w):(0,Ie.v)(()=>new Ke.G))}(),(0,Pe.Z)(ue=>{if(null===ue)return Hi(b);const At=ca(ue);return function Bl(A){A.sort((w,P)=>w.value.outlet===Mt?-1:P.value.outlet===Mt?1:w.value.outlet.localeCompare(P.value.outlet))}(At),(0,de.of)(At)}))}processSegment(w,P,b,k,oe,ue,At){return(0,ae.H)(P).pipe(zt(Yt=>{var Dt;return this.processSegmentAgainstRoute(null!==(Dt=Yt._injector)&&void 0!==Dt?Dt:w,P,Yt,b,k,oe,ue,At).pipe(Jt(bn=>{if(bn instanceof ai)return(0,de.of)(null);throw bn}))}),(0,Lt.$)(Yt=>!!Yt),Jt(Yt=>{if(aa(Yt))return function Da(A,w,P){return 0===w.length&&!A.children[P]}(b,k,oe)?(0,de.of)(new fl):Hi(b);throw Yt}))}processSegmentAgainstRoute(w,P,b,k,oe,ue,At,Yt){return Vr(b)===ue||ue!==Mt&&Os(k,oe,b)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(w,k,b,oe,ue,Yt):this.allowRedirects&&At?this.expandSegmentAgainstRouteUsingRedirect(w,k,P,b,oe,ue,Yt):Hi(k):Hi(k)}expandSegmentAgainstRouteUsingRedirect(w,P,b,k,oe,ue,At){var Yt,Dt;const{matched:bn,parameters:fr,consumedSegments:si,positionalParamSegments:Cr,remainingSegments:hi}=jr(P,k,oe);if(!bn)return Hi(P);"string"==typeof k.redirectTo&&"/"===k.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const so=new dn(oe,fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ha(k),Vr(k),null!==(Yt=null!==(Dt=k.component)&&void 0!==Dt?Dt:k._loadedComponent)&&void 0!==Yt?Yt:null,k,Do(k)),Ro=Zt(so,At,this.paramsInheritanceStrategy);so.params=Object.freeze(Ro.params),so.data=Object.freeze(Ro.data);const da=this.applyRedirects.applyRedirectCommands(si,k.redirectTo,Cr,so,w);return this.applyRedirects.lineralizeSegments(k,da).pipe((0,Pe.Z)(jo=>this.processSegment(w,b,P,jo.concat(hi),ue,!1,At)))}matchSegmentAgainstRoute(w,P,b,k,oe,ue){const At=vr(P,b,k,w);return"**"===b.path&&(P.children={}),At.pipe((0,rt.n)(Yt=>{var Dt;return Yt.matched?(w=null!==(Dt=b._injector)&&void 0!==Dt?Dt:w,this.getChildConfig(w,b,k).pipe((0,rt.n)(({routes:bn})=>{var fr,si,Cr;const hi=null!==(fr=b._loadedInjector)&&void 0!==fr?fr:w,{parameters:so,consumedSegments:Ro,remainingSegments:da}=Yt,jo=new dn(Ro,so,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ha(b),Vr(b),null!==(si=null!==(Cr=b.component)&&void 0!==Cr?Cr:b._loadedComponent)&&void 0!==si?si:null,b,Do(b)),Ho=Zt(jo,ue,this.paramsInheritanceStrategy);jo.params=Object.freeze(Ho.params),jo.data=Object.freeze(Ho.data);const{segmentGroup:Eu,slicedSegments:Al}=To(P,Ro,da,bn);if(0===Al.length&&Eu.hasChildren())return this.processChildren(hi,bn,Eu,jo).pipe((0,Re.T)(ha=>new ke(jo,ha)));if(0===bn.length&&0===Al.length)return(0,de.of)(new ke(jo,[]));const gc=Vr(b)===oe;return this.processSegment(hi,bn,Eu,Al,gc?Mt:oe,!0,jo).pipe((0,Re.T)(ha=>new ke(jo,ha instanceof ke?[ha]:[])))}))):Hi(P)}))}getChildConfig(w,P,b){return P.children?(0,de.of)({routes:P.children,injector:w}):P.loadChildren?void 0!==P._loadedRoutes?(0,de.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function fe(A,w,P,b){const k=w.canLoad;if(void 0===k||0===k.length)return(0,de.of)(!0);const oe=k.map(ue=>{const At=ko(ue,A);return Me(function Ls(A){return A&&Ar(A.canLoad)}(At)?At.canLoad(w,P):(0,d.N4e)(A,()=>At(w,P)))});return(0,de.of)(oe).pipe(ms(),rn())}(w,P,b).pipe((0,Pe.Z)(k=>k?this.configLoader.loadChildren(w,P).pipe((0,cn.M)(oe=>{P._loadedRoutes=oe.routes,P._loadedInjector=oe.injector})):function Fo(){return $e(oa(!1,ei.GuardRejected))}())):(0,de.of)({routes:[],injector:w})}}function Lo(A){const w=A.value.routeConfig;return w&&""===w.path}function ca(A){const w=[],P=new Set;for(const b of A){if(!Lo(b)){w.push(b);continue}const k=w.find(oe=>b.value.routeConfig===oe.value.routeConfig);void 0!==k?(k.children.push(...b.children),P.add(k)):w.push(b)}for(const b of P){const k=ca(b.children);w.push(new ke(b.value,k))}return w.filter(b=>!P.has(b))}function Ha(A){return A.data||{}}function Do(A){return A.resolve||{}}function vu(A){const w=A.children.map(P=>vu(P)).flat();return[A,...w]}function ba(A){return(0,rt.n)(w=>{const P=A(w);return P?(0,ae.H)(P).pipe((0,Re.T)(()=>w)):(0,de.of)(w)})}let $s=(()=>{var A;class w{buildTitle(b){let k,oe=b.root;for(;void 0!==oe;){var ue;k=null!==(ue=this.getResolvedTitleForRoute(oe))&&void 0!==ue?ue:k,oe=oe.children.find(At=>At.outlet===Mt)}return k}getResolvedTitleForRoute(b){return b.data[En]}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:()=>(0,d.WQX)(Bo),providedIn:"root"}),w})(),Bo=(()=>{var A;class w extends $s{constructor(b){super(),this.title=b}updateTitle(b){const k=this.buildTitle(b);void 0!==k&&this.title.setTitle(k)}}return(A=w).\u0275fac=function(b){return new(b||A)(d.KVO(ot.hE))},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})();const bo=new d.nKC("",{providedIn:"root",factory:()=>({})});let wa=(()=>{var A;class w{}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275cmp=d.VBU({type:A,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(b,k){1&b&&d.nrm(0,"router-outlet")},dependencies:[$r],encapsulation:2}),w})();function gl(A){const w=A.children&&A.children.map(gl),P=w?{...A,children:w}:{...A};return!P.component&&!P.loadComponent&&(w||P.loadChildren)&&P.outlet&&P.outlet!==Mt&&(P.component=wa),P}const Ga=new d.nKC("");let ml=(()=>{var A;class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,de.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const k=Me(b.loadComponent()).pipe((0,Re.T)(yu),(0,cn.M)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=ue}),Xe(()=>{this.componentLoaders.delete(b)})),oe=new ht(k,()=>new pe.B).pipe(vt());return this.componentLoaders.set(b,oe),oe}loadChildren(b,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,de.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ue=function rs(A,w,P,b){return Me(A.loadChildren()).pipe((0,Re.T)(yu),(0,Pe.Z)(k=>k instanceof d.Co$||Array.isArray(k)?(0,de.of)(k):(0,ae.H)(w.compileModuleAsync(k))),(0,Re.T)(k=>{b&&b(A);let oe,ue,At=!1;return Array.isArray(k)?(ue=k,!0):(oe=k.create(P).injector,ue=oe.get(Ga,[],{optional:!0,self:!0}).flat()),{routes:ue.map(gl),injector:oe}}))}(k,this.compiler,b,this.onLoadEndListener).pipe(Xe(()=>{this.childrenLoaders.delete(k)})),At=new ht(ue,()=>new pe.B).pipe(vt());return this.childrenLoaders.set(k,At),At}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})();function yu(A){return function is(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let fo=(()=>{var A;class w{}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:()=>(0,d.WQX)(js),providedIn:"root"}),w})(),js=(()=>{var A;class w{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,k){return b}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})();const Sa=new d.nKC(""),jl=new d.nKC("");function D(A,w,P){const b=A.get(jl),k=A.get(ve.qQ);return A.get(d.SKi).runOutsideAngular(()=>{if(!k.startViewTransition||b.skipNextTransition)return b.skipNextTransition=!1,new Promise(Dt=>setTimeout(Dt));let oe;const ue=new Promise(Dt=>{oe=Dt}),At=k.startViewTransition(()=>(oe(),function B(A){return new Promise(w=>{(0,d.mal)({read:()=>setTimeout(w)},{injector:A})})}(A))),{onViewTransitionCreated:Yt}=b;return Yt&&(0,d.N4e)(A,()=>Yt({transition:At,from:w,to:P})),ue})}const be=new d.nKC("");let U=(()=>{var A;class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe.B,this.transitionAbortSubject=new pe.B,this.configLoader=(0,d.WQX)(ml),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Yn),this.rootContexts=(0,d.WQX)(x),this.location=(0,d.WQX)(ve.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(Ci,{optional:!0}),this.titleStrategy=(0,d.WQX)($s),this.options=(0,d.WQX)(bo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(fo),this.createViewTransition=(0,d.WQX)(Sa,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(be,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,de.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=oe=>this.events.next(new pi(oe)),this.configLoader.onLoadStartListener=oe=>this.events.next(new Pi(oe))}complete(){var b;null===(b=this.transitions)||void 0===b||b.complete()}handleNavigationRequest(b){var k;const oe=++this.navigationId;null===(k=this.transitions)||void 0===k||k.next({...this.transitions.value,...b,id:oe})}setupNavigations(b,k,oe){return this.transitions=new De.t({id:0,currentUrlTree:k,currentRawUrl:k,extractedUrl:this.urlHandlingStrategy.extract(k),urlAfterRedirects:this.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Jr,restoredState:null,currentSnapshot:oe.snapshot,targetSnapshot:null,currentRouterState:oe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,He.p)(ue=>0!==ue.id),(0,Re.T)(ue=>({...ue,extractedUrl:this.urlHandlingStrategy.extract(ue.rawUrl)})),(0,rt.n)(ue=>{let At=!1,Yt=!1;return(0,de.of)(ue).pipe((0,rt.n)(Dt=>{var bn;if(this.navigationId>ue.id)return this.cancelNavigationTransition(ue,"",ei.SupersededByNewNavigation),Je.w;this.currentTransition=ue,this.currentNavigation={id:Dt.id,initialUrl:Dt.rawUrl,extractedUrl:Dt.extractedUrl,targetBrowserUrl:"string"==typeof Dt.extras.browserUrl?this.urlSerializer.parse(Dt.extras.browserUrl):Dt.extras.browserUrl,trigger:Dt.source,extras:Dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const fr=!b.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),si=null!==(bn=Dt.extras.onSameUrlNavigation)&&void 0!==bn?bn:b.onSameUrlNavigation;if(!fr&&"reload"!==si){const Cr="";return this.events.next(new Qi(Dt.id,this.urlSerializer.serialize(Dt.rawUrl),Cr,co.IgnoredSameUrlNavigation)),Dt.resolve(!1),Je.w}if(this.urlHandlingStrategy.shouldProcessUrl(Dt.rawUrl))return(0,de.of)(Dt).pipe((0,rt.n)(Cr=>{var hi,so;const Ro=null===(hi=this.transitions)||void 0===hi?void 0:hi.getValue();return this.events.next(new _i(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),Cr.source,Cr.restoredState)),Ro!==(null===(so=this.transitions)||void 0===so?void 0:so.getValue())?Je.w:Promise.resolve(Cr)}),function $l(A,w,P,b,k,oe){return(0,Pe.Z)(ue=>function Ul(A,w,P,b,k,oe,ue="emptyOnly"){return new ns(A,w,P,b,k,ue,oe).recognize()}(A,w,P,b,ue.extractedUrl,k,oe).pipe((0,Re.T)(({state:At,tree:Yt})=>({...ue,targetSnapshot:At,urlAfterRedirects:Yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,cn.M)(Cr=>{ue.targetSnapshot=Cr.targetSnapshot,ue.urlAfterRedirects=Cr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Cr.urlAfterRedirects};const hi=new Xo(Cr.id,this.urlSerializer.serialize(Cr.extractedUrl),this.urlSerializer.serialize(Cr.urlAfterRedirects),Cr.targetSnapshot);this.events.next(hi)}));if(fr&&this.urlHandlingStrategy.shouldProcessUrl(Dt.currentRawUrl)){const{id:Cr,extractedUrl:hi,source:so,restoredState:Ro,extras:da}=Dt,jo=new _i(Cr,this.urlSerializer.serialize(hi),so,Ro);this.events.next(jo);const Ho=Ht(this.rootComponentType).snapshot;return this.currentTransition=ue={...Dt,targetSnapshot:Ho,urlAfterRedirects:hi,extras:{...da,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=hi,(0,de.of)(ue)}{const Cr="";return this.events.next(new Qi(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),Cr,co.IgnoredByUrlHandlingStrategy)),Dt.resolve(!1),Je.w}}),(0,cn.M)(Dt=>{const bn=new ro(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(bn)}),(0,Re.T)(Dt=>(this.currentTransition=ue={...Dt,guards:hr(Dt.targetSnapshot,Dt.currentSnapshot,this.rootContexts)},ue)),function Ll(A,w){return(0,Pe.Z)(P=>{const{targetSnapshot:b,currentSnapshot:k,guards:{canActivateChecks:oe,canDeactivateChecks:ue}}=P;return 0===ue.length&&0===oe.length?(0,de.of)({...P,guardsResult:!0}):function Co(A,w,P,b){return(0,ae.H)(A).pipe((0,Pe.Z)(k=>function $(A,w,P,b,k){const oe=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,de.of)(!0);const ue=oe.map(At=>{var Yt;const Dt=null!==(Yt=X(w))&&void 0!==Yt?Yt:k,bn=ko(At,Dt);return Me(function xs(A){return A&&Ar(A.canDeactivate)}(bn)?bn.canDeactivate(A,w,P,b):(0,d.N4e)(Dt,()=>bn(A,w,P,b))).pipe((0,Lt.$)())});return(0,de.of)(ue).pipe(ms())}(k.component,k.route,P,w,b)),(0,Lt.$)(k=>!0!==k,!0))}(ue,b,k,A).pipe((0,Pe.Z)(At=>At&&function Aa(A){return"boolean"==typeof A}(At)?function dl(A,w,P,b){return(0,ae.H)(w).pipe(zt(k=>(0,Ce.x)(function H(A,w){return null!==A&&w&&w(new hs(A)),(0,de.of)(!0)}(k.route.parent,b),function hl(A,w){return null!==A&&w&&w(new wr(A)),(0,de.of)(!0)}(k.route,b),function J(A,w,P){const b=w[w.length-1],oe=w.slice(0,w.length-1).reverse().map(ue=>function mo(A){const w=A.routeConfig?A.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:A,guards:w}:null}(ue)).filter(ue=>null!==ue).map(ue=>Ve(()=>{const At=ue.guards.map(Yt=>{var Dt;const bn=null!==(Dt=X(ue.node))&&void 0!==Dt?Dt:P,fr=ko(Yt,bn);return Me(function Ca(A){return A&&Ar(A.canActivateChild)}(fr)?fr.canActivateChild(b,A):(0,d.N4e)(bn,()=>fr(b,A))).pipe((0,Lt.$)())});return(0,de.of)(At).pipe(ms())}));return(0,de.of)(oe).pipe(ms())}(A,k.path,P),function M(A,w,P){const b=w.routeConfig?w.routeConfig.canActivate:null;if(!b||0===b.length)return(0,de.of)(!0);const k=b.map(oe=>Ve(()=>{var ue;const At=null!==(ue=X(w))&&void 0!==ue?ue:P,Yt=ko(oe,At);return Me(function Us(A){return A&&Ar(A.canActivate)}(Yt)?Yt.canActivate(w,A):(0,d.N4e)(At,()=>Yt(w,A))).pipe((0,Lt.$)())}));return(0,de.of)(k).pipe(ms())}(A,k.route,P))),(0,Lt.$)(k=>!0!==k,!0))}(b,oe,A,w):(0,de.of)(At)),(0,Re.T)(At=>({...P,guardsResult:At})))})}(this.environmentInjector,Dt=>this.events.next(Dt)),(0,cn.M)(Dt=>{if(ue.guardsResult=Dt.guardsResult,Dt.guardsResult&&"boolean"!=typeof Dt.guardsResult)throw Jo(0,Dt.guardsResult);const bn=new Eo(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot,!!Dt.guardsResult);this.events.next(bn)}),(0,He.p)(Dt=>!!Dt.guardsResult||(this.cancelNavigationTransition(Dt,"",ei.GuardRejected),!1)),ba(Dt=>{if(Dt.guards.canActivateChecks.length)return(0,de.of)(Dt).pipe((0,cn.M)(bn=>{const fr=new Ao(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(fr)}),(0,rt.n)(bn=>{let fr=!1;return(0,de.of)(bn).pipe(function Uo(A,w){return(0,Pe.Z)(P=>{const{targetSnapshot:b,guards:{canActivateChecks:k}}=P;if(!k.length)return(0,de.of)(P);const oe=new Set(k.map(Yt=>Yt.route)),ue=new Set;for(const Yt of oe)if(!ue.has(Yt))for(const Dt of vu(Yt))ue.add(Dt);let At=0;return(0,ae.H)(ue).pipe(zt(Yt=>oe.has(Yt)?function za(A,w,P,b){const k=A.routeConfig,oe=A._resolve;return void 0!==(null==k?void 0:k.title)&&!ti(k)&&(oe[En]=k.title),function yr(A,w,P,b){const k=Kt(A);if(0===k.length)return(0,de.of)({});const oe={};return(0,ae.H)(k).pipe((0,Pe.Z)(ue=>function _u(A,w,P,b){var k;const oe=null!==(k=X(w))&&void 0!==k?k:b,ue=ko(A,oe);return Me(ue.resolve?ue.resolve(w,P):(0,d.N4e)(oe,()=>ue(w,P)))}(A[ue],w,P,b).pipe((0,Lt.$)(),(0,cn.M)(At=>{if(At instanceof Zo)throw Jo(new ar,At);oe[ue]=At}))),Te(1),function Ae(A){return(0,Re.T)(()=>A)}(oe),Jt(ue=>aa(ue)?Je.w:$e(ue)))}(oe,A,w,b).pipe((0,Re.T)(ue=>(A._resolvedData=ue,A.data=Zt(A,A.parent,P).resolve,null)))}(Yt,b,A,w):(Yt.data=Zt(Yt,Yt.parent,A).resolve,(0,de.of)(void 0))),(0,cn.M)(()=>At++),Te(1),(0,Pe.Z)(Yt=>At===ue.size?(0,de.of)(P):Je.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,cn.M)({next:()=>fr=!0,complete:()=>{fr||this.cancelNavigationTransition(bn,"",ei.NoDataFromResolver)}}))}),(0,cn.M)(bn=>{const fr=new Rs(bn.id,this.urlSerializer.serialize(bn.extractedUrl),this.urlSerializer.serialize(bn.urlAfterRedirects),bn.targetSnapshot);this.events.next(fr)}))}),ba(Dt=>{const bn=fr=>{var si;const Cr=[];null!==(si=fr.routeConfig)&&void 0!==si&&si.loadComponent&&!fr.routeConfig._loadedComponent&&Cr.push(this.configLoader.loadComponent(fr.routeConfig).pipe((0,cn.M)(hi=>{fr.component=hi}),(0,Re.T)(()=>{})));for(const hi of fr.children)Cr.push(...bn(hi));return Cr};return(0,Be.z)(bn(Dt.targetSnapshot.root)).pipe((0,kt.U)(null),(0,Ye.s)(1))}),ba(()=>this.afterPreactivation()),(0,rt.n)(()=>{var Dt;const{currentSnapshot:bn,targetSnapshot:fr}=ue,si=null===(Dt=this.createViewTransition)||void 0===Dt?void 0:Dt.call(this,this.environmentInjector,bn.root,fr.root);return si?(0,ae.H)(si).pipe((0,Re.T)(()=>ue)):(0,de.of)(ue)}),(0,Re.T)(Dt=>{const bn=function Oi(A,w,P){const b=go(A,w._root,P?P._root:void 0);return new nt(b,w)}(b.routeReuseStrategy,Dt.targetSnapshot,Dt.currentRouterState);return this.currentTransition=ue={...Dt,targetRouterState:bn},this.currentNavigation.targetRouterState=bn,ue}),(0,cn.M)(()=>{this.events.next(new Qo)}),((A,w,P,b)=>(0,Re.T)(k=>(new Zi(w,k.targetRouterState,k.currentRouterState,P,b).activate(A),k)))(this.rootContexts,b.routeReuseStrategy,Dt=>this.events.next(Dt),this.inputBindingEnabled),(0,Ye.s)(1),(0,cn.M)({next:Dt=>{var bn;At=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xi(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects))),null===(bn=this.titleStrategy)||void 0===bn||bn.updateTitle(Dt.targetRouterState.snapshot),Dt.resolve(!0)},complete:()=>{At=!0}}),function Ne(A){return(0,et.N)((w,P)=>{(0,ce.Tg)(A).subscribe((0,je._)(P,()=>P.complete(),Ue.l)),!P.closed&&w.subscribe(P)})}(this.transitionAbortSubject.pipe((0,cn.M)(Dt=>{throw Dt}))),Xe(()=>{var Dt;!At&&!Yt&&this.cancelNavigationTransition(ue,"",ei.SupersededByNewNavigation),(null===(Dt=this.currentTransition)||void 0===Dt?void 0:Dt.id)===ue.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jt(Dt=>{if(Yt=!0,Ni(Dt))this.events.next(new Mi(ue.id,this.urlSerializer.serialize(ue.extractedUrl),Dt.message,Dt.cancellationCode)),function es(A){return Ni(A)&&zr(A.url)}(Dt)?this.events.next(new oi(Dt.url,Dt.navigationBehaviorOptions)):ue.resolve(!1);else{var bn;const fr=new xo(ue.id,this.urlSerializer.serialize(ue.extractedUrl),Dt,null!==(bn=ue.targetSnapshot)&&void 0!==bn?bn:void 0);try{const si=(0,d.N4e)(this.environmentInjector,()=>{var Cr;return null===(Cr=this.navigationErrorHandler)||void 0===Cr?void 0:Cr.call(this,fr)});if(si instanceof Zo){const{message:Cr,cancellationCode:hi}=Jo(0,si);this.events.next(new Mi(ue.id,this.urlSerializer.serialize(ue.extractedUrl),Cr,hi)),this.events.next(new oi(si.redirectTo,si.navigationBehaviorOptions))}else{this.events.next(fr);const Cr=b.errorHandler(Dt);ue.resolve(!!Cr)}}catch(si){this.options.resolveNavigationPromiseOnError?ue.resolve(!1):ue.reject(si)}}return Je.w}))}))}cancelNavigationTransition(b,k,oe){const ue=new Mi(b.id,this.urlSerializer.serialize(b.extractedUrl),k,oe);this.events.next(ue),b.resolve(!1)}isUpdatingInternalState(){var b,k;return(null===(b=this.currentTransition)||void 0===b?void 0:b.extractedUrl.toString())!==(null===(k=this.currentTransition)||void 0===k?void 0:k.currentUrlTree.toString())}isUpdatedBrowserUrl(){var b,k,oe,ue;const At=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Yt=null!==(b=null===(k=this.currentNavigation)||void 0===k?void 0:k.targetBrowserUrl)&&void 0!==b?b:null===(oe=this.currentNavigation)||void 0===oe?void 0:oe.extractedUrl;return At.toString()!==(null==Yt?void 0:Yt.toString())&&!(null!==(ue=this.currentNavigation)&&void 0!==ue&&ue.extras.skipLocationChange)}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})();function ne(A){return A!==Jr}let Fe=(()=>{var A;class w{}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:()=>(0,d.WQX)(ln),providedIn:"root"}),w})();class Ut{shouldDetach(w){return!1}store(w,P){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,P){return w.routeConfig===P.routeConfig}}let ln=(()=>{var A;class w extends Ut{}return(A=w).\u0275fac=(()=>{let P;return function(k){return(P||(P=d.xGo(A)))(k||A)}})(),A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})(),or=(()=>{var A;class w{}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:()=>(0,d.WQX)(Or),providedIn:"root"}),w})(),Or=(()=>{var A;class w extends or{constructor(){super(...arguments),this.location=(0,d.WQX)(ve.aZ),this.urlSerializer=(0,d.WQX)(Yn),this.options=(0,d.WQX)(bo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(fo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ht(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var b,k;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(b=null===(k=this.restoredState())||void 0===k?void 0:k.\u0275routerPageId)&&void 0!==b?b:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(b){return this.location.subscribe(k=>{"popstate"===k.type&&b(k.url,k.state)})}handleRouterEvent(b,k){if(b instanceof _i)this.stateMemento=this.createStateMemento();else if(b instanceof Qi)this.rawUrlTree=k.initialUrl;else if(b instanceof Xo){if("eager"===this.urlUpdateStrategy&&!k.extras.skipLocationChange){var oe;const At=this.urlHandlingStrategy.merge(k.finalUrl,k.initialUrl);this.setBrowserUrl(null!==(oe=k.targetBrowserUrl)&&void 0!==oe?oe:At,k)}}else if(b instanceof Qo){var ue;this.currentUrlTree=k.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(k.finalUrl,k.initialUrl),this.routerState=k.targetRouterState,"deferred"!==this.urlUpdateStrategy||k.extras.skipLocationChange||this.setBrowserUrl(null!==(ue=k.targetBrowserUrl)&&void 0!==ue?ue:this.rawUrlTree,k)}else b instanceof Mi&&(b.code===ei.GuardRejected||b.code===ei.NoDataFromResolver)?this.restoreHistory(k):b instanceof xo?this.restoreHistory(k,!0):b instanceof Xi&&(this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId)}setBrowserUrl(b,k){const oe=b instanceof Gn?this.urlSerializer.serialize(b):b;if(this.location.isCurrentPathEqualTo(oe)||k.extras.replaceUrl){const At={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(oe,"",At)}else{const ue={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(oe,"",ue)}}restoreHistory(b,k=!1){if("computed"===this.canceledNavigationResolution){const ue=this.currentPageId-this.browserPageId;0!==ue?this.location.historyGo(ue):this.currentUrlTree===b.finalUrl&&0===ue&&(this.resetState(b),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){var k;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(k=b.finalUrl)&&void 0!==k?k:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,k){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:k}:{navigationId:b}}}return(A=w).\u0275fac=(()=>{let P;return function(k){return(P||(P=d.xGo(A)))(k||A)}})(),A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})();var Gr=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(Gr||{});function Mr(A,w){A.events.pipe((0,He.p)(P=>P instanceof Xi||P instanceof Mi||P instanceof xo||P instanceof Qi),(0,Re.T)(P=>P instanceof Xi||P instanceof Qi?Gr.COMPLETE:P instanceof Mi&&(P.code===ei.Redirect||P.code===ei.SupersededByNewNavigation)?Gr.REDIRECTING:Gr.FAILED),(0,He.p)(P=>P!==Gr.REDIRECTING),(0,Ye.s)(1)).subscribe(()=>{w()})}function Yr(A){throw A}const Fr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ti={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{var A;class w{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var b,k;this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(or),this.options=(0,d.WQX)(bo,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(U),this.urlSerializer=(0,d.WQX)(Yn),this.location=(0,d.WQX)(ve.aZ),this.urlHandlingStrategy=(0,d.WQX)(fo),this._events=new pe.B,this.errorHandler=this.options.errorHandler||Yr,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Fe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(b=null===(k=(0,d.WQX)(Ga,{optional:!0}))||void 0===k?void 0:k.flat())&&void 0!==b?b:[],this.componentInputBindingEnabled=!!(0,d.WQX)(Ci,{optional:!0}),this.eventsSubscription=new ct.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:oe=>{this.console.warn(oe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(k=>{try{const oe=this.navigationTransitions.currentTransition,ue=this.navigationTransitions.currentNavigation;if(null!==oe&&null!==ue)if(this.stateManager.handleRouterEvent(k,ue),k instanceof Mi&&k.code!==ei.Redirect&&k.code!==ei.SupersededByNewNavigation)this.navigated=!0;else if(k instanceof Xi)this.navigated=!0;else if(k instanceof oi){const At=k.navigationBehaviorOptions,Yt=this.urlHandlingStrategy.merge(k.url,oe.currentRawUrl),Dt={browserUrl:oe.extras.browserUrl,info:oe.extras.info,skipLocationChange:oe.extras.skipLocationChange,replaceUrl:oe.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ne(oe.source),...At};this.scheduleNavigation(Yt,Jr,null,Dt,{resolve:oe.resolve,reject:oe.reject,promise:oe.promise})}(function un(A){return!(A instanceof Qo||A instanceof oi)})(k)&&this._events.next(k)}catch(oe){this.navigationTransitions.transitionAbortSubject.next(oe)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jr,this.stateManager.restoredState())}setUpLocationChangeListener(){var b;null!==(b=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==b||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((k,oe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(k,"popstate",oe)},0)}))}navigateToSyncWithBrowser(b,k,oe){const ue={replaceUrl:!0},At=null!=oe&&oe.navigationId?oe:null;if(oe){const Dt={...oe};delete Dt.navigationId,delete Dt.\u0275routerPageId,0!==Object.keys(Dt).length&&(ue.state=Dt)}const Yt=this.parseUrl(b);this.scheduleNavigation(Yt,k,At,ue)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(gl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,k={}){const{relativeTo:oe,queryParams:ue,fragment:At,queryParamsHandling:Yt,preserveFragment:Dt}=k,bn=Dt?this.currentUrlTree.fragment:At;let si,fr=null;switch(null!=Yt?Yt:this.options.defaultQueryParamsHandling){case"merge":fr={...this.currentUrlTree.queryParams,...ue};break;case"preserve":fr=this.currentUrlTree.queryParams;break;default:fr=ue||null}null!==fr&&(fr=this.removeEmptyProps(fr));try{si=Pn(oe?oe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||"/"!==b[0][0])&&(b=[]),si=this.currentUrlTree.root}return ri(si,b,fr,null!=bn?bn:null)}navigateByUrl(b,k={skipLocationChange:!1}){const oe=zr(b)?b:this.parseUrl(b),ue=this.urlHandlingStrategy.merge(oe,this.rawUrlTree);return this.scheduleNavigation(ue,Jr,null,k)}navigate(b,k={skipLocationChange:!1}){return function Pr(A){for(let w=0;w<A.length;w++)if(null==A[w])throw new d.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,k),k)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){try{return this.urlSerializer.parse(b)}catch{return this.urlSerializer.parse("/")}}isActive(b,k){let oe;if(oe=!0===k?{...Fr}:!1===k?{...Ti}:k,zr(b))return yt(this.currentUrlTree,b,oe);const ue=this.parseUrl(b);return yt(this.currentUrlTree,ue,oe)}removeEmptyProps(b){return Object.entries(b).reduce((k,[oe,ue])=>(null!=ue&&(k[oe]=ue),k),{})}scheduleNavigation(b,k,oe,ue,At){if(this.disposed)return Promise.resolve(!1);let Yt,Dt,bn;At?(Yt=At.resolve,Dt=At.reject,bn=At.promise):bn=new Promise((si,Cr)=>{Yt=si,Dt=Cr});const fr=this.pendingTasks.add();return Mr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(fr))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:oe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:ue,resolve:Yt,reject:Dt,promise:bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bn.catch(si=>Promise.reject(si))}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})(),Bn=(()=>{var A;class w{constructor(b,k,oe,ue,At,Yt){var Dt;this.router=b,this.route=k,this.tabIndexAttribute=oe,this.renderer=ue,this.el=At,this.locationStrategy=Yt,this.href=null,this.onChanges=new pe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const bn=null===(Dt=At.nativeElement.tagName)||void 0===Dt?void 0:Dt.toLowerCase();this.isAnchorElement="a"===bn||"area"===bn,this.isAnchorElement?this.subscription=b.events.subscribe(fr=>{fr instanceof Xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null==b?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=zr(b)||Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0"))}onClick(b,k,oe,ue,At){const Yt=this.urlTree;return!!(null===Yt||this.isAnchorElement&&(0!==b||k||oe||ue||At||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Yt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var b;null===(b=this.subscription)||void 0===b||b.unsubscribe()}updateHref(){var b;const k=this.urlTree;this.href=null!==k&&this.locationStrategy?null===(b=this.locationStrategy)||void 0===b?void 0:b.prepareExternalUrl(this.router.serializeUrl(k)):null;const oe=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",oe)}applyAttributeValue(b,k){const oe=this.renderer,ue=this.el.nativeElement;null!==k?oe.setAttribute(ue,b,k):oe.removeAttribute(ue,b)}get urlTree(){return null===this.routerLinkInput?null:zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(A=w).\u0275fac=function(b){return new(b||A)(d.rXU(yi),d.rXU(jt),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(ve.hb))},A.\u0275dir=d.FsC({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,k){1&b&&d.bIt("click",function(ue){return k.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&b&&d.BMQ("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),w})();class vi{}let eo=(()=>{var A;class w{preload(b,k){return k().pipe(Jt(()=>(0,de.of)(null)))}}return(A=w).\u0275fac=function(b){return new(b||A)},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})(),_r=(()=>{var A;class w{constructor(b,k,oe,ue,At){this.router=b,this.injector=oe,this.preloadingStrategy=ue,this.loader=At}setUpPreloading(){this.subscription=this.router.events.pipe((0,He.p)(b=>b instanceof Xi),zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,k){const oe=[];for(const Dt of k){var ue,At;Dt.providers&&!Dt._injector&&(Dt._injector=(0,d.Ol2)(Dt.providers,b,`Route: ${Dt.path}`));const bn=null!==(ue=Dt._injector)&&void 0!==ue?ue:b,fr=null!==(At=Dt._loadedInjector)&&void 0!==At?At:bn;var Yt;(Dt.loadChildren&&!Dt._loadedRoutes&&void 0===Dt.canLoad||Dt.loadComponent&&!Dt._loadedComponent)&&oe.push(this.preloadConfig(bn,Dt)),(Dt.children||Dt._loadedRoutes)&&oe.push(this.processRoutes(fr,null!==(Yt=Dt.children)&&void 0!==Yt?Yt:Dt._loadedRoutes))}return(0,ae.H)(oe).pipe((0,tt.U)())}preloadConfig(b,k){return this.preloadingStrategy.preload(k,()=>{let oe;oe=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(b,k):(0,de.of)(null);const ue=oe.pipe((0,Pe.Z)(At=>{var Yt;return null===At?(0,de.of)(void 0):(k._loadedRoutes=At.routes,k._loadedInjector=At.injector,this.processRoutes(null!==(Yt=At.injector)&&void 0!==Yt?Yt:b,At.routes))}));if(k.loadComponent&&!k._loadedComponent){const At=this.loader.loadComponent(k);return(0,ae.H)([ue,At]).pipe((0,tt.U)())}return ue})}}return(A=w).\u0275fac=function(b){return new(b||A)(d.KVO(yi),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(vi),d.KVO(ml))},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac,providedIn:"root"}),w})();const tr=new d.nKC("");let vs=(()=>{var A;class w{constructor(b,k,oe,ue,At={}){this.urlSerializer=b,this.transitions=k,this.viewportScroller=oe,this.zone=ue,this.options=At,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},At.scrollPositionRestoration||(At.scrollPositionRestoration="disabled"),At.anchorScrolling||(At.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof _i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Xi?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Qi&&b.code===co.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ms&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ms(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){var b,k;null===(b=this.routerEventsSubscription)||void 0===b||b.unsubscribe(),null===(k=this.scrollEventsSubscription)||void 0===k||k.unsubscribe()}}return(A=w).\u0275fac=function(b){d.QTQ()},A.\u0275prov=d.jDH({token:A,factory:A.\u0275fac}),w})();function _s(A,w){return{\u0275kind:A,\u0275providers:w}}function Vi(){const A=(0,d.WQX)(d.zZn);return w=>{var P,b;const k=A.get(d.o8S);if(w!==k.components[0])return;const oe=A.get(yi),ue=A.get(ks);1===A.get(Ra)&&oe.initialNavigation(),null===(P=A.get(Wn,null,d.$GK.Optional))||void 0===P||P.setUpPreloading(),null===(b=A.get(tr,null,d.$GK.Optional))||void 0===b||b.init(),oe.resetRootComponentType(k.componentTypes[0]),ue.closed||(ue.next(),ue.complete(),ue.unsubscribe())}}const ks=new d.nKC("",{factory:()=>new pe.B}),Ra=new d.nKC("",{providedIn:"root",factory:()=>1}),Wn=new d.nKC("");function Hl(A){return _s(0,[{provide:Wn,useExisting:_r},{provide:vi,useExisting:A}])}function Li(A){return _s(9,[{provide:Sa,useValue:D},{provide:jl,useValue:{skipNextTransition:!(null==A||!A.skipInitialTransition),...A}}])}const Ei=new d.nKC("ROUTER_FORROOT_GUARD"),Ui=[ve.aZ,{provide:Yn,useClass:ar},yi,x,{provide:jt,useFactory:function zs(A){return A.routerState.root},deps:[yi]},ml,[]];let Ma=(()=>{var A;class w{constructor(b){}static forRoot(b,k){return{ngModule:w,providers:[Ui,[],{provide:Ga,multi:!0,useValue:b},{provide:Ei,useFactory:Pa,deps:[[yi,new d.Xx1,new d.kdw]]},{provide:bo,useValue:k||{}},null!=k&&k.useHash?{provide:ve.hb,useClass:ve.fw}:{provide:ve.hb,useClass:ve.Sm},{provide:tr,useFactory:()=>{const A=(0,d.WQX)(ve.Xr),w=(0,d.WQX)(d.SKi),P=(0,d.WQX)(bo),b=(0,d.WQX)(U),k=(0,d.WQX)(Yn);return P.scrollOffset&&A.setOffset(P.scrollOffset),new vs(k,b,A,w,P)}},null!=k&&k.preloadingStrategy?Hl(k.preloadingStrategy).\u0275providers:[],null!=k&&k.initialNavigation?Gl(k):[],null!=k&&k.bindToComponentInputs?_s(8,[Yi,{provide:Ci,useExisting:Yi}]).\u0275providers:[],null!=k&&k.enableViewTransitions?Li().\u0275providers:[],[{provide:El,useFactory:Vi},{provide:d.iLQ,multi:!0,useExisting:El}]]}}static forChild(b){return{ngModule:w,providers:[{provide:Ga,multi:!0,useValue:b}]}}}return(A=w).\u0275fac=function(b){return new(b||A)(d.KVO(Ei,8))},A.\u0275mod=d.$C({type:A}),A.\u0275inj=d.G2t({}),w})();function Pa(A){return"guarded"}function Gl(A){return["disabled"===A.initialNavigation?_s(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const w=(0,d.WQX)(yi);return()=>{w.setUpLocationChangeListener()}}},{provide:Ra,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?_s(2,[{provide:Ra,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:w=>{const P=w.get(ve.hj,Promise.resolve());return()=>P.then(()=>new Promise(b=>{const k=w.get(yi),oe=w.get(ks);Mr(k,()=>{b(!0)}),w.get(U).afterPreactivation=()=>(b(!0),oe.closed?(0,de.of)(void 0):oe),k.initialNavigation()}))}}]).\u0275providers:[]]}const El=new d.nKC("")},3345:(vn,_t,L)=>{"use strict";L.d(_t,{A:()=>Je});var d=L(1076),f=L(1362),Z=L(7852),ee=L(8041);class ae{constructor(et,je){this._delegate=et,this.firebase=je,(0,Z._addComponent)(et,new f.uA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(et,je=Z._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(et);return!ht.isInitialized()&&"EXPLICIT"===(null===(vt=ht.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:je})}_removeServiceInstance(et,je=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(je)}_addComponent(et){(0,Z._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,Z._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function Ke(){const ct=function Be(ct){const et={},je={__esModule:!0,initializeApp:function pe(Ye,bt={}){const He=Z.initializeApp(Ye,bt);if((0,d.gR)(et,He.name))return et[He.name];const Pe=new ct(He,je);return et[He.name]=Pe,Pe},app:ht,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function Re(Ye){const bt=Ye.name,He=bt.replace("-compat","");if(Z._registerComponent(Ye)&&"PUBLIC"===Ye.type){const Pe=(Lt=ht())=>{if("function"!=typeof Lt[He])throw De.create("invalid-app-argument",{appName:bt});return Lt[He]()};void 0!==Ye.serviceProps&&(0,d.zw)(Pe,Ye.serviceProps),je[He]=Pe,ct.prototype[He]=function(...Lt){return this._getService.bind(this,bt).apply(this,Ye.multipleInstances?Lt:[])}}return"PUBLIC"===Ye.type?je[He]:null},removeApp:function vt(Ye){delete et[Ye]},useAsService:function rt(Ye,bt){return"serverAuth"===bt?null:bt},modularAPIs:Z}};function ht(Ye){if(!(0,d.gR)(et,Ye=Ye||Z._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:Ye});return et[Ye]}return je.default=je,Object.defineProperty(je,"apps",{get:function ve(){return Object.keys(et).map(Ye=>et[Ye])}}),ht.App=ct,je}(ae);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function et(je){(0,d.zw)(ct,je)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),ct}(),ce=new ee.Vy("@firebase/app-compat");try{const ct=(0,d.mS)();if(void 0!==ct.firebase){ce.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const et=ct.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&ce.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Je=Ce;!function $e(ct){(0,Z.registerVersion)("@firebase/app-compat","0.2.43",ct)}()},7852:(vn,_t,L)=>{"use strict";L.r(_t),L.d(_t,{FirebaseError:()=>ee.g,SDK_VERSION:()=>nn,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>nr,_addOrOverwriteComponent:()=>br,_apps:()=>Zn,_clearComponents:()=>fn,_components:()=>Gn,_getProvider:()=>_n,_isFirebaseApp:()=>Yn,_isFirebaseServerApp:()=>ar,_registerComponent:()=>Xr,_removeServiceInstance:()=>Ur,_serverApps:()=>Qn,deleteApp:()=>ut,getApp:()=>Ot,getApps:()=>st,initializeApp:()=>Nt,initializeServerApp:()=>ft,onLog:()=>Se,registerVersion:()=>ye,setLogLevel:()=>Qe});var d=L(467),f=L(1362),Z=L(8041),ee=L(1076);const ae=(te,z)=>z.some(he=>te instanceof he);let de,De;const Ce=new WeakMap,ce=new WeakMap,Ve=new WeakMap,ze=new WeakMap,$e=new WeakMap;let et={get(te,z,he){if(te instanceof IDBTransaction){if("done"===z)return ce.get(te);if("objectStoreNames"===z)return te.objectStoreNames||Ve.get(te);if("store"===z)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return pe(te[z])},set:(te,z,he)=>(te[z]=he,!0),has:(te,z)=>te instanceof IDBTransaction&&("done"===z||"store"===z)||z in te};function ht(te){return"function"==typeof te?function vt(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...z){return te.apply(ve(this),z),pe(Ce.get(this))}:function(...z){return pe(te.apply(ve(this),z))}:function(z,...he){const K=te.call(ve(this),z,...he);return Ve.set(K,z.sort?z.sort():[z]),pe(K)}}(te):(te instanceof IDBTransaction&&function ct(te){if(ce.has(te))return;const z=new Promise((he,K)=>{const Q=()=>{te.removeEventListener("complete",me),te.removeEventListener("error",gt),te.removeEventListener("abort",gt)},me=()=>{he(),Q()},gt=()=>{K(te.error||new DOMException("AbortError","AbortError")),Q()};te.addEventListener("complete",me),te.addEventListener("error",gt),te.addEventListener("abort",gt)});ce.set(te,z)}(te),ae(te,function Be(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,et):te)}function pe(te){if(te instanceof IDBRequest)return function Je(te){const z=new Promise((he,K)=>{const Q=()=>{te.removeEventListener("success",me),te.removeEventListener("error",gt)},me=()=>{he(pe(te.result)),Q()},gt=()=>{K(te.error),Q()};te.addEventListener("success",me),te.addEventListener("error",gt)});return z.then(he=>{he instanceof IDBCursor&&Ce.set(he,te)}).catch(()=>{}),$e.set(z,te),z}(te);if(ze.has(te))return ze.get(te);const z=ht(te);return z!==te&&(ze.set(te,z),$e.set(z,te)),z}const ve=te=>$e.get(te),Ye=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],He=new Map;function Pe(te,z){if(!(te instanceof IDBDatabase)||z in te||"string"!=typeof z)return;if(He.get(z))return He.get(z);const he=z.replace(/FromIndex$/,""),K=z!==he,Q=bt.includes(he);if(!(he in(K?IDBIndex:IDBObjectStore).prototype)||!Q&&!Ye.includes(he))return;const me=function(){var gt=(0,d.A)(function*($t,...tn){const Un=this.transaction($t,Q?"readwrite":"readonly");let Sn=Un.store;return K&&(Sn=Sn.index(tn.shift())),(yield Promise.all([Sn[he](...tn),Q&&Un.done]))[0]});return function(tn){return gt.apply(this,arguments)}}();return He.set(z,me),me}!function je(te){et=te(et)}(te=>({...te,get:(z,he,K)=>Pe(z,he)||te.get(z,he,K),has:(z,he)=>!!Pe(z,he)||te.has(z,he)}));class Lt{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(he=>{if(function zt(te){const z=te.getComponent();return"VERSION"===(null==z?void 0:z.type)}(he)){const K=he.getImmediate();return`${K.library}/${K.version}`}return null}).filter(he=>he).join(" ")}}const cn="@firebase/app",Jt="0.10.13",wn=new Z.Vy("@firebase/app"),kt="@firebase/app-compat",Te="@firebase/analytics-compat",Ie="@firebase/analytics",_e="@firebase/app-check-compat",Y="@firebase/app-check",Ae="@firebase/auth",Xe="@firebase/auth-compat",Ue="@firebase/database",Ne="@firebase/data-connect",tt="@firebase/database-compat",ot="@firebase/functions",Mt="@firebase/functions-compat",En="@firebase/installations",lt="@firebase/installations-compat",an="@firebase/messaging",Cn="@firebase/messaging-compat",kn="@firebase/performance",Ft="@firebase/performance-compat",Kt="@firebase/remote-config",Nn="@firebase/remote-config-compat",qt="@firebase/storage",Me="@firebase/storage-compat",Oe="@firebase/firestore",Pt="@firebase/vertexai-preview",yt="@firebase/firestore-compat",jn="firebase",Tn="[DEFAULT]",gn={[cn]:"fire-core",[kt]:"fire-core-compat",[Ie]:"fire-analytics",[Te]:"fire-analytics-compat",[Y]:"fire-app-check",[_e]:"fire-app-check-compat",[Ae]:"fire-auth",[Xe]:"fire-auth-compat",[Ue]:"fire-rtdb",[Ne]:"fire-data-connect",[tt]:"fire-rtdb-compat",[ot]:"fire-fn",[Mt]:"fire-fn-compat",[En]:"fire-iid",[lt]:"fire-iid-compat",[an]:"fire-fcm",[Cn]:"fire-fcm-compat",[kn]:"fire-perf",[Ft]:"fire-perf-compat",[Kt]:"fire-rc",[Nn]:"fire-rc-compat",[qt]:"fire-gcs",[Me]:"fire-gcs-compat",[Oe]:"fire-fst",[yt]:"fire-fst-compat",[Pt]:"fire-vertex","fire-js":"fire-js",[jn]:"fire-js-all"},Zn=new Map,Qn=new Map,Gn=new Map;function nr(te,z){try{te.container.addComponent(z)}catch(he){wn.debug(`Component ${z.name} failed to register with FirebaseApp ${te.name}`,he)}}function br(te,z){te.container.addOrOverwriteComponent(z)}function Xr(te){const z=te.name;if(Gn.has(z))return wn.debug(`There were multiple attempts to register component ${z}.`),!1;Gn.set(z,te);for(const he of Zn.values())nr(he,te);for(const he of Qn.values())nr(he,te);return!0}function _n(te,z){const he=te.container.getProvider("heartbeat").getImmediate({optional:!0});return he&&he.triggerHeartbeat(),te.container.getProvider(z)}function Ur(te,z,he=Tn){_n(te,z).clearInstance(he)}function Yn(te){return void 0!==te.options}function ar(te){return void 0!==te.settings}function fn(){Gn.clear()}const Ln=new ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ir{constructor(z,he,K){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},he),this._name=he.name,this._automaticDataCollectionEnabled=he.automaticDataCollectionEnabled,this._container=K,this.container.addComponent(new f.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}class sr extends ir{constructor(z,he,K,Q){const me=void 0!==he.automaticDataCollectionEnabled&&he.automaticDataCollectionEnabled,gt={name:K,automaticDataCollectionEnabled:me};super(void 0!==z.apiKey?z:z.options,gt,Q),this._serverConfig=Object.assign({automaticDataCollectionEnabled:me},he),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,he.releaseOnDeref=void 0,ye(cn,Jt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(z){this.isDeleted||(this._refCount++,void 0!==z&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(z,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ut(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ln.create("server-app-deleted")}}const nn="10.14.1";function Nt(te,z={}){let he=te;"object"!=typeof z&&(z={name:z});const K=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},z),Q=K.name;if("string"!=typeof Q||!Q)throw Ln.create("bad-app-name",{appName:String(Q)});if(he||(he=(0,ee.T9)()),!he)throw Ln.create("no-options");const me=Zn.get(Q);if(me){if((0,ee.bD)(he,me.options)&&(0,ee.bD)(K,me.config))return me;throw Ln.create("duplicate-app",{appName:Q})}const gt=new f.h1(Q);for(const tn of Gn.values())gt.addComponent(tn);const $t=new ir(he,K,gt);return Zn.set(Q,$t),$t}function ft(te,z){if((0,ee.Bd)()&&!(0,ee.p7)())throw Ln.create("invalid-server-app-environment");let he;void 0===z.automaticDataCollectionEnabled&&(z.automaticDataCollectionEnabled=!1),he=Yn(te)?te.options:te;const K=Object.assign(Object.assign({},z),he);if(void 0!==K.releaseOnDeref&&delete K.releaseOnDeref,void 0!==z.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Ln.create("finalization-registry-not-supported",{});const me=""+(Un=JSON.stringify(K),[...Un].reduce((Sn,Fn)=>Math.imul(31,Sn)+Fn.charCodeAt(0)|0,0)),gt=Qn.get(me);var Un;if(gt)return gt.incRefCount(z.releaseOnDeref),gt;const $t=new f.h1(me);for(const Un of Gn.values())$t.addComponent(Un);const tn=new sr(he,z,me,$t);return Qn.set(me,tn),tn}function Ot(te=Tn){const z=Zn.get(te);if(!z&&te===Tn&&(0,ee.T9)())return Nt();if(!z)throw Ln.create("no-app",{appName:te});return z}function st(){return Array.from(Zn.values())}function ut(te){return en.apply(this,arguments)}function en(){return(en=(0,d.A)(function*(te){let z=!1;const he=te.name;Zn.has(he)?(z=!0,Zn.delete(he)):Qn.has(he)&&te.decRefCount()<=0&&(Qn.delete(he),z=!0),z&&(yield Promise.all(te.container.getProviders().map(K=>K.delete())),te.isDeleted=!0)})).apply(this,arguments)}function ye(te,z,he){var K;let Q=null!==(K=gn[te])&&void 0!==K?K:te;he&&(Q+=`-${he}`);const me=Q.match(/\s|\//),gt=z.match(/\s|\//);if(me||gt){const $t=[`Unable to register library "${Q}" with version "${z}":`];return me&&$t.push(`library name "${Q}" contains illegal characters (whitespace or "/")`),me&&gt&&$t.push("and"),gt&&$t.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void wn.warn($t.join(" "))}Xr(new f.uA(`${Q}-version`,()=>({library:Q,version:z}),"VERSION"))}function Se(te,z){if(null!==te&&"function"!=typeof te)throw Ln.create("invalid-log-argument");(0,Z.Ey)(te,z)}function Qe(te){(0,Z.He)(te)}const St="firebase-heartbeat-database",mt=1,yn="firebase-heartbeat-store";let Dn=null;function gr(){return Dn||(Dn=function Re(te,z,{blocked:he,upgrade:K,blocking:Q,terminated:me}={}){const gt=indexedDB.open(te,z),$t=pe(gt);return K&&gt.addEventListener("upgradeneeded",tn=>{K(pe(gt.result),tn.oldVersion,tn.newVersion,pe(gt.transaction),tn)}),he&&gt.addEventListener("blocked",tn=>he(tn.oldVersion,tn.newVersion,tn)),$t.then(tn=>{me&&tn.addEventListener("close",()=>me()),Q&&tn.addEventListener("versionchange",Un=>Q(Un.oldVersion,Un.newVersion,Un))}).catch(()=>{}),$t}(St,mt,{upgrade:(te,z)=>{if(0===z)try{te.createObjectStore(yn)}catch(he){console.warn(he)}}}).catch(te=>{throw Ln.create("idb-open",{originalErrorMessage:te.message})})),Dn}function at(){return(at=(0,d.A)(function*(te){try{const he=(yield gr()).transaction(yn),K=yield he.objectStore(yn).get(zr(te));return yield he.done,K}catch(z){if(z instanceof ee.g)wn.warn(z.message);else{const he=Ln.create("idb-get",{originalErrorMessage:null==z?void 0:z.message});wn.warn(he.message)}}})).apply(this,arguments)}function mr(te,z){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.A)(function*(te,z){try{const K=(yield gr()).transaction(yn,"readwrite");yield K.objectStore(yn).put(z,zr(te)),yield K.done}catch(he){if(he instanceof ee.g)wn.warn(he.message);else{const K=Ln.create("idb-set",{originalErrorMessage:null==he?void 0:he.message});wn.warn(K.message)}}})).apply(this,arguments)}function zr(te){return`${te.name}!${te.options.appId}`}class ri{constructor(z){this.container=z,this._heartbeatsCache=null;const he=this.container.getProvider("app").getImmediate();this._storage=new no(he),this._heartbeatsCachePromise=this._storage.read().then(K=>(this._heartbeatsCache=K,K))}triggerHeartbeat(){var z=this;return(0,d.A)(function*(){var he,K;try{const me=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gt=Si();return null==(null===(he=z._heartbeatsCache)||void 0===he?void 0:he.heartbeats)&&(z._heartbeatsCache=yield z._heartbeatsCachePromise,null==(null===(K=z._heartbeatsCache)||void 0===K?void 0:K.heartbeats))||z._heartbeatsCache.lastSentHeartbeatDate===gt||z._heartbeatsCache.heartbeats.some($t=>$t.date===gt)?void 0:(z._heartbeatsCache.heartbeats.push({date:gt,agent:me}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter($t=>{const tn=new Date($t.date).valueOf();return Date.now()-tn<=2592e6}),z._storage.overwrite(z._heartbeatsCache))}catch(Q){wn.warn(Q)}})()}getHeartbeatsHeader(){var z=this;return(0,d.A)(function*(){var he;try{if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null==(null===(he=z._heartbeatsCache)||void 0===he?void 0:he.heartbeats)||0===z._heartbeatsCache.heartbeats.length)return"";const K=Si(),{heartbeatsToSend:Q,unsentEntries:me}=function ui(te,z=1024){const he=[];let K=te.slice();for(const Q of te){const me=he.find(gt=>gt.agent===Q.agent);if(me){if(me.dates.push(Q.date),Ri(he)>z){me.dates.pop();break}}else if(he.push({agent:Q.agent,dates:[Q.date]}),Ri(he)>z){he.pop();break}K=K.slice(1)}return{heartbeatsToSend:he,unsentEntries:K}}(z._heartbeatsCache.heartbeats),gt=(0,ee.Uj)(JSON.stringify({version:2,heartbeats:Q}));return z._heartbeatsCache.lastSentHeartbeatDate=K,me.length>0?(z._heartbeatsCache.heartbeats=me,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),gt}catch(K){return wn.warn(K),""}})()}}function Si(){return(new Date).toISOString().substring(0,10)}class no{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,ee.zW)()&&(0,ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,d.A)(function*(){if(yield z._canUseIndexedDBPromise){const K=yield function Hr(te){return at.apply(this,arguments)}(z.app);return null!=K&&K.heartbeats?K:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(z){var he=this;return(0,d.A)(function*(){var K;if(yield he._canUseIndexedDBPromise){const me=yield he.read();return mr(he.app,{lastSentHeartbeatDate:null!==(K=z.lastSentHeartbeatDate)&&void 0!==K?K:me.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var he=this;return(0,d.A)(function*(){var K;if(yield he._canUseIndexedDBPromise){const me=yield he.read();return mr(he.app,{lastSentHeartbeatDate:null!==(K=z.lastSentHeartbeatDate)&&void 0!==K?K:me.lastSentHeartbeatDate,heartbeats:[...me.heartbeats,...z.heartbeats]})}})()}}function Ri(te){return(0,ee.Uj)(JSON.stringify({version:2,heartbeats:te})).length}!function dr(te){Xr(new f.uA("platform-logger",z=>new Lt(z),"PRIVATE")),Xr(new f.uA("heartbeat",z=>new ri(z),"PRIVATE")),ye(cn,Jt,te),ye(cn,Jt,"esm2017"),ye("fire-js","")}("")},1362:(vn,_t,L)=>{"use strict";L.d(_t,{h1:()=>Be,uA:()=>Z});var d=L(467),f=L(1076);class Z{constructor(Ce,ce,Ve){this.name=Ce,this.instanceFactory=ce,this.type=Ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const ee="[DEFAULT]";class ae{constructor(Ce,ce){this.name=Ce,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const ce=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(ce)){const Ve=new f.cY;if(this.instancesDeferred.set(ce,Ve),this.isInitialized(ce)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:ce});ze&&Ve.resolve(ze)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(Ce){var ce;const Ve=this.normalizeInstanceIdentifier(null==Ce?void 0:Ce.identifier),ze=null!==(ce=null==Ce?void 0:Ce.optional)&&void 0!==ce&&ce;if(!this.isInitialized(Ve)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ve})}catch($e){if(ze)return null;throw $e}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function De(Ke){return"EAGER"===Ke.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[ce,Ve]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(ce);try{const $e=this.getOrInitializeService({instanceIdentifier:ze});Ve.resolve($e)}catch{}}}}clearInstance(Ce=ee){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,d.A)(function*(){const ce=Array.from(Ce.instances.values());yield Promise.all([...ce.filter(Ve=>"INTERNAL"in Ve).map(Ve=>Ve.INTERNAL.delete()),...ce.filter(Ve=>"_delete"in Ve).map(Ve=>Ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=ee){return this.instances.has(Ce)}getOptions(Ce=ee){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:ce={}}=Ce,Ve=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(Ve))throw Error(`${this.name}(${Ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Ve,options:ce});for(const[$e,Je]of this.instancesDeferred.entries())Ve===this.normalizeInstanceIdentifier($e)&&Je.resolve(ze);return ze}onInit(Ce,ce){var Ve;const ze=this.normalizeInstanceIdentifier(ce),$e=null!==(Ve=this.onInitCallbacks.get(ze))&&void 0!==Ve?Ve:new Set;$e.add(Ce),this.onInitCallbacks.set(ze,$e);const Je=this.instances.get(ze);return Je&&Ce(Je,ze),()=>{$e.delete(Ce)}}invokeOnInitCallbacks(Ce,ce){const Ve=this.onInitCallbacks.get(ce);if(Ve)for(const ze of Ve)try{ze(Ce,ce)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:ce={}}){let Ve=this.instances.get(Ce);if(!Ve&&this.component&&(Ve=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=Ce,Ke===ee?void 0:Ke),options:ce}),this.instances.set(Ce,Ve),this.instancesOptions.set(Ce,ce),this.invokeOnInitCallbacks(Ve,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,Ve)}catch{}var Ke;return Ve||null}normalizeInstanceIdentifier(Ce=ee){return this.component?this.component.multipleInstances?Ce:ee:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const ce=this.getProvider(Ce.name);if(ce.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);ce.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const ce=new ae(Ce,this);return this.providers.set(Ce,ce),ce}getProviders(){return Array.from(this.providers.values())}}},8041:(vn,_t,L)=>{"use strict";L.d(_t,{$b:()=>f,Ey:()=>Ke,He:()=>Be,Vy:()=>De});const d=[];var f=function(Ce){return Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",Ce}(f||{});const Z={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},ee=f.INFO,ae={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},de=(Ce,ce,...Ve)=>{if(ce<Ce.logLevel)return;const ze=(new Date).toISOString(),$e=ae[ce];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[$e](`[${ze}]  ${Ce.name}:`,...Ve)};class De{constructor(ce){this.name=ce,this._logLevel=ee,this._logHandler=de,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in f))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?Z[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...ce),this._logHandler(this,f.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...ce),this._logHandler(this,f.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,f.INFO,...ce),this._logHandler(this,f.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,f.WARN,...ce),this._logHandler(this,f.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...ce),this._logHandler(this,f.ERROR,...ce)}}function Be(Ce){d.forEach(ce=>{ce.setLogLevel(Ce)})}function Ke(Ce,ce){for(const Ve of d){let ze=null;ce&&ce.level&&(ze=Z[ce.level]),Ve.userLogHandler=null===Ce?null:($e,Je,...ct)=>{const et=ct.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch{return null}}).filter(je=>je).join(" ");Je>=(null!=ze?ze:$e.logLevel)&&Ce({level:f[Je].toLowerCase(),message:et,args:ct,type:$e.name})}}}},2872:(vn,_t,L)=>{"use strict";L.d(_t,{Yq:()=>qt,TS:()=>kn,sR:()=>Ft,el:()=>Dn,Sb:()=>Yn,QE:()=>xn,CF:()=>Xr,Rg:()=>en,p4:()=>zr,jM:()=>Ri,q9:()=>En,Kb:()=>dr,CE:()=>gr,pF:()=>Hr,fL:()=>Pn,YV:()=>St,er:()=>Br,z3:()=>ri});var d=L(467),f=L(9842),Z=L(4438),ee=L(4964),ae=L(177),de=L(5531),De=L(4442);var Lt=L(1413),zt=L(3726),cn=L(4412),Jt=L(4572),wn=L(7673),kt=L(1635),Te=L(5964),Ie=L(5558),_e=L(3294),Y=L(4341);const Ae=["tabsInner"];let tt=(()=>{var te;class z{constructor(K,Q){(0,f.A)(this,"doc",void 0),(0,f.A)(this,"_readyPromise",void 0),(0,f.A)(this,"win",void 0),(0,f.A)(this,"backButton",new Lt.B),(0,f.A)(this,"keyboardDidShow",new Lt.B),(0,f.A)(this,"keyboardDidHide",new Lt.B),(0,f.A)(this,"pause",new Lt.B),(0,f.A)(this,"resume",new Lt.B),(0,f.A)(this,"resize",new Lt.B),this.doc=K,Q.run(()=>{var me;let gt;this.win=K.defaultView,this.backButton.subscribeWithPriority=function($t,tn){return this.subscribe(Un=>Un.register($t,Sn=>Q.run(()=>tn(Sn))))},Mt(this.pause,K,"pause",Q),Mt(this.resume,K,"resume",Q),Mt(this.backButton,K,"ionBackButton",Q),Mt(this.resize,this.win,"resize",Q),Mt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Q),Mt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Q),this._readyPromise=new Promise($t=>{gt=$t}),null!==(me=this.win)&&void 0!==me&&me.cordova?K.addEventListener("deviceready",()=>{gt("cordova")},{once:!0}):gt("dom")})}is(K){return(0,de.a)(this.win,K)}platforms(){return(0,de.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(K){return ot(this.win.location.href,K)}isLandscape(){return!this.isPortrait()}isPortrait(){var K,Q;return null===(K=(Q=this.win).matchMedia)||void 0===K?void 0:K.call(Q,"(orientation: portrait)").matches}testUserAgent(K){const Q=this.win.navigator;return!!(null!=Q&&Q.userAgent&&Q.userAgent.indexOf(K)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)(Z.KVO(ae.qQ),Z.KVO(Z.SKi))}),(0,f.A)(z,"\u0275prov",Z.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})),z})();const ot=(te,z)=>{z=z.replace(/[[\]\\]/g,"\\$&");const K=new RegExp("[\\?&]"+z+"=([^&#]*)").exec(te);return K?decodeURIComponent(K[1].replace(/\+/g," ")):null},Mt=(te,z,he,K)=>{z&&z.addEventListener(he,Q=>{K.run(()=>{te.next(null!=Q?Q.detail:void 0)})})};let En=(()=>{var te;class z{constructor(K,Q,me,gt){(0,f.A)(this,"location",void 0),(0,f.A)(this,"serializer",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"topOutlet",void 0),(0,f.A)(this,"direction",an),(0,f.A)(this,"animated",Cn),(0,f.A)(this,"animationBuilder",void 0),(0,f.A)(this,"guessDirection","forward"),(0,f.A)(this,"guessAnimation",void 0),(0,f.A)(this,"lastNavId",-1),this.location=Q,this.serializer=me,this.router=gt,gt&&gt.events.subscribe($t=>{if($t instanceof ee.Z){const tn=$t.restoredState?$t.restoredState.navigationId:$t.id;this.guessDirection=this.guessAnimation=tn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?$t.id:tn}}),K.backButton.subscribeWithPriority(0,$t=>{this.pop(),$t()})}navigateForward(K,Q={}){return this.setDirection("forward",Q.animated,Q.animationDirection,Q.animation),this.navigate(K,Q)}navigateBack(K,Q={}){return this.setDirection("back",Q.animated,Q.animationDirection,Q.animation),this.navigate(K,Q)}navigateRoot(K,Q={}){return this.setDirection("root",Q.animated,Q.animationDirection,Q.animation),this.navigate(K,Q)}back(K={animated:!0,animationDirection:"back"}){return this.setDirection("back",K.animated,K.animationDirection,K.animation),this.location.back()}pop(){var K=this;return(0,d.A)(function*(){let Q=K.topOutlet;for(;Q;){if(yield Q.pop())return!0;Q=Q.parentOutlet}return!1})()}setDirection(K,Q,me,gt){this.direction=K,this.animated=lt(K,Q,me),this.animationBuilder=gt}setTopOutlet(K){this.topOutlet=K}consumeTransition(){let Q,K="root";const me=this.animationBuilder;return"auto"===this.direction?(K=this.guessDirection,Q=this.guessAnimation):(Q=this.animated,K=this.direction),this.direction=an,this.animated=Cn,this.animationBuilder=void 0,{direction:K,animation:Q,animationBuilder:me}}navigate(K,Q){if(Array.isArray(K))return this.router.navigate(K,Q);{const me=this.serializer.parse(K.toString());return void 0!==Q.queryParams&&(me.queryParams={...Q.queryParams}),void 0!==Q.fragment&&(me.fragment=Q.fragment),this.router.navigateByUrl(me,Q)}}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)(Z.KVO(tt),Z.KVO(ae.aZ),Z.KVO(ee.Sd),Z.KVO(ee.Ix,8))}),(0,f.A)(z,"\u0275prov",Z.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})),z})();const lt=(te,z,he)=>{if(!1!==z){if(void 0!==he)return he;if("forward"===te||"back"===te)return te;if("root"===te&&!0===z)return"forward"}},an="auto",Cn=void 0;let kn=(()=>{var te;class z{get(K,Q){const me=Kt();return me?me.get(K,Q):null}getBoolean(K,Q){const me=Kt();return!!me&&me.getBoolean(K,Q)}getNumber(K,Q){const me=Kt();return me?me.getNumber(K,Q):0}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)}),(0,f.A)(z,"\u0275prov",Z.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})),z})();const Ft=new Z.nKC("USERCONFIG"),Kt=()=>{if(typeof window<"u"){const te=window.Ionic;if(null!=te&&te.config)return te.config}return null};class Nn{constructor(z={}){(0,f.A)(this,"data",void 0),this.data=z,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(z){return this.data[z]}}let qt=(()=>{var te;class z{constructor(){(0,f.A)(this,"zone",(0,Z.WQX)(Z.SKi)),(0,f.A)(this,"applicationRef",(0,Z.WQX)(Z.o8S)),(0,f.A)(this,"config",(0,Z.WQX)(Ft))}create(K,Q,me){var gt;return new Me(K,Q,this.applicationRef,this.zone,me,null!==(gt=this.config.useSetInputAPI)&&void 0!==gt&&gt)}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)}),(0,f.A)(z,"\u0275prov",Z.jDH({token:te,factory:te.\u0275fac})),z})();class Me{constructor(z,he,K,Q,me,gt){(0,f.A)(this,"environmentInjector",void 0),(0,f.A)(this,"injector",void 0),(0,f.A)(this,"applicationRef",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"elementReferenceKey",void 0),(0,f.A)(this,"enableSignalsSupport",void 0),(0,f.A)(this,"elRefMap",new WeakMap),(0,f.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=z,this.injector=he,this.applicationRef=K,this.zone=Q,this.elementReferenceKey=me,this.enableSignalsSupport=gt}attachViewToDom(z,he,K,Q){return this.zone.run(()=>new Promise(me=>{const gt={...K};void 0!==this.elementReferenceKey&&(gt[this.elementReferenceKey]=z),me(Oe(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,z,he,gt,Q,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(z,he){return this.zone.run(()=>new Promise(K=>{const Q=this.elRefMap.get(he);if(Q){Q.destroy(),this.elRefMap.delete(he);const me=this.elEventsMap.get(he);me&&(me(),this.elEventsMap.delete(he))}K()}))}}const Oe=(te,z,he,K,Q,me,gt,$t,tn,Un,Sn,Fn)=>{const Jr=Z.zZn.create({providers:Kn(tn),parent:he}),Jn=(0,Z.a0P)($t,{environmentInjector:z,elementInjector:Jr}),ii=Jn.instance,_i=Jn.location.nativeElement;if(tn)if(Sn&&void 0!==ii[Sn]&&console.error(`[Ionic Error]: ${Sn} is a reserved property when using ${gt.tagName.toLowerCase()}. Rename or remove the "${Sn}" property from ${$t.name}.`),!0===Fn&&void 0!==Jn.setInput){const{modal:ei,popover:co,...Mi}=tn;for(const Qi in Mi)Jn.setInput(Qi,Mi[Qi]);void 0!==ei&&Object.assign(ii,{modal:ei}),void 0!==co&&Object.assign(ii,{popover:co})}else Object.assign(ii,tn);if(Un)for(const ei of Un)_i.classList.add(ei);const Xi=yt(te,ii,_i);return gt.appendChild(_i),K.attachView(Jn.hostView),Q.set(_i,Jn),me.set(_i,Xi),_i},Pt=[De.L,De.a,De.b,De.c,De.d],yt=(te,z,he)=>te.run(()=>{const K=Pt.filter(Q=>"function"==typeof z[Q]).map(Q=>{const me=gt=>z[Q](gt.detail);return he.addEventListener(Q,me),()=>he.removeEventListener(Q,me)});return()=>K.forEach(Q=>Q())}),jn=new Z.nKC("NavParamsToken"),Kn=te=>[{provide:jn,useValue:te},{provide:Nn,useFactory:Tn,deps:[jn]}],Tn=te=>new Nn(te),gn=(te,z)=>{const he=te.prototype;z.forEach(K=>{Object.defineProperty(he,K,{get(){return this.el[K]},set(Q){this.z.runOutsideAngular(()=>this.el[K]=Q)}})})},Zn=(te,z)=>{const he=te.prototype;z.forEach(K=>{he[K]=function(){const Q=arguments;return this.z.runOutsideAngular(()=>this.el[K].apply(this.el,Q))}})},Qn=(te,z,he)=>{he.forEach(K=>te[K]=(0,zt.R)(z,K))};function Gn(te){return function(he){const{defineCustomElementFn:K,inputs:Q,methods:me}=te;return void 0!==K&&K(),Q&&gn(he,Q),me&&Zn(he,me),he}}const nr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],br=["present","dismiss","onDidDismiss","onWillDismiss"];let Xr=(()=>{var te;let z=((0,f.A)(te=class{constructor(K,Q,me){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=me,this.el=Q.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,K.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,K.detectChanges()}),Qn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(K){return new(K||te)(Z.rXU(Z.gRc),Z.rXU(Z.aKT),Z.rXU(Z.SKi))}),(0,f.A)(te,"\u0275dir",Z.FsC({type:te,selectors:[["ion-popover"]],contentQueries:function(K,Q,me){if(1&K&&Z.wni(me,Z.C4Q,5),2&K){let gt;Z.mGM(gt=Z.lsd())&&(Q.template=gt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),te);return z=(0,kt.Cg)([Gn({inputs:nr,methods:br})],z),z})();const _n=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ur=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Yn=(()=>{var te;let z=((0,f.A)(te=class{constructor(K,Q,me){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=me,this.el=Q.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,K.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,K.detectChanges()}),Qn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(K){return new(K||te)(Z.rXU(Z.gRc),Z.rXU(Z.aKT),Z.rXU(Z.SKi))}),(0,f.A)(te,"\u0275dir",Z.FsC({type:te,selectors:[["ion-modal"]],contentQueries:function(K,Q,me){if(1&K&&Z.wni(me,Z.C4Q,5),2&K){let gt;Z.mGM(gt=Z.lsd())&&(Q.template=gt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),te);return z=(0,kt.Cg)([Gn({inputs:_n,methods:Ur})],z),z})();const fn=(te,z)=>((te=te.filter(he=>he.stackId!==z.stackId)).push(z),te),ir=(te,z)=>{const he=te.createUrlTree(["."],{relativeTo:z});return te.serializeUrl(he)},sr=(te,z)=>!z||te.stackId!==z.stackId,nn=(te,z)=>{if(!te)return;const he=Nt(z);for(let K=0;K<he.length;K++){if(K>=te.length)return he[K];if(he[K]!==te[K])return}},Nt=te=>te.split("/").map(z=>z.trim()).filter(z=>""!==z),ft=te=>{te&&(te.ref.destroy(),te.unlistenEvents())};class Ot{constructor(z,he,K,Q,me,gt){(0,f.A)(this,"containerEl",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"location",void 0),(0,f.A)(this,"views",[]),(0,f.A)(this,"runningTask",void 0),(0,f.A)(this,"skipTransition",!1),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"activeView",void 0),(0,f.A)(this,"nextId",0),this.containerEl=he,this.router=K,this.navCtrl=Q,this.zone=me,this.location=gt,this.tabsPrefix=void 0!==z?Nt(z):void 0}createView(z,he){var K;const Q=ir(this.router,he),me=null==z||null===(K=z.location)||void 0===K?void 0:K.nativeElement,gt=yt(this.zone,z.instance,me);return{id:this.nextId++,stackId:nn(this.tabsPrefix,Q),unlistenEvents:gt,element:me,ref:z,url:Q}}getExistingView(z){const he=ir(this.router,z),K=this.views.find(Q=>Q.url===he);return K&&K.ref.changeDetectorRef.reattach(),K}setActive(z){var he,K;const Q=this.navCtrl.consumeTransition();let{direction:me,animation:gt,animationBuilder:$t}=Q;const tn=this.activeView,Un=sr(z,tn);Un&&(me="back",gt=void 0);const Sn=this.views.slice();let Fn;const Jr=this.router;Jr.getCurrentNavigation?Fn=Jr.getCurrentNavigation():null!==(he=Jr.navigations)&&void 0!==he&&he.value&&(Fn=Jr.navigations.value),null!==(K=Fn)&&void 0!==K&&null!==(K=K.extras)&&void 0!==K&&K.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Jn=this.views.includes(z),ii=this.insertView(z,me);Jn||z.ref.changeDetectorRef.detectChanges();const _i=z.animationBuilder;return void 0===$t&&"back"===me&&!Un&&void 0!==_i&&($t=_i),tn&&(tn.animationBuilder=$t),this.zone.runOutsideAngular(()=>this.wait(()=>(tn&&tn.ref.changeDetectorRef.detach(),z.ref.changeDetectorRef.reattach(),this.transition(z,tn,gt,this.canGoBack(1),!1,$t).then(()=>st(z,ii,Sn,this.location,this.zone)).then(()=>({enteringView:z,direction:me,animation:gt,tabSwitch:Un})))))}canGoBack(z,he=this.getActiveStackId()){return this.getStack(he).length>z}pop(z,he=this.getActiveStackId()){return this.zone.run(()=>{const K=this.getStack(he);if(K.length<=z)return Promise.resolve(!1);const Q=K[K.length-z-1];let me=Q.url;const gt=Q.savedData;if(gt){var $t;const Un=gt.get("primary");null!=Un&&null!==($t=Un.route)&&void 0!==$t&&null!==($t=$t._routerState)&&void 0!==$t&&$t.snapshot.url&&(me=Un.route._routerState.snapshot.url)}const{animationBuilder:tn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(me,{...Q.savedExtras,animation:tn}).then(()=>!0)})}startBackTransition(){const z=this.activeView;if(z){const he=this.getStack(z.stackId),K=he[he.length-2],Q=K.animationBuilder;return this.wait(()=>this.transition(K,z,"back",this.canGoBack(2),!0,Q))}return Promise.resolve()}endBackTransition(z){z?(this.skipTransition=!0,this.pop(1)):this.activeView&&ut(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(z){const he=this.getStack(z);return he.length>0?he[he.length-1]:void 0}getRootUrl(z){const he=this.getStack(z);return he.length>0?he[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ft),this.activeView=void 0,this.views=[]}getStack(z){return this.views.filter(he=>he.stackId===z)}insertView(z,he){return this.activeView=z,this.views=((te,z,he)=>"root"===he?fn(te,z):"forward"===he?((te,z)=>(te.indexOf(z)>=0?te=te.filter(K=>K.stackId!==z.stackId||K.id<=z.id):te.push(z),te))(te,z):((te,z)=>te.indexOf(z)>=0?te.filter(K=>K.stackId!==z.stackId||K.id<=z.id):fn(te,z))(te,z))(this.views,z,he),this.views.slice()}transition(z,he,K,Q,me,gt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(he===z)return Promise.resolve(!1);const $t=z?z.element:void 0,tn=he?he.element:void 0,Un=this.containerEl;return $t&&$t!==tn&&($t.classList.add("ion-page"),$t.classList.add("ion-page-invisible"),Un.commit)?Un.commit($t,tn,{duration:void 0===K?0:void 0,direction:K,showGoBack:Q,progressAnimation:me,animationBuilder:gt}):Promise.resolve(!1)}wait(z){var he=this;return(0,d.A)(function*(){void 0!==he.runningTask&&(yield he.runningTask,he.runningTask=void 0);const K=he.runningTask=z();return K.finally(()=>he.runningTask=void 0),K})()}}const st=(te,z,he,K,Q)=>"function"==typeof requestAnimationFrame?new Promise(me=>{requestAnimationFrame(()=>{ut(te,z,he,K,Q),me()})}):Promise.resolve(),ut=(te,z,he,K,Q)=>{Q.run(()=>he.filter(me=>!z.includes(me)).forEach(ft)),z.forEach(me=>{const $t=K.path().split("?")[0].split("#")[0];if(me!==te&&me.url!==$t){const tn=me.element;tn.setAttribute("aria-hidden","true"),tn.classList.add("ion-page-hidden"),me.ref.changeDetectorRef.detach()}})};let en=(()=>{var te;class z{get activatedComponentRef(){return this.activated}set animation(K){this.nativeEl.animation=K}set animated(K){this.nativeEl.animated=K}set swipeGesture(K){this._swipeGesture=K,this.nativeEl.swipeHandler=K?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Q=>this.stackCtrl.endBackTransition(Q)}:void 0}constructor(K,Q,me,gt,$t,tn,Un,Sn){(0,f.A)(this,"parentOutlet",void 0),(0,f.A)(this,"nativeEl",void 0),(0,f.A)(this,"activatedView",null),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"_swipeGesture",void 0),(0,f.A)(this,"stackCtrl",void 0),(0,f.A)(this,"proxyMap",new WeakMap),(0,f.A)(this,"currentActivatedRoute$",new cn.t(null)),(0,f.A)(this,"activated",null),(0,f.A)(this,"_activatedRoute",null),(0,f.A)(this,"name",ee.Xk),(0,f.A)(this,"stackWillChange",new Z.bkB),(0,f.A)(this,"stackDidChange",new Z.bkB),(0,f.A)(this,"activateEvents",new Z.bkB),(0,f.A)(this,"deactivateEvents",new Z.bkB),(0,f.A)(this,"parentContexts",(0,Z.WQX)(ee.Zp)),(0,f.A)(this,"location",(0,Z.WQX)(Z.c1b)),(0,f.A)(this,"environmentInjector",(0,Z.WQX)(Z.uvJ)),(0,f.A)(this,"inputBinder",(0,Z.WQX)(Se,{optional:!0})),(0,f.A)(this,"supportsBindingToComponentInputs",!0),(0,f.A)(this,"config",(0,Z.WQX)(kn)),(0,f.A)(this,"navCtrl",(0,Z.WQX)(En)),this.parentOutlet=Sn,this.nativeEl=gt.nativeElement,this.name=K||ee.Xk,this.tabsPrefix="true"===Q?ir($t,Un):void 0,this.stackCtrl=new Ot(this.tabsPrefix,this.nativeEl,$t,this.navCtrl,tn,me),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var K;this.stackCtrl.destroy(),null===(K=this.inputBinder)||void 0===K||K.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const K=this.getContext();null!=K&&K.route&&this.activateWith(K.route,K.injector)}new Promise(K=>((te,z)=>{te.componentOnReady?te.componentOnReady().then(he=>z(he)):(te=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te)})(()=>z(te))})(this.nativeEl,K)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(K,Q){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Q=this.getContext();this.activatedView.savedData=new Map(Q.children.contexts);const me=this.activatedView.savedData.get("primary");if(me&&Q.route&&(me.route={...Q.route}),this.activatedView.savedExtras={},Q.route){const gt=Q.route.snapshot;this.activatedView.savedExtras.queryParams=gt.queryParams,this.activatedView.savedExtras.fragment=gt.fragment}}const K=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(K)}}activateWith(K,Q){var me;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=K;let gt,$t=this.stackCtrl.getExistingView(K);if($t){gt=this.activated=$t.ref;const Sn=$t.savedData;Sn&&(this.getContext().children.contexts=Sn),this.updateActivatedRouteProxy(gt.instance,K)}else{var tn;const Sn=K._futureSnapshot,Fn=this.parentContexts.getOrCreateContext(this.name).children,Jr=new cn.t(null),Jn=this.createActivatedRouteProxy(Jr,K),ii=new ye(Jn,Fn,this.location.injector),_i=null!==(tn=Sn.routeConfig.component)&&void 0!==tn?tn:Sn.component;gt=this.activated=this.outletContent.createComponent(_i,{index:this.outletContent.length,injector:ii,environmentInjector:null!=Q?Q:this.environmentInjector}),Jr.next(gt.instance),$t=this.stackCtrl.createView(this.activated,K),this.proxyMap.set(gt.instance,Jn),this.currentActivatedRoute$.next({component:gt.instance,activatedRoute:K})}null===(me=this.inputBinder)||void 0===me||me.bindActivatedRouteToOutletComponent(this),this.activatedView=$t,this.navCtrl.setTopOutlet(this);const Un=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:$t,tabSwitch:sr($t,Un)}),this.stackCtrl.setActive($t).then(Sn=>{this.activateEvents.emit(gt.instance),this.stackDidChange.emit(Sn)})}canGoBack(K=1,Q){return this.stackCtrl.canGoBack(K,Q)}pop(K=1,Q){return this.stackCtrl.pop(K,Q)}getLastUrl(K){const Q=this.stackCtrl.getLastUrl(K);return Q?Q.url:void 0}getLastRouteView(K){return this.stackCtrl.getLastUrl(K)}getRootView(K){return this.stackCtrl.getRootUrl(K)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(K,Q){const me=new ee.nX;return me._futureSnapshot=Q._futureSnapshot,me._routerState=Q._routerState,me.snapshot=Q.snapshot,me.outlet=Q.outlet,me.component=Q.component,me._paramMap=this.proxyObservable(K,"paramMap"),me._queryParamMap=this.proxyObservable(K,"queryParamMap"),me.url=this.proxyObservable(K,"url"),me.params=this.proxyObservable(K,"params"),me.queryParams=this.proxyObservable(K,"queryParams"),me.fragment=this.proxyObservable(K,"fragment"),me.data=this.proxyObservable(K,"data"),me}proxyObservable(K,Q){return K.pipe((0,Te.p)(me=>!!me),(0,Ie.n)(me=>this.currentActivatedRoute$.pipe((0,Te.p)(gt=>null!==gt&&gt.component===me),(0,Ie.n)(gt=>gt&&gt.activatedRoute[Q]),(0,_e.F)())))}updateActivatedRouteProxy(K,Q){const me=this.proxyMap.get(K);if(!me)throw new Error("Could not find activated route proxy for view");me._futureSnapshot=Q._futureSnapshot,me._routerState=Q._routerState,me.snapshot=Q.snapshot,me.outlet=Q.outlet,me.component=Q.component,this.currentActivatedRoute$.next({component:K,activatedRoute:Q})}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)(Z.kS0("name"),Z.kS0("tabs"),Z.rXU(ae.aZ),Z.rXU(Z.aKT),Z.rXU(ee.Ix),Z.rXU(Z.SKi),Z.rXU(ee.nX),Z.rXU(te,12))}),(0,f.A)(z,"\u0275dir",Z.FsC({type:te,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),z})();class ye{constructor(z,he,K){(0,f.A)(this,"route",void 0),(0,f.A)(this,"childContexts",void 0),(0,f.A)(this,"parent",void 0),this.route=z,this.childContexts=he,this.parent=K}get(z,he){return z===ee.nX?this.route:z===ee.Zp?this.childContexts:this.parent.get(z,he)}}const Se=new Z.nKC("");let Qe=(()=>{var te;class z{constructor(){(0,f.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(K){this.unsubscribeFromRouteData(K),this.subscribeToRouteData(K)}unsubscribeFromRouteData(K){var Q;null===(Q=this.outletDataSubscriptions.get(K))||void 0===Q||Q.unsubscribe(),this.outletDataSubscriptions.delete(K)}subscribeToRouteData(K){const{activatedRoute:Q}=K,me=(0,Jt.z)([Q.queryParams,Q.params,Q.data]).pipe((0,Ie.n)(([gt,$t,tn],Un)=>(tn={...gt,...$t,...tn},0===Un?(0,wn.of)(tn):Promise.resolve(tn)))).subscribe(gt=>{if(!K.isActivated||!K.activatedComponentRef||K.activatedRoute!==Q||null===Q.component)return void this.unsubscribeFromRouteData(K);const $t=(0,Z.HJs)(Q.component);if($t)for(const{templateName:tn}of $t.inputs)K.activatedComponentRef.setInput(tn,gt[tn]);else this.unsubscribeFromRouteData(K)});this.outletDataSubscriptions.set(K,me)}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)}),(0,f.A)(z,"\u0275prov",Z.jDH({token:te,factory:te.\u0275fac})),z})();const St=()=>({provide:Se,useFactory:mt,deps:[ee.Ix]});function mt(te){return null!=te&&te.componentInputBindingEnabled?new Qe:null}const yn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Dn=(()=>{var te;let z=((0,f.A)(te=class{constructor(K,Q,me,gt,$t,tn){(0,f.A)(this,"routerOutlet",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"config",void 0),(0,f.A)(this,"r",void 0),(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.routerOutlet=K,this.navCtrl=Q,this.config=me,this.r=gt,this.z=$t,tn.detach(),this.el=this.r.nativeElement}onClick(K){var Q;const me=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Q=this.routerOutlet)&&void 0!==Q&&Q.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),K.preventDefault()):null!=me&&(this.navCtrl.navigateBack(me,{animation:this.routerAnimation}),K.preventDefault())}},"\u0275fac",function(K){return new(K||te)(Z.rXU(en,8),Z.rXU(En),Z.rXU(kn),Z.rXU(Z.aKT),Z.rXU(Z.SKi),Z.rXU(Z.gRc))}),(0,f.A)(te,"\u0275dir",Z.FsC({type:te,hostBindings:function(K,Q){1&K&&Z.bIt("click",function(gt){return Q.onClick(gt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),te);return z=(0,kt.Cg)([Gn({inputs:yn})],z),z})(),gr=(()=>{var te;class z{constructor(K,Q,me,gt,$t){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=K,this.navCtrl=Q,this.elementRef=me,this.router=gt,this.routerLink=$t}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const Q=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(Q.tagName)&&"0"===Q.getAttribute("tabindex")&&Q.removeAttribute("tabindex")}updateTargetUrlAndHref(){var K;if(null!==(K=this.routerLink)&&void 0!==K&&K.urlTree){const Q=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Q}}onClick(K){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),K.preventDefault()}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)(Z.rXU(ae.hb),Z.rXU(En),Z.rXU(Z.aKT),Z.rXU(ee.Ix),Z.rXU(ee.Wk,8))}),(0,f.A)(z,"\u0275dir",Z.FsC({type:te,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(K,Q){1&K&&Z.bIt("click",function(gt){return Q.onClick(gt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Z.OA$]})),z})(),Hr=(()=>{var te;class z{constructor(K,Q,me,gt,$t){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=K,this.navCtrl=Q,this.elementRef=me,this.router=gt,this.routerLink=$t}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var K;if(null!==(K=this.routerLink)&&void 0!==K&&K.urlTree){const Q=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Q}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)(Z.rXU(ae.hb),Z.rXU(En),Z.rXU(Z.aKT),Z.rXU(ee.Ix),Z.rXU(ee.Wk,8))}),(0,f.A)(z,"\u0275dir",Z.FsC({type:te,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(K,Q){1&K&&Z.bIt("click",function(){return Q.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[Z.OA$]})),z})();const at=["animated","animation","root","rootParams","swipeGesture"],mr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let xn=(()=>{var te;let z=((0,f.A)(te=class{constructor(K,Q,me,gt,$t,tn){(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.z=$t,tn.detach(),this.el=K.nativeElement,K.nativeElement.delegate=gt.create(Q,me),Qn(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(K){return new(K||te)(Z.rXU(Z.aKT),Z.rXU(Z.uvJ),Z.rXU(Z.zZn),Z.rXU(qt),Z.rXU(Z.SKi),Z.rXU(Z.gRc))}),(0,f.A)(te,"\u0275dir",Z.FsC({type:te,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),te);return z=(0,kt.Cg)([Gn({inputs:at,methods:mr})],z),z})(),zr=(()=>{var te;class z{constructor(K){(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"tabsInner",void 0),(0,f.A)(this,"ionTabsWillChange",new Z.bkB),(0,f.A)(this,"ionTabsDidChange",new Z.bkB),(0,f.A)(this,"tabBarSlot","bottom"),(0,f.A)(this,"hasTab",!1),(0,f.A)(this,"selectedTab",void 0),(0,f.A)(this,"leavingTab",void 0),this.navCtrl=K}ngAfterViewInit(){const K=this.tabs.length>0?this.tabs.first:void 0;K&&(this.hasTab=!0,this.setActiveTab(K.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:K,tabSwitch:Q}){const me=K.stackId;Q&&void 0!==me&&this.ionTabsWillChange.emit({tab:me})}onStackDidChange({enteringView:K,tabSwitch:Q}){const me=K.stackId;Q&&void 0!==me&&(this.tabBar&&(this.tabBar.selectedTab=me),this.ionTabsDidChange.emit({tab:me}))}select(K){const Q="string"==typeof K,me=Q?K:K.detail.tab;if(this.hasTab)return this.setActiveTab(me),void this.tabSwitch();const gt=this.outlet.getActiveStackId()===me,$t=`${this.outlet.tabsPrefix}/${me}`;if(Q||K.stopPropagation(),gt){const tn=this.outlet.getActiveStackId(),Un=this.outlet.getLastRouteView(tn);if((null==Un?void 0:Un.url)===$t)return;const Sn=this.outlet.getRootView(me);return this.navCtrl.navigateRoot($t,{...Sn&&$t===Sn.url&&Sn.savedExtras,animated:!0,animationDirection:"back"})}{const tn=this.outlet.getLastRouteView(me);return this.navCtrl.navigateRoot((null==tn?void 0:tn.url)||$t,{...null==tn?void 0:tn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(K){const me=this.tabs.find(gt=>gt.tab===K);me?(this.leavingTab=this.selectedTab,this.selectedTab=me,this.ionTabsWillChange.emit({tab:K}),me.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${K}" does not exist`)}tabSwitch(){const{selectedTab:K,leavingTab:Q}=this;this.tabBar&&K&&(this.tabBar.selectedTab=K.tab),(null==Q?void 0:Q.tab)!==(null==K?void 0:K.tab)&&null!=Q&&Q.el&&(Q.el.active=!1),K&&this.ionTabsDidChange.emit({tab:K.tab})}getSelected(){var K;return this.hasTab?null===(K=this.selectedTab)||void 0===K?void 0:K.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(K=>{const Q=K.el.getAttribute("slot");Q!==this.tabBarSlot&&(this.tabBarSlot=Q,this.relocateTabBar())})}relocateTabBar(){const K=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(K):this.tabsInner.nativeElement.after(K)}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)(Z.rXU(En))}),(0,f.A)(z,"\u0275dir",Z.FsC({type:te,selectors:[["ion-tabs"]],viewQuery:function(K,Q){if(1&K&&Z.GBs(Ae,7,Z.aKT),2&K){let me;Z.mGM(me=Z.lsd())&&(Q.tabsInner=me.first)}},hostBindings:function(K,Q){1&K&&Z.bIt("ionTabButtonClick",function(gt){return Q.select(gt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),z})();const Br=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te);let Pn=(()=>{var te;class z{constructor(K,Q){(0,f.A)(this,"injector",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"onChange",()=>{}),(0,f.A)(this,"onTouched",()=>{}),(0,f.A)(this,"lastValue",void 0),(0,f.A)(this,"statusChanges",void 0),this.injector=K,this.elementRef=Q}writeValue(K){this.elementRef.nativeElement.value=this.lastValue=K,ri(this.elementRef)}handleValueChange(K,Q){K===this.elementRef.nativeElement&&(Q!==this.lastValue&&(this.lastValue=Q,this.onChange(Q)),ri(this.elementRef))}_handleBlurEvent(K){K===this.elementRef.nativeElement&&(this.onTouched(),ri(this.elementRef))}registerOnChange(K){this.onChange=K}registerOnTouched(K){this.onTouched=K}setDisabledState(K){this.elementRef.nativeElement.disabled=K}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let K;try{K=this.injector.get(Y.vO)}catch{}if(!K)return;K.statusChanges&&(this.statusChanges=K.statusChanges.subscribe(()=>ri(this.elementRef)));const Q=K.control;Q&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(gt=>{if(typeof Q[gt]<"u"){const $t=Q[gt].bind(Q);Q[gt]=(...tn)=>{$t(...tn),ri(this.elementRef)}}})}}return te=z,(0,f.A)(z,"\u0275fac",function(K){return new(K||te)(Z.rXU(Z.zZn),Z.rXU(Z.aKT))}),(0,f.A)(z,"\u0275dir",Z.FsC({type:te,hostBindings:function(K,Q){1&K&&Z.bIt("ionBlur",function(gt){return Q._handleBlurEvent(gt.target)})}})),z})();const ri=te=>{Br(()=>{const z=te.nativeElement,he=null!=z.value&&z.value.toString().length>0,K=Si(z);ui(z,K);const Q=z.closest("ion-item");Q&&ui(Q,he?[...K,"item-has-value"]:K)})},Si=te=>{const z=te.classList,he=[];for(let K=0;K<z.length;K++){const Q=z.item(K);null!==Q&&no(Q,"ng-")&&he.push(`ion-${Q.substring(3)}`)}return he},ui=(te,z)=>{const he=te.classList;he.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),he.add(...z)},no=(te,z)=>te.substring(0,z.length)===z;class Ri{shouldDetach(z){return!1}shouldAttach(z){return!1}store(z,he){}retrieve(z){return null}shouldReuseRoute(z,he){if(z.routeConfig!==he.routeConfig)return!1;const K=z.params,Q=he.params,me=Object.keys(K),gt=Object.keys(Q);if(me.length!==gt.length)return!1;for(const $t of me)if(Q[$t]!==K[$t])return!1;return!0}}class dr{constructor(z){(0,f.A)(this,"ctrl",void 0),this.ctrl=z}create(z){return this.ctrl.create(z||{})}dismiss(z,he,K){return this.ctrl.dismiss(z,he,K)}getTop(){return this.ctrl.getTop()}}},4742:(vn,_t,L)=>{"use strict";L.d(_t,{U1:()=>Cn,Jm:()=>Me,b_:()=>Pt,I9:()=>yt,ME:()=>jn,tN:()=>Tn,W9:()=>Gn,eU:()=>fn,$w:()=>nn,uz:()=>ft,he:()=>Se,nf:()=>Qe,Rg:()=>xo,BC:()=>ei,ai:()=>Qi,bv:()=>Vr,su:()=>_e,N7:()=>Ao,Gw:()=>Ae});var d=L(9842),f=L(4438),Z=L(4341),ee=L(2872),ae=L(1635),de=L(3726),De=L(177),Be=L(4964),$e=(L(9986),L(3604),L(5022),L(3615),L(8607),L(9483)),Je=L(464),et=(L(9568),L(5229)),vt=(L(8476),L(4261));L(1970),L(7192);var rt=L(467);const Ye=$e.i,bt=function(){var R=(0,rt.A)(function*(X,le){if(!(typeof window>"u"))return yield Ye(),(0,vt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),le)});return function(le,x){return R.apply(this,arguments)}}(),He=["*"],Pe=["outletContent"];let _e=(()=>{var R;class X extends ee.fL{constructor(x,C){super(x,C),(0,d.A)(this,"el",void 0),this.el=C}handleInputEvent(x){this.handleValueChange(x,x.value)}registerOnChange(x){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?C=>{x(""===C?null:parseFloat(C))}:x)}}return R=X,(0,d.A)(X,"\u0275fac",function(x){return new(x||R)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(x,C){1&x&&f.bIt("ionInput",function(Ee){return C.handleInputEvent(Ee.target)})},features:[f.Jv_([{provide:Z.kq,useExisting:R,multi:!0}]),f.Vt3]})),X})(),Ae=(()=>{var R;class X extends ee.fL{constructor(x,C){super(x,C)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return R=X,(0,d.A)(X,"\u0275fac",function(x){return new(x||R)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(x,C){1&x&&f.bIt("ionInput",function(Ee){return C._handleInputEvent(Ee.target)})},features:[f.Jv_([{provide:Z.kq,useExisting:R,multi:!0}]),f.Vt3]})),X})();const Xe=(R,X)=>{const le=R.prototype;X.forEach(x=>{Object.defineProperty(le,x,{get(){return this.el[x]},set(C){this.z.runOutsideAngular(()=>this.el[x]=C)},configurable:!0})})},Ue=(R,X)=>{const le=R.prototype;X.forEach(x=>{le[x]=function(){const C=arguments;return this.z.runOutsideAngular(()=>this.el[x].apply(this.el,C))}})},Ne=(R,X,le)=>{le.forEach(x=>R[x]=(0,de.R)(X,x))};function ot(R){return function(le){const{defineCustomElementFn:x,inputs:C,methods:O}=R;return void 0!==x&&x(),C&&Xe(le,C),O&&Ue(le,O),le}}let Cn=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-app"]],ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({methods:["setFocus"]})],X),X})(),Me=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement,Ne(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],X),X})(),Pt=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],X),X})(),yt=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["mode"]})],X),X})(),jn=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["color","mode","translucent"]})],X),X})(),Tn=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["color","mode"]})],X),X})(),Gn=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement,Ne(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],X),X})(),fn=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["collapse","mode","translucent"]})],X),X})(),nn=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement,Ne(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],X),X})(),ft=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],X),X})(),Se=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["color","mode","position"]})],X),X})(),Qe=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],X),X})(),ei=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["color","size"]})],X),X})(),Qi=(()=>{var R;let X=((0,d.A)(R=class{constructor(x,C,O){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=O,x.detach(),this.el=C.nativeElement}},"\u0275fac",function(x){return new(x||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:He,decls:1,vars:0,template:function(x,C){1&x&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return X=(0,ae.Cg)([ot({inputs:["color","mode"]})],X),X})(),xo=(()=>{var R;class X extends ee.Rg{constructor(x,C,O,Ee,ke,it,nt,Ht){super(x,C,O,Ee,ke,it,nt,Ht),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=Ht}}return R=X,(0,d.A)(X,"\u0275fac",function(x){return new(x||R)(f.kS0("name"),f.kS0("tabs"),f.rXU(De.aZ),f.rXU(f.aKT),f.rXU(Be.Ix),f.rXU(f.SKi),f.rXU(Be.nX),f.rXU(R,12))}),(0,d.A)(X,"\u0275cmp",f.VBU({type:R,selectors:[["ion-router-outlet"]],viewQuery:function(x,C){if(1&x&&f.GBs(Pe,7,f.c1b),2&x){let O;f.mGM(O=f.lsd())&&(C.outletContent=O.first)}},features:[f.Vt3],ngContentSelectors:He,decls:3,vars:0,consts:[["outletContent",""]],template:function(x,C){1&x&&(f.NAR(),f.qex(0,null,0),f.SdG(2),f.bVm())},encapsulation:2})),X})(),Ao=(()=>{var R;class X extends ee.CE{}return R=X,(0,d.A)(X,"\u0275fac",(()=>{let le;return function(C){return(le||(le=f.xGo(R)))(C||R)}})()),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["","routerLink","",5,"a",5,"area"]],features:[f.Vt3]})),X})();const hs={provide:Z.cz,useExisting:(0,f.Rfq)(()=>er),multi:!0};let er=(()=>{var R;class X extends Z.zX{}return R=X,(0,d.A)(X,"\u0275fac",(()=>{let le;return function(C){return(le||(le=f.xGo(R)))(C||R)}})()),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,C){2&x&&f.BMQ("max",C._enabled?C.max:null)},features:[f.Jv_([hs]),f.Vt3]})),X})();const wr={provide:Z.cz,useExisting:(0,f.Rfq)(()=>Ia),multi:!0};let Ia=(()=>{var R;class X extends Z.VZ{}return R=X,(0,d.A)(X,"\u0275fac",(()=>{let le;return function(C){return(le||(le=f.xGo(R)))(C||R)}})()),(0,d.A)(X,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,C){2&x&&f.BMQ("min",C._enabled?C.min:null)},features:[f.Jv_([wr]),f.Vt3]})),X})(),Yo=(()=>{var R;class X extends ee.Kb{constructor(){super(et.m),(0,d.A)(this,"angularDelegate",(0,f.WQX)(ee.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return R=X,(0,d.A)(X,"\u0275fac",function(x){return new(x||R)}),(0,d.A)(X,"\u0275prov",f.jDH({token:R,factory:R.\u0275fac})),X})();class di extends ee.Kb{constructor(){super(et.c),(0,d.A)(this,"angularDelegate",(0,f.WQX)(ee.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(X){return super.create({...X,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const xr=(R,X,le)=>()=>{const x=X.defaultView;if(x&&typeof window<"u"){(0,Je.s)({...R,_zoneGate:O=>le.run(O)});const C="__zone_symbol__addEventListener"in X.body?"__zone_symbol__addEventListener":"addEventListener";return function Re(){var R=[];if(typeof window<"u"){var X=window;(!X.customElements||X.Element&&(!X.Element.prototype.closest||!X.Element.prototype.matches||!X.Element.prototype.remove||!X.Element.prototype.getRootNode))&&R.push(L.e(7278).then(L.t.bind(L,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||X.NodeList&&!X.NodeList.prototype.forEach||!X.fetch||!function(){try{var x=new URL("b","http://a");return x.pathname="c%20d","http://a/c%20d"===x.href&&x.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&R.push(L.e(9329).then(L.t.bind(L,7783,23)))}return Promise.all(R)}().then(()=>bt(x,{exclude:["ion-tabs"],syncQueue:!0,raf:ee.er,jmp:O=>le.runOutsideAngular(O),ael(O,Ee,ke,it){O[C](Ee,ke,it)},rel(O,Ee,ke,it){O.removeEventListener(Ee,ke,it)}}))}};let Vr=(()=>{var R;class X{static forRoot(x={}){return{ngModule:X,providers:[{provide:ee.sR,useValue:x},{provide:f.hnV,useFactory:xr,multi:!0,deps:[ee.sR,De.qQ,f.SKi]},ee.Yq,(0,ee.YV)()]}}}return R=X,(0,d.A)(X,"\u0275fac",function(x){return new(x||R)}),(0,d.A)(X,"\u0275mod",f.$C({type:R})),(0,d.A)(X,"\u0275inj",f.G2t({providers:[Yo,di],imports:[De.MD]})),X})()},7935:(vn,_t,L)=>{"use strict";L.d(_t,{A:()=>d.A});var d=L(3345);d.A.registerVersion("firebase","10.14.1","app-compat")},7955:(vn,_t,L)=>{"use strict";var d=L(467),f=L(3345),Z=L(7852),ee=L(1076),ae=L(8041),de=L(1635),De=L(1362);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Je=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ct=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new ee.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new ae.Vy("@firebase/auth");function pe(y,...h){vt.logLevel<=ae.$b.ERROR&&vt.error(`Auth (${Z.SDK_VERSION}): ${y}`,...h)}function ve(y,...h){throw He(y,...h)}function Re(y,...h){return He(y,...h)}function rt(y,h,g){const E=Object.assign(Object.assign({},ct()),{[h]:g});return new ee.FA("auth","Firebase",E).create(h,{appName:y.name})}function Ye(y){return rt(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bt(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&ve(y,"argument-error"),rt(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...h){if("string"!=typeof y){const g=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(g,...E)}return et.create(y,...h)}function Pe(y,h,...g){if(!y)throw He(h,...g)}function Lt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw pe(h),new Error(h)}function zt(y,h){y||Lt(h)}function cn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Jt(){return"http:"===wn()||"https:"===wn()}function wn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ie{constructor(h,g){this.shortDelay=h,this.longDelay=g,zt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,ee.jZ)()||(0,ee.lV)()}get(){return function kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Jt()||(0,ee.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(y,h){zt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Y{static initialize(h,g,E){this.fetchImpl=h,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xe=new Ie(3e4,6e4);function Ue(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Ne(y,h,g,E){return tt.apply(this,arguments)}function tt(){return(tt=(0,d.A)(function*(y,h,g,E,j={}){return ot(y,j,(0,d.A)(function*(){let ie={},We={};E&&("GET"===h?We=E:ie={body:JSON.stringify(E)});const Ct=(0,ee.Am)(Object.assign({key:y.config.apiKey},We)).slice(1),Qt=yield y._getAdditionalHeaders();Qt["Content-Type"]="application/json",y.languageCode&&(Qt["X-Firebase-Locale"]=y.languageCode);const An=Object.assign({method:h,headers:Qt},ie);return(0,ee.c1)()||(An.referrerPolicy="no-referrer"),Y.fetch()(an(y,y.config.apiHost,g,Ct),An)}))})).apply(this,arguments)}function ot(y,h,g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,d.A)(function*(y,h,g){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ae),h);try{const j=new kn(y),ie=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const We=yield ie.json();if("needConfirmation"in We)throw Ft(y,"account-exists-with-different-credential",We);if(ie.ok&&!("errorMessage"in We))return We;{const Ct=ie.ok?We.errorMessage:We.error.message,[Qt,An]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw Ft(y,"credential-already-in-use",We);if("EMAIL_EXISTS"===Qt)throw Ft(y,"email-already-in-use",We);if("USER_DISABLED"===Qt)throw Ft(y,"user-disabled",We);const $n=E[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw rt(y,$n,An);ve(y,$n)}}catch(j){if(j instanceof ee.g)throw j;ve(y,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function En(y,h,g,E){return lt.apply(this,arguments)}function lt(){return(lt=(0,d.A)(function*(y,h,g,E,j={}){const ie=yield Ne(y,h,g,E,j);return"mfaPendingCredential"in ie&&ve(y,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function an(y,h,g,E){const j=`${h}${g}?${E}`;return y.config.emulator?_e(y.config,j):`${y.config.apiScheme}://${j}`}function Cn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Re(this.auth,"network-request-failed")),Xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ft(y,h,g){const E={appName:y.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const j=Re(y,h,E);return j.customData._tokenResponse=g,j}function Kt(y){return void 0!==y&&void 0!==y.getResponse}function Nn(y){return void 0!==y&&void 0!==y.enterprise}class qt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return Cn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Oe(){return(Oe=(0,d.A)(function*(y){return(yield Ne(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pt(y,h){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.A)(function*(y,h){return Ne(y,"GET","/v2/recaptchaConfig",Ue(y,h))})).apply(this,arguments)}function Kn(){return(Kn=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function gn(){return(gn=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zn(y,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Gn(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Xr(){return(Xr=(0,d.A)(function*(y,h=!1){const g=(0,ee.Ku)(y),E=yield g.getIdToken(h),j=Ur(E);Pe(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const ie="object"==typeof j.firebase?j.firebase:void 0,We=null==ie?void 0:ie.sign_in_provider;return{claims:j,token:E,authTime:Gn(_n(j.auth_time)),issuedAtTime:Gn(_n(j.iat)),expirationTime:Gn(_n(j.exp)),signInProvider:We||null,signInSecondFactor:(null==ie?void 0:ie.sign_in_second_factor)||null}})).apply(this,arguments)}function _n(y){return 1e3*Number(y)}function Ur(y){const[h,g,E]=y.split(".");if(void 0===h||void 0===g||void 0===E)return pe("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,ee.u)(g);return j?JSON.parse(j):(pe("Failed to decode base64 JWT payload"),null)}catch(j){return pe("Caught error parsing JWT payload as JSON",null==j?void 0:j.toString()),null}}function Yn(y){const h=Ur(y);return Pe(h,"internal-error"),Pe(typeof h.exp<"u","internal-error"),Pe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function ar(y,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.A)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(E){throw E instanceof ee.g&&function ci({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}class Ln{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,d.A)(function*(){yield g.iteration()}),E)}iteration(){var h=this;return(0,d.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class ir{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(y){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.A)(function*(y){var h;const g=y.auth,E=yield y.getIdToken(),j=yield ar(y,Zn(g,{idToken:E}));Pe(null==j?void 0:j.users.length,g,"internal-error");const ie=j.users[0];y._notifyReloadListener(ie);const We=null!==(h=ie.providerUserInfo)&&void 0!==h&&h.length?st(ie.providerUserInfo):[],Ct=function Ot(y,h){return[...y.filter(E=>!h.some(j=>j.providerId===E.providerId)),...h]}(y.providerData,We),$n=!!y.isAnonymous&&!(y.email&&ie.passwordHash||null!=Ct&&Ct.length),On={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:Ct,metadata:new ir(ie.createdAt,ie.lastLoginAt),isAnonymous:$n};Object.assign(y,On)})).apply(this,arguments)}function ft(){return(ft=(0,d.A)(function*(y){const h=(0,ee.Ku)(y);yield sr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function st(y){return y.map(h=>{var{providerId:g}=h,E=(0,de.Tt)(h,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function en(){return(en=(0,d.A)(function*(y,h){const g=yield ot(y,{},(0,d.A)(function*(){const E=(0,ee.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:ie}=y.config,We=an(y,j,"/v1/token",`key=${ie}`),Ct=yield y._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",Y.fetch()(We,{method:"POST",headers:Ct,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Se(){return(Se=(0,d.A)(function*(y,h){return Ne(y,"POST","/v2/accounts:revokeToken",Ue(y,h))})).apply(this,arguments)}class Qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Pe(h.idToken,"internal-error"),Pe(typeof h.idToken<"u","internal-error"),Pe(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Yn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){Pe(0!==h.length,"internal-error");const g=Yn(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var E=this;return(0,d.A)(function*(){return g||!E.accessToken||E.isExpired?(Pe(E.refreshToken,h,"user-token-expired"),E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null):E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var E=this;return(0,d.A)(function*(){const{accessToken:j,refreshToken:ie,expiresIn:We}=yield function ut(y,h){return en.apply(this,arguments)}(h,g);E.updateTokensAndExpiration(j,ie,Number(We))})()}updateTokensAndExpiration(h,g,E){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,g){const{refreshToken:E,accessToken:j,expirationTime:ie}=g,We=new Qe;return E&&(Pe("string"==typeof E,"internal-error",{appName:h}),We.refreshToken=E),j&&(Pe("string"==typeof j,"internal-error",{appName:h}),We.accessToken=j),ie&&(Pe("number"==typeof ie,"internal-error",{appName:h}),We.expirationTime=ie),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Qe,this.toJSON())}_performRefresh(){return Lt("not implemented")}}function St(y,h){Pe("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class mt{constructor(h){var{uid:g,auth:E,stsTokenManager:j}=h,ie=(0,de.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new ir(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,d.A)(function*(){const E=yield ar(g,g.stsTokenManager.getToken(g.auth,h));return Pe(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(h){return function br(y){return Xr.apply(this,arguments)}(this,h)}reload(){return function Nt(y){return ft.apply(this,arguments)}(this)}_assign(h){this!==h&&(Pe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new mt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var E=this;return(0,d.A)(function*(){let j=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),j=!0),g&&(yield sr(E)),yield E.auth._persistUserIfCurrent(E),j&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,d.A)(function*(){if((0,Z._isFirebaseServerApp)(h.auth.app))return Promise.reject(Ye(h.auth));const g=yield h.getIdToken();return yield ar(h,function jn(y,h){return Kn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var E,j,ie,We,Ct,Qt,An,$n;const On=null!==(E=g.displayName)&&void 0!==E?E:void 0,Wi=null!==(j=g.email)&&void 0!==j?j:void 0,ga=null!==(ie=g.phoneNumber)&&void 0!==ie?ie:void 0,ku=null!==(We=g.photoURL)&&void 0!==We?We:void 0,Pd=null!==(Ct=g.tenantId)&&void 0!==Ct?Ct:void 0,Fs=null!==(Qt=g._redirectEventId)&&void 0!==Qt?Qt:void 0,Nd=null!==(An=g.createdAt)&&void 0!==An?An:void 0,Lc=null!==($n=g.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:ip,emailVerified:Jg,isAnonymous:Gh,providerData:xd,stsTokenManager:op}=g;Pe(ip&&op,h,"internal-error");const Wh=Qe.fromJSON(this.name,op);Pe("string"==typeof ip,h,"internal-error"),St(On,h.name),St(Wi,h.name),Pe("boolean"==typeof Jg,h,"internal-error"),Pe("boolean"==typeof Gh,h,"internal-error"),St(ga,h.name),St(ku,h.name),St(Pd,h.name),St(Fs,h.name),St(Nd,h.name),St(Lc,h.name);const Pl=new mt({uid:ip,auth:h,email:Wi,emailVerified:Jg,displayName:On,isAnonymous:Gh,photoURL:ku,phoneNumber:ga,tenantId:Pd,stsTokenManager:Wh,createdAt:Nd,lastLoginAt:Lc});return xd&&Array.isArray(xd)&&(Pl.providerData=xd.map(Fu=>Object.assign({},Fu))),Fs&&(Pl._redirectEventId=Fs),Pl}static _fromIdTokenResponse(h,g,E=!1){return(0,d.A)(function*(){const j=new Qe;j.updateFromServerResponse(g);const ie=new mt({uid:g.localId,auth:h,stsTokenManager:j,isAnonymous:E});return yield sr(ie),ie})()}static _fromGetAccountInfoResponse(h,g,E){return(0,d.A)(function*(){const j=g.users[0];Pe(void 0!==j.localId,"internal-error");const ie=void 0!==j.providerUserInfo?st(j.providerUserInfo):[],We=!(j.email&&j.passwordHash||null!=ie&&ie.length),Ct=new Qe;Ct.updateFromIdToken(E);const Qt=new mt({uid:j.localId,auth:h,stsTokenManager:Ct,isAnonymous:We}),An={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:ie,metadata:new ir(j.createdAt,j.lastLoginAt),isAnonymous:!(j.email&&j.passwordHash||null!=ie&&ie.length)};return Object.assign(Qt,An),Qt})()}}const yn=new Map;function Dn(y){zt(y instanceof Function,"Expected a class definition");let h=yn.get(y);return h?(zt(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,yn.set(y,h),h)}const Hr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(g,E){var j=this;return(0,d.A)(function*(){j.storage[g]=E})()}_get(g){var E=this;return(0,d.A)(function*(){const j=E.storage[g];return void 0===j?null:j})()}_remove(g){var E=this;return(0,d.A)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return y.type="NONE",y})();function at(y,h,g){return`firebase:${y}:${h}:${g}`}class mr{constructor(h,g,E){this.persistence=h,this.auth=g,this.userKey=E;const{config:j,name:ie}=this.auth;this.fullUserKey=at(this.userKey,j.apiKey,ie),this.fullPersistenceKey=at("persistence",j.apiKey,ie),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?mt._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,d.A)(function*(){if(g.persistence===h)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,E="authUser"){return(0,d.A)(function*(){if(!g.length)return new mr(Dn(Hr),h,E);const j=(yield Promise.all(g.map(function(){var An=(0,d.A)(function*($n){if(yield $n._isAvailable())return $n});return function($n){return An.apply(this,arguments)}}()))).filter(An=>An);let ie=j[0]||Dn(Hr);const We=at(E,h.config.apiKey,h.name);let Ct=null;for(const An of g)try{const $n=yield An._get(We);if($n){const On=mt._fromJSON(h,$n);An!==ie&&(Ct=On),ie=An;break}}catch{}const Qt=j.filter(An=>An._shouldAllowMigration);return ie._shouldAllowMigration&&Qt.length?(ie=Qt[0],Ct&&(yield ie._set(We,Ct.toJSON())),yield Promise.all(g.map(function(){var An=(0,d.A)(function*($n){if($n!==ie)try{yield $n._remove(We)}catch{}});return function($n){return An.apply(this,arguments)}}())),new mr(ie,h,E)):new mr(ie,h,E)})()}}function xn(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ri(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(zr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ui(h))return"Blackberry";if(no(h))return"Webos";if(Br(h))return"Safari";if((h.includes("chrome/")||Pn(h))&&!h.includes("edge/"))return"Chrome";if(Si(h))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function zr(y=(0,ee.ZQ)()){return/firefox\//i.test(y)}function Br(y=(0,ee.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Pn(y=(0,ee.ZQ)()){return/crios\//i.test(y)}function ri(y=(0,ee.ZQ)()){return/iemobile/i.test(y)}function Si(y=(0,ee.ZQ)()){return/android/i.test(y)}function ui(y=(0,ee.ZQ)()){return/blackberry/i.test(y)}function no(y=(0,ee.ZQ)()){return/webos/i.test(y)}function Ri(y=(0,ee.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function he(y=(0,ee.ZQ)()){return Ri(y)||Si(y)||no(y)||ui(y)||/windows phone/i.test(y)||ri(y)}function K(y,h=[]){let g;switch(y){case"Browser":g=xn((0,ee.ZQ)());break;case"Worker":g=`${xn((0,ee.ZQ)())}-${y}`;break;default:g=y}const E=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${Z.SDK_VERSION}/${E}`}class Q{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const E=ie=>new Promise((We,Ct)=>{try{We(h(ie))}catch(Qt){Ct(Qt)}});E.onAbort=g,this.queue.push(E);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,d.A)(function*(){if(g.auth.currentUser===h)return;const E=[];try{for(const j of g.queue)yield j(h),j.onAbort&&E.push(j.onAbort)}catch(j){E.reverse();for(const ie of E)try{ie()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==j?void 0:j.message})}})()}}function gt(){return(gt=(0,d.A)(function*(y,h={}){return Ne(y,"GET","/v2/passwordPolicy",Ue(y,h))})).apply(this,arguments)}class tn{constructor(h){var g,E,j,ie;const We=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=We.minPasswordLength)&&void 0!==g?g:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(j=null===(E=h.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==j?j:"",this.forceUpgradeOnSignin=null!==(ie=h.forceUpgradeOnSignin)&&void 0!==ie&&ie,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,E,j,ie,We,Ct;const Qt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Qt),this.validatePasswordCharacterOptions(h,Qt),Qt.isValid&&(Qt.isValid=null===(g=Qt.meetsMinPasswordLength)||void 0===g||g),Qt.isValid&&(Qt.isValid=null===(E=Qt.meetsMaxPasswordLength)||void 0===E||E),Qt.isValid&&(Qt.isValid=null===(j=Qt.containsLowercaseLetter)||void 0===j||j),Qt.isValid&&(Qt.isValid=null===(ie=Qt.containsUppercaseLetter)||void 0===ie||ie),Qt.isValid&&(Qt.isValid=null===(We=Qt.containsNumericCharacter)||void 0===We||We),Qt.isValid&&(Qt.isValid=null===(Ct=Qt.containsNonAlphanumericCharacter)||void 0===Ct||Ct),Qt}validatePasswordLengthOptions(h,g){const E=this.customStrengthOptions.minPasswordLength,j=this.customStrengthOptions.maxPasswordLength;E&&(g.meetsMinPasswordLength=h.length>=E),j&&(g.meetsMaxPasswordLength=h.length<=j)}validatePasswordCharacterOptions(h,g){let E;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let j=0;j<h.length;j++)E=h.charAt(j),this.updatePasswordCharacterOptionsStatuses(g,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(h,g,E,j,ie){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=j)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ie))}}class Un{constructor(h,g,E,j){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=E,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fn(this),this.idTokenSubscription=new Fn(this),this.beforeStateQueue=new Q(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(h,g){var E=this;return g&&(this._popupRedirectResolver=Dn(g)),this._initializationPromise=this.queue((0,d.A)(function*(){var j,ie;if(!E._deleted&&(E.persistenceManager=yield mr.create(E,h),!E._deleted)){if(null!==(j=E._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(ie=E.currentUser)||void 0===ie?void 0:ie.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,d.A)(function*(){try{const E=yield Zn(g,{idToken:h}),j=yield mt._fromGetAccountInfoResponse(g,E,h);yield g.directlySetCurrentUser(j)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,d.A)(function*(){var E;if((0,Z._isFirebaseServerApp)(g.app)){const Ct=g.app.settings.authIdToken;return Ct?new Promise(Qt=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(Ct).then(Qt,Qt))}):g.directlySetCurrentUser(null)}const j=yield g.assertedPersistence.getCurrentUser();let ie=j,We=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ct=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,Qt=null==ie?void 0:ie._redirectEventId,An=yield g.tryRedirectSignIn(h);(!Ct||Ct===Qt)&&null!=An&&An.user&&(ie=An.user,We=!0)}if(!ie)return g.directlySetCurrentUser(null);if(!ie._redirectEventId){if(We)try{yield g.beforeStateQueue.runMiddleware(ie)}catch(Ct){ie=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ct))}return ie?g.reloadAndSetCurrentUserOrClear(ie):g.directlySetCurrentUser(null)}return Pe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ie._redirectEventId?g.directlySetCurrentUser(ie):g.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(h){var g=this;return(0,d.A)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,d.A)(function*(){try{yield sr(h)}catch(E){if("auth/network-request-failed"!==(null==E?void 0:E.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Te(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,d.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,d.A)(function*(){if((0,Z._isFirebaseServerApp)(g.app))return Promise.reject(Ye(g));const E=h?(0,ee.Ku)(h):null;return E&&Pe(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(h,g=!1){var E=this;return(0,d.A)(function*(){if(!E._deleted)return h&&Pe(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),g||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,d.A)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.A)(function*(){return(0,Z._isFirebaseServerApp)(h.app)?Promise.reject(Ye(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,Z._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,d.A)(function*(){yield g.assertedPersistence.setPersistence(Dn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,d.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const E=g._getPasswordPolicyInternal();return E.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,d.A)(function*(){const g=yield function me(y){return gt.apply(this,arguments)}(h),E=new tn(g);null===h.tenantId?h._projectPasswordPolicy=E:h._tenantPasswordPolicies[h.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ee.FA("auth","Firebase",h())}onAuthStateChanged(h,g,E){return this.registerStateListener(this.authStateSubscription,h,g,E)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,E){return this.registerStateListener(this.idTokenSubscription,h,g,E)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const E=this.onAuthStateChanged(()=>{E(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,d.A)(function*(){if(g.currentUser){const E=yield g.currentUser.getIdToken(),j={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:E};null!=g.tenantId&&(j.tenantId=g.tenantId),yield function ye(y,h){return Se.apply(this,arguments)}(g,j)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var E=this;return(0,d.A)(function*(){const j=yield E.getOrInitRedirectPersistenceManager(g);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,d.A)(function*(){if(!g.redirectPersistenceManager){const E=h&&Dn(h)||g._popupRedirectResolver;Pe(E,g,"argument-error"),g.redirectPersistenceManager=yield mr.create(g,[Dn(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,d.A)(function*(){var E,j;return g._isInitialized&&(yield g.queue((0,d.A)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===h?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,d.A)(function*(){if(h===g.currentUser)return g.queue((0,d.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,E,j){if(this._deleted)return()=>{};const ie="function"==typeof g?g:g.next.bind(g);let We=!1;const Ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(Ct,this,"internal-error"),Ct.then(()=>{We||ie(this.currentUser)}),"function"==typeof g){const Qt=h.addObserver(g,E,j);return()=>{We=!0,Qt()}}{const Qt=h.addObserver(g);return()=>{We=!0,Qt()}}}directlySetCurrentUser(h){var g=this;return(0,d.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=K(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.A)(function*(){var g;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();j&&(E["X-Firebase-Client"]=j);const ie=yield h._getAppCheckToken();return ie&&(E["X-Firebase-AppCheck"]=ie),E})()}_getAppCheckToken(){var h=this;return(0,d.A)(function*(){var g;const E=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=E&&E.error&&function ht(y,...h){vt.logLevel<=ae.$b.WARN&&vt.warn(`Auth (${Z.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${E.error}`),null==E?void 0:E.token})()}}function Sn(y){return(0,ee.Ku)(y)}class Fn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ee.tD)(g=>this.observer=g)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jr={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ii(y){return Jr.loadJS(y)}function co(y){return`__${y}${Math.floor(1e6*Math.random())}`}class xo{constructor(h){this.type="recaptcha-enterprise",this.auth=Sn(h)}verify(h="verify",g=!1){var E=this;return(0,d.A)(function*(){function ie(){return ie=(0,d.A)(function*(Ct){if(!g){if(null==Ct.tenantId&&null!=Ct._agentRecaptchaConfig)return Ct._agentRecaptchaConfig.siteKey;if(null!=Ct.tenantId&&void 0!==Ct._tenantRecaptchaConfigs[Ct.tenantId])return Ct._tenantRecaptchaConfigs[Ct.tenantId].siteKey}return new Promise(function(){var Qt=(0,d.A)(function*(An,$n){Pt(Ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(On=>{if(void 0!==On.recaptchaKey){const Wi=new qt(On);return null==Ct.tenantId?Ct._agentRecaptchaConfig=Wi:Ct._tenantRecaptchaConfigs[Ct.tenantId]=Wi,An(Wi.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(On=>{$n(On)})});return function(An,$n){return Qt.apply(this,arguments)}}())}),ie.apply(this,arguments)}function We(Ct,Qt,An){const $n=window.grecaptcha;Nn($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(Ct,{action:h}).then(On=>{Qt(On)}).catch(()=>{Qt("NO_RECAPTCHA")})}):An(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ct,Qt)=>{(function j(Ct){return ie.apply(this,arguments)})(E.auth).then(An=>{if(!g&&Nn(window.grecaptcha))We(An,Ct,Qt);else{if(typeof window>"u")return void Qt(new Error("RecaptchaVerifier is only supported in browser"));let $n=function Xi(){return Jr.recaptchaEnterpriseScript}();0!==$n.length&&($n+=An),ii($n).then(()=>{We(An,Ct,Qt)}).catch(On=>{Qt(On)})}}).catch(An=>{Qt(An)})})})()}}function Xo(y,h,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.A)(function*(y,h,g,E=!1){const j=new xo(y);let ie;try{ie=yield j.verify(g)}catch{ie=yield j.verify(g,!0)}const We=Object.assign({},h);return Object.assign(We,E?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function Eo(y,h,g,E){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,d.A)(function*(y,h,g,E){var j;if(null!==(j=y._getRecaptchaConfig())&&void 0!==j&&j.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ie=yield Xo(y,h,g,"getOobCode"===g);return E(y,ie)}return E(y,h).catch(function(){var ie=(0,d.A)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ct=yield Xo(y,h,g,"getOobCode"===g);return E(y,Ct)}return Promise.reject(We)});return function(We){return ie.apply(this,arguments)}}())}),Ao.apply(this,arguments)}function wr(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Ms(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class oi{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Lt("not implemented")}_getIdTokenResponse(h){return Lt("not implemented")}_linkToIdToken(h,g){return Lt("not implemented")}_getReauthenticationResolver(h){return Lt("not implemented")}}function Ea(y,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:resetPassword",Ue(y,h))})).apply(this,arguments)}function Yo(){return(Yo=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qr(y,h){return di.apply(this,arguments)}function di(){return(di=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function xr(){return(xr=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:update",Ue(y,h))})).apply(this,arguments)}function Ps(y,h){return io.apply(this,arguments)}function io(){return(io=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signInWithPassword",Ue(y,h))})).apply(this,arguments)}function Vr(y,h){return R.apply(this,arguments)}function R(){return(R=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:sendOobCode",Ue(y,h))})).apply(this,arguments)}function le(){return(le=(0,d.A)(function*(y,h){return Vr(y,h)})).apply(this,arguments)}function x(y,h){return C.apply(this,arguments)}function C(){return(C=(0,d.A)(function*(y,h){return Vr(y,h)})).apply(this,arguments)}function O(y,h){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,d.A)(function*(y,h){return Vr(y,h)})).apply(this,arguments)}function it(){return(it=(0,d.A)(function*(y,h){return Vr(y,h)})).apply(this,arguments)}function Ht(){return(Ht=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signInWithEmailLink",Ue(y,h))})).apply(this,arguments)}function jt(){return(jt=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signInWithEmailLink",Ue(y,h))})).apply(this,arguments)}class Zt extends oi{constructor(h,g,E,j=null){super("password",E),this._email=h,this._password=g,this._tenantId=j}static _fromEmailAndPassword(h,g){return new Zt(h,g,"password")}static _fromEmailAndCode(h,g,E=null){return new Zt(h,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,d.A)(function*(){switch(g.signInMethod){case"password":return Eo(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ps);case"emailLink":return function nt(y,h){return Ht.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ve(h,"internal-error")}})()}_linkToIdToken(h,g){var E=this;return(0,d.A)(function*(){switch(E.signInMethod){case"password":return Eo(h,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qr);case"emailLink":return function It(y,h){return jt.apply(this,arguments)}(h,{idToken:g,email:E._email,oobCode:E._password});default:ve(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function dn(y,h){return In.apply(this,arguments)}function In(){return(In=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signInWithIdp",Ue(y,h))})).apply(this,arguments)}class Mn extends oi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Mn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:j}=g,ie=(0,de.Tt)(g,["providerId","signInMethod"]);if(!E||!j)return null;const We=new Mn(E,j);return We.idToken=ie.idToken||void 0,We.accessToken=ie.accessToken||void 0,We.secret=ie.secret,We.nonce=ie.nonce,We.pendingToken=ie.pendingToken||null,We}_getIdTokenResponse(h){return dn(h,this.buildRequest())}_linkToIdToken(h,g){const E=this.buildRequest();return E.idToken=g,dn(h,E)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,dn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,ee.Am)(g)}return h}}function Wr(){return(Wr=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:sendVerificationCode",Ue(y,h))})).apply(this,arguments)}function $r(){return($r=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signInWithPhoneNumber",Ue(y,h))})).apply(this,arguments)}function Ci(){return(Ci=(0,d.A)(function*(y,h){const g=yield En(y,"POST","/v1/accounts:signInWithPhoneNumber",Ue(y,h));if(g.temporaryProof)throw Ft(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Yi={USER_NOT_FOUND:"user-not-found"};function go(){return(go=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signInWithPhoneNumber",Ue(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Yi)})).apply(this,arguments)}class oo extends oi{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new oo({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new oo({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function ti(y,h){return $r.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function ni(y,h){return Ci.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Oi(y,h){return go.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:E,verificationCode:j}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:E,code:j}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:E,phoneNumber:j,temporaryProof:ie}=h;return E||g||j||ie?new oo({verificationId:g,verificationCode:E,phoneNumber:j,temporaryProof:ie}):null}}class ho{constructor(h){var g,E,j,ie,We,Ct;const Qt=(0,ee.I9)((0,ee.hp)(h)),An=null!==(g=Qt.apiKey)&&void 0!==g?g:null,$n=null!==(E=Qt.oobCode)&&void 0!==E?E:null,On=function fs(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Qt.mode)&&void 0!==j?j:null);Pe(An&&$n&&On,"argument-error"),this.apiKey=An,this.operation=On,this.code=$n,this.continueUrl=null!==(ie=Qt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(We=Qt.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(Ct=Qt.tenantId)&&void 0!==Ct?Ct:null}static parseLink(h){const g=function Zo(y){const h=(0,ee.I9)((0,ee.hp)(y)).link,g=h?(0,ee.I9)((0,ee.hp)(h)).deep_link_id:null,E=(0,ee.I9)((0,ee.hp)(y)).deep_link_id;return(E?(0,ee.I9)((0,ee.hp)(E)).link:null)||E||g||h||y}(h);try{return new ho(g)}catch{return null}}}let oa=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,E){return Zt._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const j=ho.parseLink(E);return Pe(j,"argument-error"),Zt._fromEmailAndCode(g,j.code,j.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class es{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ni extends es{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Oo extends Ni{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Pe("providerId"in g&&"signInMethod"in g,"argument-error"),Mn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Pe(h.idToken||h.accessToken,"argument-error"),Mn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Oo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Oo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:j,pendingToken:ie,nonce:We,providerId:Ct}=h;if(!E&&!j&&!g&&!ie||!Ct)return null;try{return new Oo(Ct)._credential({idToken:g,accessToken:E,nonce:We,pendingToken:ie})}catch{return null}}}let ps=(()=>{class y extends Ni{constructor(){super("facebook.com")}static credential(g){return Mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Zi=(()=>{class y extends Ni{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return Mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:j}=g;if(!E&&!j)return null;try{return y.credential(E,j)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ns=(()=>{class y extends Ni{constructor(){super("github.com")}static credential(g){return Mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class hr extends oi{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return dn(h,this.buildRequest())}_linkToIdToken(h,g){const E=this.buildRequest();return E.idToken=g,dn(h,E)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,dn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:j,pendingToken:ie}=g;return E&&j&&ie&&E===j?new hr(E,ie):null}static _create(h,g){return new hr(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ko extends es{constructor(h){Pe(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ko.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ko.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=hr.fromJSON(h);return Pe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:E}=h;if(!g||!E)return null;try{return hr._create(E,g)}catch{return null}}}let vo=(()=>{class y extends Ni{constructor(){super("twitter.com")}static credential(g,E){return Mn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:j}=g;if(!E||!j)return null;try{return y.credential(E,j)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function sa(y,h){return gs.apply(this,arguments)}function gs(){return(gs=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signUp",Ue(y,h))})).apply(this,arguments)}class qn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,E,j=!1){return(0,d.A)(function*(){const ie=yield mt._fromIdTokenResponse(h,E,j),We=Ar(E);return new qn({user:ie,providerId:We,_tokenResponse:E,operationType:g})})()}static _forOperation(h,g,E){return(0,d.A)(function*(){yield h._updateTokensIfNecessary(E,!0);const j=Ar(E);return new qn({user:h,providerId:j,_tokenResponse:E,operationType:g})})()}}function Ar(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ls(){return(Ls=(0,d.A)(function*(y){var h;if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const g=Sn(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new qn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield sa(g,{returnSecureToken:!0}),j=yield qn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Us extends ee.g{constructor(h,g,E,j){var ie;super(g.code,g.message),this.operationType=E,this.user=j,Object.setPrototypeOf(this,Us.prototype),this.customData={appName:h.name,tenantId:null!==(ie=h.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,g,E,j){return new Us(h,g,E,j)}}function Ca(y,h,g,E){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?Us._fromErrorAndOperation(y,ie,h,E):ie})}function xs(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function aa(){return aa=(0,d.A)(function*(y,h){const g=(0,ee.Ku)(y);yield cl(!0,g,h);const{providerUserInfo:E}=yield function Tn(y,h){return gn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),j=xs(E||[]);return g.providerData=g.providerData.filter(ie=>j.has(ie.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),aa.apply(this,arguments)}function Kr(y,h){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.A)(function*(y,h,g=!1){const E=yield ar(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return qn._forOperation(y,"link",E)})).apply(this,arguments)}function cl(y,h,g){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.A)(function*(y,h,g){yield sr(h);const j=!1===y?"provider-already-linked":"no-such-provider";Pe(xs(h.providerData).has(g)===y,h.auth,j)})).apply(this,arguments)}function Co(y,h){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.A)(function*(y,h,g=!1){const{auth:E}=y;if((0,Z._isFirebaseServerApp)(E.app))return Promise.reject(Ye(E));const j="reauthenticate";try{const ie=yield ar(y,Ca(E,j,h,y),g);Pe(ie.idToken,E,"internal-error");const We=Ur(ie.idToken);Pe(We,E,"internal-error");const{sub:Ct}=We;return Pe(y.uid===Ct,E,"user-mismatch"),qn._forOperation(y,j,ie)}catch(ie){throw"auth/user-not-found"===(null==ie?void 0:ie.code)&&ve(E,"user-mismatch"),ie}})).apply(this,arguments)}function hl(y,h){return H.apply(this,arguments)}function H(){return(H=(0,d.A)(function*(y,h,g=!1){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E="signIn",j=yield Ca(y,E,h),ie=yield qn._fromIdTokenResponse(y,E,j);return g||(yield y._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function M(y,h){return J.apply(this,arguments)}function J(){return(J=(0,d.A)(function*(y,h){return hl(Sn(y),h)})).apply(this,arguments)}function $(y,h){return fe.apply(this,arguments)}function fe(){return(fe=(0,d.A)(function*(y,h){const g=(0,ee.Ku)(y);return yield cl(!1,g,h.providerId),Kr(g,h)})).apply(this,arguments)}function rn(y,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.A)(function*(y,h){return Co((0,ee.Ku)(y),h)})).apply(this,arguments)}function Ii(){return(Ii=(0,d.A)(function*(y,h){return En(y,"POST","/v1/accounts:signInWithCustomToken",Ue(y,h))})).apply(this,arguments)}function Ji(){return Ji=(0,d.A)(function*(y,h){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const g=Sn(y),E=yield function ai(y,h){return Ii.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),j=yield qn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(j.user),j}),Ji.apply(this,arguments)}class ts{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Fo._fromServerResponse(h,g):"totpInfo"in g?Ta._fromServerResponse(h,g):ve(h,"internal-error")}}class Fo extends ts{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Fo(g)}}class Ta extends ts{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Ta(g)}}function Bs(y,h,g){var E;Pe((null===(E=g.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Pe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Pe(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Pe(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function vr(y){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.A)(function*(y){const h=Sn(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function To(){return(To=(0,d.A)(function*(y,h,g){const E=Sn(y),j={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&Bs(E,j,g),yield Eo(E,j,"getOobCode",x)})).apply(this,arguments)}function la(){return la=(0,d.A)(function*(y,h,g){yield Ea((0,ee.Ku)(y),{oobCode:h,newPassword:g}).catch(function(){var E=(0,d.A)(function*(j){throw"auth/password-does-not-meet-requirements"===j.code&&vr(y),j});return function(j){return E.apply(this,arguments)}}())}),la.apply(this,arguments)}function Vo(){return Vo=(0,d.A)(function*(y,h){yield function gi(y,h){return xr.apply(this,arguments)}((0,ee.Ku)(y),{oobCode:h})}),Vo.apply(this,arguments)}function Os(y,h){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.A)(function*(y,h){const g=(0,ee.Ku)(y),E=yield Ea(g,{oobCode:h}),j=E.requestType;switch(Pe(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(E.mfaInfo,g,"internal-error");default:Pe(E.email,g,"internal-error")}let ie=null;return E.mfaInfo&&(ie=ts._fromServerResponse(Sn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ie},operation:j}})).apply(this,arguments)}function Ul(){return(Ul=(0,d.A)(function*(y,h){const{data:g}=yield Os((0,ee.Ku)(y),h);return g.email})).apply(this,arguments)}function ns(){return(ns=(0,d.A)(function*(y,h,g){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Sn(y),We=yield Eo(E,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sa).catch(Qt=>{throw"auth/password-does-not-meet-requirements"===Qt.code&&vr(y),Qt}),Ct=yield qn._fromIdTokenResponse(E,"signIn",We);return yield E._updateCurrentUser(Ct.user),Ct})).apply(this,arguments)}function ca(){return(ca=(0,d.A)(function*(y,h,g){const E=Sn(y),j={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ie(We,Ct){Pe(Ct.handleCodeInApp,E,"argument-error"),Ct&&Bs(E,We,Ct)})(j,g),yield Eo(E,j,"getOobCode",O)})).apply(this,arguments)}function Do(){return(Do=(0,d.A)(function*(y,h,g){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=(0,ee.Ku)(y),j=oa.credentialWithLink(h,g||cn());return Pe(j._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),M(E,j)})).apply(this,arguments)}function Uo(){return(Uo=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:createAuthUri",Ue(y,h))})).apply(this,arguments)}function za(){return za=(0,d.A)(function*(y,h){const E={identifier:h,continueUri:Jt()?cn():"http://localhost"},{signinMethods:j}=yield function $l(y,h){return Uo.apply(this,arguments)}((0,ee.Ku)(y),E);return j||[]}),za.apply(this,arguments)}function _u(){return _u=(0,d.A)(function*(y,h){const g=(0,ee.Ku)(y),j={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Bs(g.auth,j,h);const{email:ie}=yield function X(y,h){return le.apply(this,arguments)}(g.auth,j);ie!==y.email&&(yield y.reload())}),_u.apply(this,arguments)}function $s(){return $s=(0,d.A)(function*(y,h,g){const E=(0,ee.Ku)(y),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&Bs(E.auth,ie,g);const{email:We}=yield function ke(y,h){return it.apply(this,arguments)}(E.auth,ie);We!==y.email&&(yield y.reload())}),$s.apply(this,arguments)}function bo(){return(bo=(0,d.A)(function*(y,h){return Ne(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gl(){return gl=(0,d.A)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const E=(0,ee.Ku)(y),ie={idToken:yield E.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},We=yield ar(E,function Bo(y,h){return bo.apply(this,arguments)}(E.auth,ie));E.displayName=We.displayName||null,E.photoURL=We.photoUrl||null;const Ct=E.providerData.find(({providerId:Qt})=>"password"===Qt);Ct&&(Ct.displayName=E.displayName,Ct.photoURL=E.photoURL),yield E._updateTokensIfNecessary(We)}),gl.apply(this,arguments)}function rs(y,h,g){return is.apply(this,arguments)}function is(){return is=(0,d.A)(function*(y,h,g){const{auth:E}=y,ie={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(ie.email=h),g&&(ie.password=g);const We=yield ar(y,function Sr(y,h){return Yo.apply(this,arguments)}(E,ie));yield y._updateTokensIfNecessary(We,!0)}),is.apply(this,arguments)}class fo{constructor(h,g,E={}){this.isNewUser=h,this.providerId=g,this.profile=E}}class js extends fo{constructor(h,g,E,j){super(h,g,E),this.username=j}}class Sa extends fo{constructor(h,g){super(h,"facebook.com",g)}}class jl extends js{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class D extends fo{constructor(h,g){super(h,"google.com",g)}}class B extends js{constructor(h,g,E){super(h,"twitter.com",g,E)}}function be(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function yu(y){var h,g;if(!y)return null;const{providerId:E}=y,j=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ie=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&null!=y&&y.idToken){const We=null===(g=null===(h=Ur(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(We)return new fo(ie,"anonymous"!==We&&"custom"!==We?We:null)}if(!E)return null;switch(E){case"facebook.com":return new Sa(ie,j);case"github.com":return new jl(ie,j);case"google.com":return new D(ie,j);case"twitter.com":return new B(ie,j,y.screenName||null);case"custom":case"anonymous":return new fo(ie,null);default:return new fo(ie,E,j)}}(g)}class Pr{constructor(h,g,E){this.type=h,this.credential=g,this.user=E}static _fromIdtoken(h,g){return new Pr("enroll",h,g)}static _fromMfaPendingCredential(h){return new Pr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,E;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Pr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(E=h.multiFactorSession)&&void 0!==E&&E.idToken)return Pr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class un{constructor(h,g,E){this.session=h,this.hints=g,this.signInResolver=E}static _fromError(h,g){const E=Sn(h),j=g.customData._serverResponse,ie=(j.mfaInfo||[]).map(Ct=>ts._fromServerResponse(E,Ct));Pe(j.mfaPendingCredential,E,"internal-error");const We=Pr._fromMfaPendingCredential(j.mfaPendingCredential);return new un(We,ie,function(){var Ct=(0,d.A)(function*(Qt){const An=yield Qt._process(E,We);delete j.mfaInfo,delete j.mfaPendingCredential;const $n=Object.assign(Object.assign({},j),{idToken:An.idToken,refreshToken:An.refreshToken});switch(g.operationType){case"signIn":const On=yield qn._fromIdTokenResponse(E,g.operationType,$n);return yield E._updateCurrentUser(On.user),On;case"reauthenticate":return Pe(g.user,E,"internal-error"),qn._forOperation(g.user,g.operationType,$n);default:ve(E,"internal-error")}});return function(Qt){return Ct.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,d.A)(function*(){return g.signInResolver(h)})()}}class _r{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>ts._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new _r(h)}getSession(){var h=this;return(0,d.A)(function*(){return Pr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var E=this;return(0,d.A)(function*(){const j=h,ie=yield E.getSession(),We=yield ar(E.user,j._process(E.user.auth,ie,g));return yield E.user._updateTokensIfNecessary(We),E.user.reload()})()}unenroll(h){var g=this;return(0,d.A)(function*(){const E="string"==typeof h?h:h.uid,j=yield g.user.getIdToken();try{const ie=yield ar(g.user,function Hs(y,h){return Ne(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ue(y,h))}(g.user.auth,{idToken:j,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:We})=>We!==E),yield g.user._updateTokensIfNecessary(ie),yield g.user.reload()}catch(ie){throw ie}})()}}const tr=new WeakMap,lr="__sak";class zs{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(lr,"1"),this.storage.removeItem(lr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gs=(()=>{class y extends zs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=he(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const j=this.storage.getItem(E),ie=this.localCache[E];j!==ie&&g(E,ie,j)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((Ct,Qt,An)=>{this.notifyListeners(Ct,An)});const j=g.key;E?this.detachListener():this.stopPolling();const ie=()=>{const Ct=this.storage.getItem(j);!E&&this.localCache[j]===Ct||this.notifyListeners(j,Ct)},We=this.storage.getItem(j);!function z(){return(0,ee.lT)()&&10===document.documentMode}()||We===g.newValue||g.newValue===g.oldValue?ie():setTimeout(ie,10)}notifyListeners(g,E){this.localCache[g]=E;const j=this.listeners[g];if(j)for(const ie of Array.from(j))ie(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var j=()=>super._set,ie=this;return(0,d.A)(function*(){yield j().call(ie,g,E),ie.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,j=this;return(0,d.A)(function*(){const ie=yield E().call(j,g);return j.localCache[g]=JSON.stringify(ie),ie})()}_remove(g){var E=()=>super._remove,j=this;return(0,d.A)(function*(){yield E().call(j,g),delete j.localCache[g]})()}}return y.type="LOCAL",y})(),Vi=(()=>{class y extends zs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return y.type="SESSION",y})();let Ra=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(ie=>ie.isListeningto(g));if(E)return E;const j=new y(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,d.A)(function*(){const j=g,{eventId:ie,eventType:We,data:Ct}=j.data,Qt=E.handlersMap[We];if(null==Qt||!Qt.size)return;j.ports[0].postMessage({status:"ack",eventId:ie,eventType:We});const An=Array.from(Qt).map(function(){var On=(0,d.A)(function*(Wi){return Wi(j.origin,Ct)});return function(Wi){return On.apply(this,arguments)}}()),$n=yield function ks(y){return Promise.all(y.map(function(){var h=(0,d.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return h.apply(this,arguments)}}()))}(An);j.ports[0].postMessage({status:"done",eventId:ie,eventType:We,response:$n})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function wo(y="",h=10){let g="";for(let E=0;E<h;E++)g+=Math.floor(10*Math.random());return y+g}class yl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,E=50){var j=this;return(0,d.A)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let We,Ct;return new Promise((Qt,An)=>{const $n=wo("",20);ie.port1.start();const On=setTimeout(()=>{An(new Error("unsupported_event"))},E);Ct={messageChannel:ie,onMessage(Wi){const ga=Wi;if(ga.data.eventId===$n)switch(ga.data.status){case"ack":clearTimeout(On),We=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),Qt(ga.data.response);break;default:clearTimeout(On),clearTimeout(We),An(new Error("invalid_response"))}}},j.handlers.add(Ct),ie.port1.addEventListener("message",Ct.onMessage),j.target.postMessage({eventType:h,eventId:$n,data:g},[ie.port2])}).finally(()=>{Ct&&j.removeMessageHandler(Ct)})})()}}function li(){return window}function Hl(){return typeof li().WorkerGlobalScope<"u"&&"function"==typeof li().importScripts}function ys(){return(ys=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Li="firebaseLocalStorageDb",Ei="firebaseLocalStorage",Ui="fbase_key";class Ma{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ws(y,h){return y.transaction([Ei],h?"readwrite":"readonly").objectStore(Ei)}function So(){const y=indexedDB.open(Li,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Ei,{keyPath:Ui})}catch(j){g(j)}}),y.addEventListener("success",(0,d.A)(function*(){const E=y.result;E.objectStoreNames.contains(Ei)?h(E):(E.close(),yield function Di(){const y=indexedDB.deleteDatabase(Li);return new Ma(y).toPromise()}(),h(yield So()))}))})}function Pa(y,h,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,d.A)(function*(y,h,g){const E=Ws(y,!0).put({[Ui]:h,value:g});return new Ma(E).toPromise()})).apply(this,arguments)}function $o(){return($o=(0,d.A)(function*(y,h){const g=Ws(y,!1).get(h),E=yield new Ma(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function pc(y,h){const g=Ws(y,!0).delete(h);return new Ma(g).toPromise()}const Wl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.A)(function*(){return g.db||(g.db=yield So()),g.db})()}_withRetries(g){var E=this;return(0,d.A)(function*(){let j=0;for(;;)try{const ie=yield E._openDb();return yield g(ie)}catch(ie){if(j++>3)throw ie;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.A)(function*(){return Hl()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.A)(function*(){g.receiver=Ra._getInstance(function Il(){return Hl()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,d.A)(function*(j,ie){return{keyProcessed:(yield g._poll()).includes(ie.key)}});return function(j,ie){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,d.A)(function*(j,ie){return["keyChanged"]});return function(j,ie){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.A)(function*(){var E,j;if(g.activeServiceWorker=yield function zl(){return ys.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new yl(g.activeServiceWorker);const ie=yield g.sender._send("ping",{},800);ie&&null!==(E=ie[0])&&void 0!==E&&E.fulfilled&&null!==(j=ie[0])&&void 0!==j&&j.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,d.A)(function*(){if(E.sender&&E.activeServiceWorker&&function hc(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const g=yield So();return yield Pa(g,lr,"1"),yield pc(g,lr),!0}catch{}return!1})()}_withPendingWrite(g){var E=this;return(0,d.A)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var j=this;return(0,d.A)(function*(){return j._withPendingWrite((0,d.A)(function*(){return yield j._withRetries(ie=>Pa(ie,g,E)),j.localCache[g]=E,j.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,d.A)(function*(){const j=yield E._withRetries(ie=>function El(y,h){return $o.apply(this,arguments)}(ie,g));return E.localCache[g]=j,j})()}_remove(g){var E=this;return(0,d.A)(function*(){return E._withPendingWrite((0,d.A)(function*(){return yield E._withRetries(j=>pc(j,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.A)(function*(){const E=yield g._withRetries(We=>{const Ct=Ws(We,!1).getAll();return new Ma(Ct).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const j=[],ie=new Set;if(0!==E.length)for(const{fbase_key:We,value:Ct}of E)ie.add(We),JSON.stringify(g.localCache[We])!==JSON.stringify(Ct)&&(g.notifyListeners(We,Ct),j.push(We));for(const We of Object.keys(g.localCache))g.localCache[We]&&!ie.has(We)&&(g.notifyListeners(We,null),j.push(We));return j})()}notifyListeners(g,E){this.localCache[g]=E;const j=this.listeners[g];if(j)for(const ie of Array.from(j))ie(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),k=1e12;class oe{constructor(h){this.auth=h,this.counter=k,this._widgets=new Map}render(h,g){const E=this.counter;return this._widgets.set(E,new ue(h,this.auth.name,g||{})),this.counter++,E}reset(h){var g;const E=h||k;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(h){var g;return(null===(g=this._widgets.get(h||k))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,d.A)(function*(){var E;return null===(E=g._widgets.get(h||k))||void 0===E||E.execute(),""})()}}class ue{constructor(h,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof h?document.getElementById(h):h;Pe(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function At(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yt=co("rcb"),Dt=new Ie(3e4,6e4);class bn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=li().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Pe(function fr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Kt(li().grecaptcha)?Promise.resolve(li().grecaptcha):new Promise((E,j)=>{const ie=li().setTimeout(()=>{j(Re(h,"network-request-failed"))},Dt.get());li()[Yt]=()=>{li().clearTimeout(ie),delete li()[Yt];const Ct=li().grecaptcha;if(!Ct||!Kt(Ct))return void j(Re(h,"internal-error"));const Qt=Ct.render;Ct.render=(An,$n)=>{const On=Qt(An,$n);return this.counter++,On},this.hostLanguage=g,E(Ct)},ii(`${function _i(){return Jr.recaptchaV2Script}()}?${(0,ee.Am)({onload:Yt,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ie),j(Re(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=li().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class si{load(h){return(0,d.A)(function*(){return new oe(h)})()}clearedOneInstance(){}}const Cr="recaptcha",hi={theme:"light",type:"image"};class so{constructor(h,g,E=Object.assign({},hi)){this.parameters=E,this.type=Cr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(h),this.isInvisible="invisible"===this.parameters.size,Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof g?document.getElementById(g):g;Pe(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new si:new bn,this.validateStartingState()}verify(){var h=this;return(0,d.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(g)||new Promise(ie=>{const We=Ct=>{Ct&&(h.tokenChangeListeners.delete(We),ie(Ct))};h.tokenChangeListeners.add(We),h.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof h)h(g);else if("string"==typeof h){const E=li()[h];"function"==typeof E&&E(g)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.A)(function*(){Pe(Jt()&&!Hl(),h.auth,"internal-error"),yield function Ro(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Me(y){return Oe.apply(this,arguments)}(h.auth);Pe(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class da{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=oo._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Ho(){return(Ho=(0,d.A)(function*(y,h,g){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Sn(y),j=yield Ks(E,h,(0,ee.Ku)(g));return new da(j,ie=>M(E,ie))})).apply(this,arguments)}function Al(){return(Al=(0,d.A)(function*(y,h,g){const E=(0,ee.Ku)(y);yield cl(!1,E,"phone");const j=yield Ks(E.auth,h,(0,ee.Ku)(g));return new da(j,ie=>$(E,ie))})).apply(this,arguments)}function ha(){return(ha=(0,d.A)(function*(y,h,g){const E=(0,ee.Ku)(y);if((0,Z._isFirebaseServerApp)(E.auth.app))return Promise.reject(Ye(E.auth));const j=yield Ks(E.auth,h,(0,ee.Ku)(g));return new da(j,ie=>rn(E,ie))})).apply(this,arguments)}function Ks(y,h,g){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,d.A)(function*(y,h,g){var E;const j=yield g.verify();try{let ie;if(Pe("string"==typeof j,y,"argument-error"),Pe(g.type===Cr,y,"argument-error"),ie="string"==typeof h?{phoneNumber:h}:h,"session"in ie){const We=ie.session;if("phoneNumber"in ie)return Pe("enroll"===We.type,y,"internal-error"),(yield function mi(y,h){return Ne(y,"POST","/v2/accounts/mfaEnrollment:start",Ue(y,h))}(y,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Pe("signin"===We.type,y,"internal-error");const Ct=(null===(E=ie.multiFactorHint)||void 0===E?void 0:E.uid)||ie.multiFactorUid;return Pe(Ct,y,"missing-multi-factor-info"),(yield function Bf(y,h){return Ne(y,"POST","/v2/accounts/mfaSignIn:start",Ue(y,h))}(y,{mfaPendingCredential:We.credential,mfaEnrollmentId:Ct,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function kr(y,h){return Wr.apply(this,arguments)}(y,{phoneNumber:ie.phoneNumber,recaptchaToken:j});return We}}finally{g._reset()}}),Wa.apply(this,arguments)}function Cl(){return(Cl=(0,d.A)(function*(y,h){const g=(0,ee.Ku)(y);if((0,Z._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ye(g.auth));yield Kr(g,h)})).apply(this,arguments)}let Kl=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Sn(g)}verifyPhoneNumber(g,E){return Ks(this.auth,g,(0,ee.Ku)(E))}static credential(g,E){return oo._fromVerification(g,E)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:j}=g;return E&&j?oo._fromTokenResponse(E,j):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Lr(y,h){return h?Dn(h):(Pe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ql extends oi{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return dn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return dn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return dn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Au(y){return hl(y.auth,new ql(y),y.bypassAuthState)}function Go(y){const{auth:h,user:g}=y;return Pe(g,h,"internal-error"),Co(g,new ql(y),y.bypassAuthState)}function Bg(y){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,d.A)(function*(y){const{auth:h,user:g}=y;return Pe(g,h,"internal-error"),Kr(g,new ql(y),y.bypassAuthState)})).apply(this,arguments)}class Ka{constructor(h,g,E,j,ie=!1){this.auth=h,this.resolver=E,this.user=j,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,d.A)(function*(E,j){h.pendingPromise={resolve:E,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ie){h.reject(ie)}});return function(E,j){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,d.A)(function*(){const{urlResponse:E,sessionId:j,postBody:ie,tenantId:We,error:Ct,type:Qt}=h;if(Ct)return void g.reject(Ct);const An={auth:g.auth,requestUri:E,sessionId:j,tenantId:We||void 0,postBody:ie||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Qt)(An))}catch($n){g.reject($n)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Au;case"linkViaPopup":case"linkViaRedirect":return Bg;case"reauthViaPopup":case"reauthViaRedirect":return Go;default:ve(this.auth,"internal-error")}}resolve(h){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wo=new Ie(2e3,1e4);function vc(){return(vc=(0,d.A)(function*(y,h,g){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Re(y,"operation-not-supported-in-this-environment"));const E=Sn(y);bt(y,h,es);const j=Lr(E,g);return new dd(E,"signInViaPopup",h,j).executeNotNull()})).apply(this,arguments)}function Is(){return(Is=(0,d.A)(function*(y,h,g){const E=(0,ee.Ku)(y);if((0,Z._isFirebaseServerApp)(E.auth.app))return Promise.reject(Re(E.auth,"operation-not-supported-in-this-environment"));bt(E.auth,h,es);const j=Lr(E.auth,g);return new dd(E.auth,"reauthViaPopup",h,j,E).executeNotNull()})).apply(this,arguments)}function cd(){return(cd=(0,d.A)(function*(y,h,g){const E=(0,ee.Ku)(y);bt(E.auth,h,es);const j=Lr(E.auth,g);return new dd(E.auth,"linkViaPopup",h,j,E).executeNotNull()})).apply(this,arguments)}let dd=(()=>{class y extends Ka{constructor(g,E,j,ie,We){super(g,E,ie,We),this.provider=j,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.A)(function*(){const E=yield g.execute();return Pe(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,d.A)(function*(){zt(1===g.filter.length,"Popup operations only handle one event");const E=wo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(Re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,j;this.pollId=null!==(j=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Wo.get())};g()}}return y.currentPopupAction=null,y})();const hd="pendingRedirect",fa=new Map;class Na extends Ka{constructor(h,g,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,d.A)(function*(){let E=fa.get(g.auth._key());if(!E){try{const ie=(yield function pa(y,h){return Cu.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;E=()=>Promise.resolve(ie)}catch(j){E=()=>Promise.reject(j)}fa.set(g.auth._key(),E)}return g.bypassAuthState||fa.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,E=this;return(0,d.A)(function*(){if("signInViaRedirect"===h.type)return g().call(E,h);if("unknown"!==h.type){if(h.eventId){const j=yield E.auth._redirectUserForId(h.eventId);if(j)return E.user=j,g().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,d.A)(function*(y,h){const g=$f(h),E=_c(y);if(!(yield E._isAvailable()))return!1;const j="true"===(yield E._get(g));return yield E._remove(g),j})).apply(this,arguments)}function qs(y,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.A)(function*(y,h){return _c(y)._set($f(h),"true")})).apply(this,arguments)}function Ql(y,h){fa.set(y._key(),h)}function _c(y){return Dn(y._redirectPersistence)}function $f(y){return at(hd,y.config.apiKey,y.name)}function Eh(y,h,g){return function Ah(y,h,g){return pd.apply(this,arguments)}(y,h,g)}function pd(){return(pd=(0,d.A)(function*(y,h,g){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Sn(y);bt(y,h,es),yield E._initializationPromise;const j=Lr(E,g);return yield qs(j,E),j._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function yc(y,h,g){return function Yl(y,h,g){return Ic.apply(this,arguments)}(y,h,g)}function Ic(){return(Ic=(0,d.A)(function*(y,h,g){const E=(0,ee.Ku)(y);if(bt(E.auth,h,es),(0,Z._isFirebaseServerApp)(E.auth.app))return Promise.reject(Ye(E.auth));yield E.auth._initializationPromise;const j=Lr(E.auth,g);yield qs(j,E.auth);const ie=yield vd(E);return j._openRedirect(E.auth,h,"reauthViaRedirect",ie)})).apply(this,arguments)}function gd(y,h,g){return function $g(y,h,g){return md.apply(this,arguments)}(y,h,g)}function md(){return(md=(0,d.A)(function*(y,h,g){const E=(0,ee.Ku)(y);bt(E.auth,h,es),yield E.auth._initializationPromise;const j=Lr(E.auth,g);yield cl(!1,E,h.providerId),yield qs(j,E.auth);const ie=yield vd(E);return j._openRedirect(E.auth,h,"linkViaRedirect",ie)})).apply(this,arguments)}function Gt(){return(Gt=(0,d.A)(function*(y,h){return yield Sn(y)._initializationPromise,Ir(y,h,!1)})).apply(this,arguments)}function Ir(y,h){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,d.A)(function*(y,h,g=!1){if((0,Z._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Sn(y),j=Lr(E,h),We=yield new Na(E,j,g).execute();return We&&!g&&(delete We.user._redirectEventId,yield E._persistUserIfCurrent(We.user),yield E._setRedirectUser(null,h)),We})).apply(this,arguments)}function vd(y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.A)(function*(y){const h=wo(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class qa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(g=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function xa(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ac(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var E;if(h.error&&!Ac(h)){const j=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Re(this.auth,j))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const E=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(os(h))}saveEventToCache(h){this.cachedEventUids.add(os(h)),this.lastProcessedEventTime=Date.now()}}function os(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Ac({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Dl(y){return Th.apply(this,arguments)}function Th(){return(Th=(0,d.A)(function*(y,h={}){return Ne(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Du=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jf=/^https?/;function Cc(){return(Cc=(0,d.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Dl(y);for(const g of h)try{if(to(g))return}catch{}ve(y,"unauthorized-domain")})).apply(this,arguments)}function to(y){const h=cn(),{protocol:g,hostname:E}=new URL(h);if(y.startsWith("chrome-extension://")){const We=new URL(y);return""===We.hostname&&""===E?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&We.hostname===E}if(!jf.test(g))return!1;if(Du.test(y))return E===y;const j=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(E)}const Oa=new Ie(3e4,6e4);function Dh(){const y=li().___jsl;if(null!=y&&y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Qs=null;const zf=new Ie(5e3,15e3),_d="__/auth/iframe",Gf="emulator/auth/iframe",bh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wh(y){const h=y.config;Pe(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?_e(h,Gf):`https://${y.config.authDomain}/${_d}`,E={apiKey:h.apiKey,appName:y.name,v:Z.SDK_VERSION},j=yd.get(y.config.apiHost);j&&(E.eid=j);const ie=y._getFrameworks();return ie.length&&(E.fw=ie.join(",")),`${g}?${(0,ee.Am)(E).slice(1)}`}function Xa(){return Xa=(0,d.A)(function*(y){const h=yield function Hf(y){return Qs=Qs||function Xs(y){return new Promise((h,g)=>{var E,j,ie;function We(){Dh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Dh(),g(Re(y,"network-request-failed"))},timeout:Oa.get()})}if(null!==(j=null===(E=li().gapi)||void 0===E?void 0:E.iframes)&&void 0!==j&&j.Iframe)h(gapi.iframes.getContext());else{if(null===(ie=li().gapi)||void 0===ie||!ie.load){const Ct=co("iframefcb");return li()[Ct]=()=>{gapi.load?We():g(Re(y,"network-request-failed"))},ii(`${function ei(){return Jr.gapiScript}()}?onload=${Ct}`).catch(Qt=>g(Qt))}We()}}).catch(h=>{throw Qs=null,h})}(y),Qs}(y),g=li().gapi;return Pe(g,y,"internal-error"),h.open({where:document.body,url:wh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bh,dontclear:!0},E=>new Promise(function(){var j=(0,d.A)(function*(ie,We){yield E.restyle({setHideOnLeave:!1});const Ct=Re(y,"network-request-failed"),Qt=li().setTimeout(()=>{We(Ct)},zf.get());function An(){li().clearTimeout(Qt),ie(E)}E.ping(An).then(An,()=>{We(Ct)})});return function(ie,We){return j.apply(this,arguments)}}()))}),Xa.apply(this,arguments)}const bu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const po="__/auth/handler",Bi="emulator/auth/handler",bi=encodeURIComponent("fac");function Nh(y,h,g,E,j,ie){return xh.apply(this,arguments)}function xh(){return(xh=(0,d.A)(function*(y,h,g,E,j,ie){Pe(y.config.authDomain,y,"auth-domain-config-required"),Pe(y.config.apiKey,y,"invalid-api-key");const We={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:E,v:Z.SDK_VERSION,eventId:j};if(h instanceof es){h.setDefaultLanguage(y.languageCode),We.providerId=h.providerId||"",(0,ee.Im)(h.getCustomParameters())||(We.customParameters=JSON.stringify(h.getCustomParameters()));for(const[$n,On]of Object.entries(ie||{}))We[$n]=On}if(h instanceof Ni){const $n=h.getScopes().filter(On=>""!==On);$n.length>0&&(We.scopes=$n.join(","))}y.tenantId&&(We.tid=y.tenantId);const Ct=We;for(const $n of Object.keys(Ct))void 0===Ct[$n]&&delete Ct[$n];const Qt=yield y._getAppCheckToken(),An=Qt?`#${bi}=${encodeURIComponent(Qt)}`:"";return`${function Hg({config:y}){return y.emulator?_e(y,Bi):`https://${y.authDomain}/${po}`}(y)}?${(0,ee.Am)(Ct).slice(1)}${An}`})).apply(this,arguments)}const Dc="webStorageSupport",wu=class Kf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vi,this._completeRedirectFn=Ir,this._overrideRedirectResult=Ql}_openPopup(h,g,E,j){var ie=this;return(0,d.A)(function*(){var We;zt(null===(We=ie.eventManagers[h._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const Ct=yield Nh(h,g,E,cn(),j);return function Ph(y,h,g,E=500,j=600){const ie=Math.max((window.screen.availHeight-j)/2,0).toString(),We=Math.max((window.screen.availWidth-E)/2,0).toString();let Ct="";const Qt=Object.assign(Object.assign({},bu),{width:E.toString(),height:j.toString(),top:ie,left:We}),An=(0,ee.ZQ)().toLowerCase();g&&(Ct=Pn(An)?"_blank":g),zr(An)&&(h=h||"http://localhost",Qt.scrollbars="yes");const $n=Object.entries(Qt).reduce((Wi,[ga,ku])=>`${Wi}${ga}=${ku},`,"");if(function te(y=(0,ee.ZQ)()){var h;return Ri(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(An)&&"_self"!==Ct)return function jg(y,h){const g=document.createElement("a");g.href=y,g.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(h||"",Ct),new Mh(null);const On=window.open(h||"",Ct,$n);Pe(On,y,"popup-blocked");try{On.focus()}catch{}return new Mh(On)}(h,Ct,wo())})()}_openRedirect(h,g,E,j){var ie=this;return(0,d.A)(function*(){return yield ie._originValidation(h),function Wn(y){li().location.href=y}(yield Nh(h,g,E,cn(),j)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:j,promise:ie}=this.eventManagers[g];return j?Promise.resolve(j):(zt(ie,"If manager is not set, promise should be"),ie)}const E=this.initAndGetManager(h);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(h){var g=this;return(0,d.A)(function*(){const E=yield function Tc(y){return Xa.apply(this,arguments)}(h),j=new qa(h);return E.register("authEvent",ie=>(Pe(null==ie?void 0:ie.authEvent,h,"invalid-auth-event"),{status:j.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:j},g.iframes[h._key()]=E,j})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Dc,{type:Dc},j=>{var ie;const We=null===(ie=null==j?void 0:j[0])||void 0===ie?void 0:ie[Dc];void 0!==We&&g(!!We),ve(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Zl(y){return Cc.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return he()||Br()||Ri()}};class Qa{constructor(h){this.factorId=h}_process(h,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,E);case"signin":return this._finalizeSignIn(h,g.credential);default:return Lt("unexpected MultiFactorSessionType")}}}class Ys extends Qa{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ys(h)}_finalizeEnroll(h,g,E){return function Fi(y,h){return Ne(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ue(y,h))}(h,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function A(y,h){return Ne(y,"POST","/v2/accounts/mfaSignIn:finalize",Ue(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qf=(()=>{class y{constructor(){}static assertion(g){return Ys._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var wc="@firebase/auth";class zg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,d.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(E=>{h((null==E?void 0:E.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eu(){return window}(0,ee.XA)("authIdTokenMaxAge"),function Jn(y){Jr=y}({loadJS:y=>new Promise((h,g)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=h,E.onerror=j=>{const ie=Re("internal-error");ie.customData=j,g(ie)},E.type="text/javascript",E.charset="UTF-8",function Kg(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Rc(y){(0,Z._registerComponent)(new De.uA("auth",(h,{options:g})=>{const E=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),ie=h.getProvider("app-check-internal"),{apiKey:We,authDomain:Ct}=E.options;Pe(We&&!We.includes(":"),"invalid-api-key",{appName:E.name});const Qt={apiKey:We,authDomain:Ct,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K(y)},An=new Un(E,j,ie,Qt);return function hs(y,h){const g=(null==h?void 0:h.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Dn);null!=h&&h.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(E,null==h?void 0:h.popupRedirectResolver)}(An,g),An},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,E)=>{h.getProvider("auth-internal").initialize()})),(0,Z._registerComponent)(new De.uA("auth-internal",h=>{const g=Sn(h.getProvider("auth").getImmediate());return new zg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Z.registerVersion)(wc,"1.7.9",function Jl(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,Z.registerVersion)(wc,"1.7.9","esm2017")}("Browser");function Es(){return Es=(0,d.A)(function*(y,h,g){var E;const{BuildInfo:j}=eu();zt(h.sessionId,"AuthEvent did not contain a session ID");const ie=yield function Ru(y){return Yf.apply(this,arguments)}(h.sessionId),We={};return Ri()?We.ibi=j.packageName:Si()?We.apn=j.packageName:ve(y,"operation-not-supported-in-this-environment"),j.displayName&&(We.appDisplayName=j.displayName),We.sessionId=ie,Nh(y,g,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,We)}),Es.apply(this,arguments)}function ka(){return(ka=(0,d.A)(function*(y){const{BuildInfo:h}=eu(),g={};Ri()?g.iosBundleId=h.packageName:Si()?g.androidPackageName=h.packageName:ve(y,"operation-not-supported-in-this-environment"),yield Dl(y,g)})).apply(this,arguments)}function Ad(){return(Ad=(0,d.A)(function*(y,h,g){const{cordova:E}=eu();let j=()=>{};try{yield new Promise((ie,We)=>{let Ct=null;function Qt(){var On;ie();const Wi=null===(On=E.plugins.browsertab)||void 0===On?void 0:On.close;"function"==typeof Wi&&Wi(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function An(){Ct||(Ct=window.setTimeout(()=>{We(Re(y,"redirect-cancelled-by-user"))},2e3))}function $n(){"visible"===(null==document?void 0:document.visibilityState)&&An()}h.addPassiveListener(Qt),document.addEventListener("resume",An,!1),Si()&&document.addEventListener("visibilitychange",$n,!1),j=()=>{h.removePassiveListener(Qt),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",$n,!1),Ct&&window.clearTimeout(Ct)}})}finally{j()}})).apply(this,arguments)}function Yf(){return(Yf=(0,d.A)(function*(y){const h=function Cd(y){if(zt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let E=0;E<y.length;E++)g[E]=y.charCodeAt(E);return g}(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Zf extends qa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.A)(function*(){yield h.initPromise})()}}function Ja(y){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,d.A)(function*(y){const h=yield tu()._get(bd(y));return h&&(yield tu()._remove(bd(y))),h})).apply(this,arguments)}function Mu(){const y=[];for(let g=0;g<20;g++){const E=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return y.join("")}function tu(){return Dn(Gs)}function bd(y){return at("authEvent",y.config.apiKey,y.name)}function Rl(y){if(null==y||!y.includes("?"))return{};const[h,...g]=y.split("?");return(0,ee.I9)(g.join("?"))}const Sd=class qg{constructor(){this._redirectPersistence=Vi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ir,this._overrideRedirectResult=Ql}_initialize(h){var g=this;return(0,d.A)(function*(){const E=h._key();let j=g.eventManagers.get(E);return j||(j=new Zf(h),g.eventManagers.set(E,j),g.attachCallbackListeners(h,j)),j})()}_openPopup(h){ve(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,E,j){var ie=this;return(0,d.A)(function*(){!function Oh(y){var h,g,E,j,ie,We,Ct,Qt,An,$n;const On=eu();Pe("function"==typeof(null===(h=null==On?void 0:On.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Pe(typeof(null===(g=null==On?void 0:On.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Pe("function"==typeof(null===(ie=null===(j=null===(E=null==On?void 0:On.cordova)||void 0===E?void 0:E.plugins)||void 0===j?void 0:j.browsertab)||void 0===ie?void 0:ie.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===(Qt=null===(Ct=null===(We=null==On?void 0:On.cordova)||void 0===We?void 0:We.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===Qt?void 0:Qt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Pe("function"==typeof(null===($n=null===(An=null==On?void 0:On.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===$n?void 0:$n.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const We=yield ie._initialize(h);yield We.initialized(),We.resetRedirect(),function fd(){fa.clear()}(),yield ie._originValidation(h);const Ct=function Zs(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Mu(),postBody:null,tenantId:y.tenantId,error:Re(y,"no-auth-event")}}(h,E,j);yield function Td(y,h){return tu()._set(bd(y),h)}(h,Ct);const Qt=yield function wl(y,h,g){return Es.apply(this,arguments)}(h,Ct,g),An=yield function Qf(y){const{cordova:h}=eu();return new Promise(g=>{h.plugins.browsertab.isAvailable(E=>{let j=null;E?h.plugins.browsertab.openUrl(y):j=h.InAppBrowser.open(y,function dr(y=(0,ee.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(j)})})}(Qt);return function Su(y,h,g){return Ad.apply(this,arguments)}(h,We,An)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Pc(y){return ka.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:E,handleOpenURL:j,BuildInfo:ie}=eu(),We=setTimeout((0,d.A)(function*(){yield Ja(h),g.onEvent(Gi())}),500),Ct=function(){var $n=(0,d.A)(function*(On){clearTimeout(We);const Wi=yield Ja(h);let ga=null;Wi&&null!=On&&On.url&&(ga=function Dd(y,h){var g,E;const j=function Fh(y){const h=Rl(y),g=h.link?decodeURIComponent(h.link):void 0,E=Rl(g).link,j=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Rl(j).link||j||E||g||y}(h);if(j.includes("/__/auth/callback")){const ie=Rl(j),We=ie.firebaseError?function Jf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(ie.firebaseError)):null,Ct=null===(E=null===(g=null==We?void 0:We.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Qt=Ct?Re(Ct):null;return Qt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:j,postBody:null}}return null}(Wi,On.url)),g.onEvent(ga||Gi())});return function(Wi){return $n.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,Ct);const Qt=j,An=`${ie.packageName.toLowerCase()}://`;eu().handleOpenURL=function(){var $n=(0,d.A)(function*(On){if(On.toLowerCase().startsWith(An)&&Ct({url:On}),"function"==typeof Qt)try{Qt(On)}catch(Wi){console.error(Wi)}});return function(On){return $n.apply(this,arguments)}}()}};function Gi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Re("no-auth-event")}}function Js(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function ep(y=(0,ee.ZQ)()){return!("file:"!==Js()&&"ionic:"!==Js()&&"capacitor:"!==Js()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function el(){try{const y=self.localStorage,h=wo();if(y)return y.setItem(h,"1"),y.removeItem(h),!function np(y=(0,ee.ZQ)()){return function Lh(){return(0,ee.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Qg(y=(0,ee.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,ee.zW)()}catch{return xc()&&(0,ee.zW)()}return!1}function xc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tl(){return(function lo(){return"http:"===Js()||"https:"===Js()}()||(0,ee.sr)()||ep())&&!function tp(){return(0,ee.lV)()||(0,ee.Ll)()}()&&el()&&!xc()}function Pu(){return ep()&&typeof document<"u"}function nl(){return(nl=(0,d.A)(function*(){return!!Pu()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const As={LOCAL:"local",NONE:"none",SESSION:"session"},ru=Pe,Oc="persistence";function kc(y){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,d.A)(function*(y){yield y._initializationPromise;const h=Yg(),g=at(Oc,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function Yg(){var y;try{return(null===(y=function Uh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Rd=Pe;class rl{constructor(){this.browserResolver=Dn(wu),this.cordovaResolver=Dn(Sd),this.underlyingResolver=null,this._redirectPersistence=Vi,this._completeRedirectFn=Ir,this._overrideRedirectResult=Ql}_initialize(h){var g=this;return(0,d.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,E,j){var ie=this;return(0,d.A)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(h,g,E,j)})()}_openRedirect(h,g,E,j){var ie=this;return(0,d.A)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(h,g,E,j)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Pu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.A)(function*(){if(h.underlyingResolver)return;const g=yield function nu(){return nl.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function _o(y){return y.unwrap()}function jh(y){return Fc(y)}function Fc(y){const{_tokenResponse:h}=y instanceof ee.g?y.customData:y;if(!h)return null;if(!(y instanceof ee.g)&&"temporaryProof"in h&&"phoneNumber"in h)return Kl.credentialFromResult(y);const g=h.providerId;if(!g||g===Ke.PASSWORD)return null;let E;switch(g){case Ke.GOOGLE:E=Zi;break;case Ke.FACEBOOK:E=ps;break;case Ke.GITHUB:E=Ns;break;case Ke.TWITTER:E=vo;break;default:const{oauthIdToken:j,oauthAccessToken:ie,oauthTokenSecret:We,pendingToken:Ct,nonce:Qt}=h;return ie||We||j||Ct?Ct?g.startsWith("saml.")?hr._create(g,Ct):Mn._fromParams({providerId:g,signInMethod:g,pendingToken:Ct,idToken:j,accessToken:ie}):new Oo(g).credential({idToken:j,accessToken:ie,rawNonce:Qt}):null}return y instanceof ee.g?E.credentialFromError(y):E.credentialFromResult(y)}function Cs(y,h){return h.catch(g=>{throw g instanceof ee.g&&function Hh(y,h){var g;const E=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new Vc(y,function Bn(y,h){var g;const E=(0,ee.Ku)(y),j=h;return Pe(h.customData.operationType,E,"argument-error"),Pe(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),un._fromError(E,j)}(y,h));else if(E){const j=Fc(h),ie=h;j&&(ie.credential=j,ie.tenantId=E.tenantId||void 0,ie.email=E.email||void 0,ie.phoneNumber=E.phoneNumber||void 0)}}(y,g),g}).then(g=>{const j=g.user;return{operationType:g.operationType,credential:jh(g),additionalUserInfo:be(g),user:il.getOrCreate(j)}})}function Va(y,h){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,d.A)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:E=>Cs(y,g.confirm(E))}})).apply(this,arguments)}class Vc{constructor(h,g){this.resolver=g,this.auth=function Yv(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Cs(_o(this.auth),this.resolver.resolveSignIn(h))}}class il{constructor(h){this._delegate=h,this.multiFactor=function vs(y){const h=(0,ee.Ku)(y);return tr.has(h)||tr.set(h,_r._fromUser(h)),tr.get(h)}(h)}static getOrCreate(h){return il.USER_MAP.has(h)||il.USER_MAP.set(h,new il(h)),il.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,d.A)(function*(){return Cs(g.auth,$(g._delegate,h))})()}linkWithPhoneNumber(h,g){var E=this;return(0,d.A)(function*(){return Va(E.auth,function Eu(y,h,g){return Al.apply(this,arguments)}(E._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,d.A)(function*(){return Cs(g.auth,function Ih(y,h,g){return cd.apply(this,arguments)}(g._delegate,h,rl))})()}linkWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield kc(Sn(g.auth)),gd(g._delegate,h,rl)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,d.A)(function*(){return Cs(g.auth,rn(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Va(this.auth,function gc(y,h,g){return ha.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Cs(this.auth,function Xl(y,h,g){return Is.apply(this,arguments)}(this._delegate,h,rl))}reauthenticateWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield kc(Sn(g.auth)),yc(g._delegate,h,rl)})()}sendEmailVerification(h){return function yr(y,h){return _u.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,d.A)(function*(){return yield function ja(y,h){return aa.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Ga(y,h){const g=(0,ee.Ku)(y);return(0,Z._isFirebaseServerApp)(g.auth.app)?Promise.reject(Ye(g.auth)):rs(g,h,null)}(this._delegate,h)}updatePassword(h){return function ml(y,h){return rs((0,ee.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function zo(y,h){return Cl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function wa(y,h){return gl.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function ba(y,h,g){return $s.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}il.USER_MAP=new WeakMap;const xu=Pe;let ol=(()=>{class y{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=g.options;xu(j,"invalid-api-key",{appName:g.name}),xu(j,"invalid-api-key",{appName:g.name});const ie=typeof window<"u"?rl:void 0;this._delegate=E.initialize({options:{persistence:zh(j,g.name),popupRedirectResolver:ie}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?il.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function er(y,h,g){const E=Sn(y);Pe(E._canInitEmulator,E,"emulator-config-failed"),Pe(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const j=!(null==g||!g.disableWarnings),ie=wr(h),{host:We,port:Ct}=function Ia(y){const h=wr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(E);if(j){const ie=j[1];return{host:ie,port:Ms(E.substr(ie.length+1))}}{const[ie,We]=E.split(":");return{host:ie,port:Ms(We)}}}(h);E.config.emulator={url:`${ie}//${We}${null===Ct?"":`:${Ct}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:We,port:Ct,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Qo(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,E)}applyActionCode(g){return function ua(y,h){return Vo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Os(this._delegate,g)}confirmPasswordReset(g,E){return function zi(y,h,g){return la.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var j=this;return(0,d.A)(function*(){return Cs(j._delegate,function mu(y,h,g){return ns.apply(this,arguments)}(j._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function vu(y,h){return za.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function pl(y,h){const g=ho.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.A)(function*(){xu(tl(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function Tu(y,h){return Gt.apply(this,arguments)}(g._delegate,rl);return E?Cs(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Xg(y,h){Sn(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,E,j){const{next:ie,error:We,complete:Ct}=Zg(g,E,j);return this._delegate.onAuthStateChanged(ie,We,Ct)}onIdTokenChanged(g,E,j){const{next:ie,error:We,complete:Ct}=Zg(g,E,j);return this._delegate.onIdTokenChanged(ie,We,Ct)}sendSignInLinkToEmail(g,E){return function Lo(y,h,g){return ca.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function ki(y,h,g){return To.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,d.A)(function*(){let j;switch(function Ml(y,h){ru(Object.values(As).includes(h),y,"invalid-persistence-type"),(0,ee.lV)()?ru(h!==As.SESSION,y,"unsupported-persistence-type"):(0,ee.Ll)()?ru(h===As.NONE,y,"unsupported-persistence-type"):xc()?ru(h===As.NONE||h===As.LOCAL&&(0,ee.zW)(),y,"unsupported-persistence-type"):ru(h===As.NONE||el(),y,"unsupported-persistence-type")}(E._delegate,g),g){case As.SESSION:j=Vi;break;case As.LOCAL:j=(yield Dn(Wl)._isAvailable())?Wl:Gs;break;case As.NONE:j=Hr;break;default:return ve("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Cs(this._delegate,function Aa(y){return Ls.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Cs(this._delegate,M(this._delegate,g))}signInWithCustomToken(g){return Cs(this._delegate,function Hi(y,h){return Ji.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return Cs(this._delegate,function Bl(y,h,g){return(0,Z._isFirebaseServerApp)(y.app)?Promise.reject(Ye(y)):M((0,ee.Ku)(y),oa.credential(h,g)).catch(function(){var E=(0,d.A)(function*(j){throw"auth/password-does-not-meet-requirements"===j.code&&vr(y),j});return function(j){return E.apply(this,arguments)}}())}(this._delegate,g,E))}signInWithEmailLink(g,E){return Cs(this._delegate,function Ha(y,h,g){return Do.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return Va(this._delegate,function jo(y,h,g){return Ho.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,d.A)(function*(){return xu(tl(),E._delegate,"operation-not-supported-in-this-environment"),Cs(E._delegate,function mc(y,h,g){return vc.apply(this,arguments)}(E._delegate,g,rl))})()}signInWithRedirect(g){var E=this;return(0,d.A)(function*(){return xu(tl(),E._delegate,"operation-not-supported-in-this-environment"),yield kc(E._delegate),Eh(E._delegate,g,rl)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function fl(y,h){return Ul.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=As,y})();function Zg(y,h,g){let E=y;"function"!=typeof y&&({next:E,error:h,complete:g}=y);const j=E;return{next:We=>j(We&&il.getOrCreate(We)),error:h,complete:g}}function zh(y,h){const g=function $h(y,h){const g=Yg();if(!g)return[];const E=at(Oc,y,h);switch(g.getItem(E)){case As.NONE:return[Hr];case As.LOCAL:return[Wl,Vi];case As.SESSION:return[Vi];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(Wl)&&g.push(Wl),typeof window<"u")for(const E of[Gs,Vi])g.includes(E)||g.push(E);return g.includes(Hr)||g.push(Hr),g}class ea{constructor(){this.providerId="phone",this._delegate=new Kl(_o(f.A.auth()))}static credential(h,g){return Kl.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}ea.PHONE_SIGN_IN_METHOD=Kl.PHONE_SIGN_IN_METHOD,ea.PROVIDER_ID=Kl.PROVIDER_ID;const Ou=Pe;class rp{constructor(h,g,E=f.A.app()){var j;Ou(null===(j=E.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new so(E.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zv(y){y.INTERNAL.registerComponent(new De.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new ol(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:oa,FacebookAuthProvider:ps,GithubAuthProvider:Ns,GoogleAuthProvider:Zi,OAuthProvider:Oo,SAMLAuthProvider:ko,PhoneAuthProvider:ea,PhoneMultiFactorGenerator:qf,RecaptchaVerifier:rp,TwitterAuthProvider:vo,Auth:ol,AuthCredential:oi,Error:ee.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.14")}(f.A)},467:(vn,_t,L)=>{"use strict";function d(Z,ee,ae,de,De,Be,Ke){try{var Ce=Z[Be](Ke),ce=Ce.value}catch(Ve){return void ae(Ve)}Ce.done?ee(ce):Promise.resolve(ce).then(de,De)}function f(Z){return function(){var ee=this,ae=arguments;return new Promise(function(de,De){var Be=Z.apply(ee,ae);function Ke(ce){d(Be,de,De,Ke,Ce,"next",ce)}function Ce(ce){d(Be,de,De,Ke,Ce,"throw",ce)}Ke(void 0)})}}L.d(_t,{A:()=>f})},9842:(vn,_t,L)=>{"use strict";function d(ae){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ae)}function ee(ae,de,De){return(de=function Z(ae){var de=function f(ae,de){if("object"!=d(ae)||!ae)return ae;var De=ae[Symbol.toPrimitive];if(void 0!==De){var Be=De.call(ae,de||"default");if("object"!=d(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===de?String:Number)(ae)}(ae,"string");return"symbol"==d(de)?de:de+""}(de))in ae?Object.defineProperty(ae,de,{value:De,enumerable:!0,configurable:!0,writable:!0}):ae[de]=De,ae}L.d(_t,{A:()=>ee})},1635:(vn,_t,L)=>{"use strict";function ee(Y,Ae){var Xe={};for(var Ue in Y)Object.prototype.hasOwnProperty.call(Y,Ue)&&Ae.indexOf(Ue)<0&&(Xe[Ue]=Y[Ue]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(Ue=Object.getOwnPropertySymbols(Y);Ne<Ue.length;Ne++)Ae.indexOf(Ue[Ne])<0&&Object.prototype.propertyIsEnumerable.call(Y,Ue[Ne])&&(Xe[Ue[Ne]]=Y[Ue[Ne]])}return Xe}function ae(Y,Ae,Xe,Ue){var ot,Ne=arguments.length,tt=Ne<3?Ae:null===Ue?Ue=Object.getOwnPropertyDescriptor(Ae,Xe):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tt=Reflect.decorate(Y,Ae,Xe,Ue);else for(var Mt=Y.length-1;Mt>=0;Mt--)(ot=Y[Mt])&&(tt=(Ne<3?ot(tt):Ne>3?ot(Ae,Xe,tt):ot(Ae,Xe))||tt);return Ne>3&&tt&&Object.defineProperty(Ae,Xe,tt),tt}function Ve(Y,Ae,Xe,Ue){return new(Xe||(Xe=Promise))(function(tt,ot){function Mt(an){try{lt(Ue.next(an))}catch(Cn){ot(Cn)}}function En(an){try{lt(Ue.throw(an))}catch(Cn){ot(Cn)}}function lt(an){an.done?tt(an.value):function Ne(tt){return tt instanceof Xe?tt:new Xe(function(ot){ot(tt)})}(an.value).then(Mt,En)}lt((Ue=Ue.apply(Y,Ae||[])).next())})}function pe(Y){return this instanceof pe?(this.v=Y,this):new pe(Y)}function ve(Y,Ae,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ue=Xe.apply(Y,Ae||[]),tt=[];return Ne=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Mt("next"),Mt("throw"),Mt("return",function ot(Ft){return function(Kt){return Promise.resolve(Kt).then(Ft,Cn)}}),Ne[Symbol.asyncIterator]=function(){return this},Ne;function Mt(Ft,Kt){Ue[Ft]&&(Ne[Ft]=function(Nn){return new Promise(function(qt,Me){tt.push([Ft,Nn,qt,Me])>1||En(Ft,Nn)})},Kt&&(Ne[Ft]=Kt(Ne[Ft])))}function En(Ft,Kt){try{!function lt(Ft){Ft.value instanceof pe?Promise.resolve(Ft.value.v).then(an,Cn):kn(tt[0][2],Ft)}(Ue[Ft](Kt))}catch(Nn){kn(tt[0][3],Nn)}}function an(Ft){En("next",Ft)}function Cn(Ft){En("throw",Ft)}function kn(Ft,Kt){Ft(Kt),tt.shift(),tt.length&&En(tt[0][0],tt[0][1])}}function rt(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ae=Y[Symbol.asyncIterator];return Ae?Ae.call(Y):(Y=function ct(Y){var Ae="function"==typeof Symbol&&Symbol.iterator,Xe=Ae&&Y[Ae],Ue=0;if(Xe)return Xe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&Ue>=Y.length&&(Y=void 0),{value:Y&&Y[Ue++],done:!Y}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),Xe={},Ue("next"),Ue("throw"),Ue("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function Ue(tt){Xe[tt]=Y[tt]&&function(ot){return new Promise(function(Mt,En){!function Ne(tt,ot,Mt,En){Promise.resolve(En).then(function(lt){tt({value:lt,done:Mt})},ot)}(Mt,En,(ot=Y[tt](ot)).done,ot.value)})}}}L.d(_t,{AQ:()=>ve,Cg:()=>ae,N3:()=>pe,Tt:()=>ee,sH:()=>Ve,xN:()=>rt}),"function"==typeof SuppressedError&&SuppressedError}},vn=>{vn(vn.s=357)}]);